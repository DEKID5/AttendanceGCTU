/*! For license information please see main.4d3e6fa1.js.LICENSE.txt */
(()=>{"use strict";var t={175:(t,e)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function u(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function l(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function c(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},730:(t,e,n)=>{var r=n(43),o=n(853);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(t,e,n,r,o,i,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function w(t,e,n,r){var o=m.hasOwnProperty(e)?m[e]:null;(null!==o?0!==o.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=k&&t[k]||t["@@iterator"])?t:null}var L,B=Object.assign;function F(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function j(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case b:return"Fragment";case _:return"Portal";case S:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case I:return(t._context.displayName||"Context")+".Provider";case N:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case x:e=t._payload,t=t._init;try{return z(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function G(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(zr){return t.body}}function K(t,e){var n=e.checked;return B({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=G(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function Z(t,e){Q(t,e);var n=G(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+G(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(i(91));return B({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ot(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(i(92));if(et(n)){if(1<n.length)throw Error(i(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:G(n)}}function it(t,e){var n=G(e.value),r=G(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var yt=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(i(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(i(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(i(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,bt=null,At=null;function St(t){if(t=Co(t)){if("function"!==typeof _t)throw Error(i(280));var e=t.stateNode;e&&(e=bo(e),_t(t.stateNode,t.type,e))}}function It(t){bt?At?At.push(t):At=[t]:bt=t}function Tt(){if(bt){var t=bt,e=At;if(At=bt=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Nt(t,e){return t(e)}function Rt(){}var Ot=!1;function Dt(t,e,n){if(Ot)return t(e,n);Ot=!0;try{return Nt(t,e,n)}finally{Ot=!1,(null!==bt||null!==At)&&(Rt(),Tt())}}function xt(t,e){var n=t.stateNode;if(null===n)return null;var r=bo(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(i(231,e,typeof n));return n}var Mt=!1;if(c)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch(ct){Mt=!1}function Pt(t,e,n,r,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Lt=!1,Bt=null,Ft=!1,Vt=null,Ut={onError:function(t){Lt=!0,Bt=t}};function jt(t,e,n,r,o,i,a,s,u){Lt=!1,Bt=null,Pt.apply(Ut,arguments)}function zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Gt(t){if(zt(t)!==t)throw Error(i(188))}function Wt(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=zt(t)))throw Error(i(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Gt(o),t;if(a===r)return Gt(o),e;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?t:e}(t),null!==t?Xt(t):null}function Xt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Xt(t);if(null!==e)return e;t=t.sibling}return null}var $t=o.unstable_scheduleCallback,qt=o.unstable_cancelCallback,Kt=o.unstable_shouldYield,Yt=o.unstable_requestPaint,Qt=o.unstable_now,Zt=o.unstable_getCurrentPriorityLevel,Jt=o.unstable_ImmediatePriority,te=o.unstable_UserBlockingPriority,ee=o.unstable_NormalPriority,ne=o.unstable_LowPriority,re=o.unstable_IdlePriority,oe=null,ie=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=he(s):0!==(i&=a)&&(r=he(i))}else 0!==(a=n&~o)?r=he(a):0!==i&&(r=he(i));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&o)&&((o=r&-r)>=(i=e&-e)||16===o&&0!==(4194240&i)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)o=1<<(n=31-ae(e)),r|=t[n],e&=~o;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var we=0;function Ee(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Ce,_e,be,Ae,Se,Ie=!1,Te=[],Ne=null,Re=null,Oe=null,De=new Map,xe=new Map,Me=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pe(t,e){switch(t){case"focusin":case"focusout":Ne=null;break;case"dragenter":case"dragleave":Re=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function Le(t,e,n,r,o,i){return null===t||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==e&&(null!==(e=Co(e))&&_e(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),t)}function Be(t){var e=Eo(t.target);if(null!==e){var n=zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Se(t.priority,(function(){be(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Co(n))&&_e(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);Et=r,n.target.dispatchEvent(r),Et=null,e.shift()}return!0}function Ve(t,e,n){Fe(t)&&n.delete(e)}function Ue(){Ie=!1,null!==Ne&&Fe(Ne)&&(Ne=null),null!==Re&&Fe(Re)&&(Re=null),null!==Oe&&Fe(Oe)&&(Oe=null),De.forEach(Ve),xe.forEach(Ve)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Ie||(Ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ue)))}function ze(t){function e(e){return je(e,t)}if(0<Te.length){je(Te[0],t);for(var n=1;n<Te.length;n++){var r=Te[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ne&&je(Ne,t),null!==Re&&je(Re,t),null!==Oe&&je(Oe,t),De.forEach(e),xe.forEach(e),n=0;n<Me.length;n++)(r=Me[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Be(n),null===n.blockedOn&&Me.shift()}var He=E.ReactCurrentBatchConfig,Ge=!0;function We(t,e,n,r){var o=we,i=He.transition;He.transition=null;try{we=1,$e(t,e,n,r)}finally{we=o,He.transition=i}}function Xe(t,e,n,r){var o=we,i=He.transition;He.transition=null;try{we=4,$e(t,e,n,r)}finally{we=o,He.transition=i}}function $e(t,e,n,r){if(Ge){var o=Ke(t,e,n,r);if(null===o)Wr(t,e,r,qe,n),Pe(t,r);else if(function(t,e,n,r,o){switch(e){case"focusin":return Ne=Le(Ne,t,e,n,r,o),!0;case"dragenter":return Re=Le(Re,t,e,n,r,o),!0;case"mouseover":return Oe=Le(Oe,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return De.set(i,Le(De.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xe.set(i,Le(xe.get(i)||null,t,e,n,r,o)),!0}return!1}(o,t,e,n,r))r.stopPropagation();else if(Pe(t,r),4&e&&-1<ke.indexOf(t)){for(;null!==o;){var i=Co(o);if(null!==i&&Ce(i),null===(i=Ke(t,e,n,r))&&Wr(t,e,r,qe,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var qe=null;function Ke(t,e,n,r){if(qe=null,null!==(t=Eo(t=Ct(r))))if(null===(e=zt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Qe=null,Ze=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ze,r=n.length,o="value"in Qe?Qe.value:Qe.textContent,i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);return Je=o.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,o,i){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=B({},ln,{view:0,detail:0}),fn=on(hn),dn=B({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),gn=on(B({},dn,{dataTransfer:0})),mn=on(B({},hn,{relatedTarget:0})),yn=on(B({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=B({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=on(vn),En=on(B({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=bn[t])&&!!e[t]}function Sn(){return An}var In=B({},hn,{key:function(t){if(t.key){var e=Cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(In),Nn=on(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(B({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=on(B({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=B({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Dn),Mn=[9,13,27,32],kn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Pn,Bn=c&&(!kn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Wn(t,e,n,r){It(r),0<(e=$r(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xn=null,$n=null;function qn(t){Fr(t,0)}function Kn(t){if($(_o(t)))return t}function Yn(t,e){if("change"===t)return e}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function er(){Xn&&(Xn.detachEvent("onpropertychange",nr),$n=Xn=null)}function nr(t){if("value"===t.propertyName&&Kn($n)){var e=[];Wn(e,$n,t,Ct(t)),Dt(qn,e)}}function rr(t,e,n){"focusin"===t?(er(),$n=n,(Xn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function or(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Kn($n)}function ir(t,e){if("click"===t)return Kn(e)}function ar(t,e){if("input"===t||"change"===t)return Kn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(e,o)||!sr(t[o],e[o]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=q((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,wr=!1;function Er(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=$r(yr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function Cr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _r={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},br={},Ar={};function Sr(t){if(br[t])return br[t];if(!_r[t])return t;var e,n=_r[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ar)return br[t]=n[e];return t}c&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Nr=Sr("animationstart"),Rr=Sr("transitionend"),Or=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){Or.set(t,e),u(e,[t])}for(var Mr=0;Mr<Dr.length;Mr++){var kr=Dr[Mr];xr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}xr(Ir,"onAnimationEnd"),xr(Tr,"onAnimationIteration"),xr(Nr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Rr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Br(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,o,a,s,u,l){if(jt.apply(this,arguments),Lt){if(!Lt)throw Error(i(198));var c=Bt;Lt=!1,Bt=null,Ft||(Ft=!0,Vt=c)}}(r,e,void 0,t),t.currentTarget=null}function Fr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;t:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break t;Br(o,s,l),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break t;Br(o,s,l),i=u}}}if(Ft)throw t=Vt,Ft=!1,Vt=null,t}function Vr(t,e){var n=e[yo];void 0===n&&(n=e[yo]=new Set);var r=t+"__bubble";n.has(r)||(Gr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Gr(n,t,r,e)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(t){if(!t[jr]){t[jr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[jr]||(e[jr]=!0,Ur("selectionchange",!1,e))}}function Gr(t,e,n,r){switch(Ye(e)){case 1:var o=We;break;case 4:o=Xe;break;default:o=$e}n=o.bind(null,e,n,t),o=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),r?void 0!==o?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):void 0!==o?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,o){var i=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Eo(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue t}s=s.parentNode}}r=r.return}Dt((function(){var r=i,o=Ct(n),a=[];t:{var s=Or.get(t);if(void 0!==s){var u=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ir:case Tr:case Nr:u=yn;break;case Rr:u=On;break;case"scroll":u=fn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=xt(p,f))&&c.push(Xr(p,g,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===Et||!(l=n.relatedTarget||n.fromElement)||!Eo(l)&&!l[mo])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Eo(l):null)&&(l!==(h=zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Nn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_o(u),d=null==l?s:_o(l),(s=new c(g,p+"leave",u,n,o)).target=h,s.relatedTarget=d,g=null,Eo(o)===r&&((c=new c(f,p+"enter",l,n,o)).target=d,c.relatedTarget=h,g=c),h=g,u&&l)t:{for(f=l,p=0,d=c=u;d;d=qr(d))p++;for(d=0,g=f;g;g=qr(g))d++;for(;0<p-d;)c=qr(c),p--;for(;0<d-p;)f=qr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=qr(c),f=qr(f)}c=null}else c=null;null!==u&&Kr(a,s,u,c,!1),null!==l&&null!==h&&Kr(a,h,l,c,!0)}if("select"===(u=(s=r?_o(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Gn(s))if(Qn)m=ar;else{m=or;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(t,r))?Wn(a,m,n,o):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?_o(r):window,t){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(a,n,o)}var v;if(kn)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else zn?Un(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Bn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=tn()):(Ze="value"in(Qe=o)?Qe.value:Qe.textContent,zn=!0)),0<(y=$r(r,w)).length&&(w=new En(w,t,null,n,o),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=jn(n))&&(w.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Fn);case"textInput":return(t=e.data)===Fn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!kn&&Un(t,e)?(t=tn(),Je=Ze=Qe=null,zn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(o=new En("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Fr(a,e)}))}function Xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $r(t,e){for(var n=e+"Capture",r=[];null!==t;){var o=t,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=xt(t,n))&&r.unshift(Xr(t,i,o)),null!=(i=xt(t,e))&&r.push(Xr(t,i,o))),t=t.return}return r}function qr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,o){for(var i=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(u=xt(n,i))&&a.unshift(Xr(n,u,s)):o||null!=(u=xt(n,i))&&a.push(Xr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(t){return("string"===typeof t?t:""+t).replace(Yr,"\n").replace(Qr,"")}function Jr(t,e,n){if(e=Zr(e),Zr(t)!==e&&n)throw Error(i(425))}function to(){}var eo=null,no=null;function ro(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var oo="function"===typeof setTimeout?setTimeout:void 0,io="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(t){return ao.resolve(null).then(t).catch(uo)}:oo;function uo(t){setTimeout((function(){throw t}))}function lo(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return t.removeChild(o),void ze(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);ze(e)}function co(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ho(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,go="__reactProps$"+fo,mo="__reactContainer$"+fo,yo="__reactEvents$"+fo,vo="__reactListeners$"+fo,wo="__reactHandles$"+fo;function Eo(t){var e=t[po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mo]||n[po]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ho(t);null!==t;){if(n=t[po])return n;t=ho(t)}return e}n=(t=n).parentNode}return null}function Co(t){return!(t=t[po]||t[mo])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _o(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(i(33))}function bo(t){return t[go]||null}var Ao=[],So=-1;function Io(t){return{current:t}}function To(t){0>So||(t.current=Ao[So],Ao[So]=null,So--)}function No(t,e){So++,Ao[So]=t.current,t.current=e}var Ro={},Oo=Io(Ro),Do=Io(!1),xo=Ro;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ko(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Po(){To(Do),To(Oo)}function Lo(t,e,n){if(Oo.current!==Ro)throw Error(i(168));No(Oo,e),No(Do,n)}function Bo(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,H(t)||"Unknown",o));return B({},n,r)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,xo=Oo.current,No(Oo,t),No(Do,Do.current),!0}function Vo(t,e,n){var r=t.stateNode;if(!r)throw Error(i(169));n?(t=Bo(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,To(Do),To(Oo),No(Oo,t)):To(Do),No(Do,n)}var Uo=null,jo=!1,zo=!1;function Ho(t){null===Uo?Uo=[t]:Uo.push(t)}function Go(){if(!zo&&null!==Uo){zo=!0;var t=0,e=we;try{var n=Uo;for(we=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Uo=null,jo=!1}catch(o){throw null!==Uo&&(Uo=Uo.slice(t+1)),$t(Jt,Go),o}finally{we=e,zo=!1}}return null}var Wo=[],Xo=0,$o=null,qo=0,Ko=[],Yo=0,Qo=null,Zo=1,Jo="";function ti(t,e){Wo[Xo++]=qo,Wo[Xo++]=$o,$o=t,qo=e}function ei(t,e,n){Ko[Yo++]=Zo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Qo=t;var r=Zo;t=Jo;var o=32-ae(r)-1;r&=~(1<<o),n+=1;var i=32-ae(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-ae(e)+o|n<<o|r,Jo=i+t}else Zo=1<<i|n<<o|r,Jo=t}function ni(t){null!==t.return&&(ti(t,1),ei(t,1,0))}function ri(t){for(;t===$o;)$o=Wo[--Xo],Wo[Xo]=null,qo=Wo[--Xo],Wo[Xo]=null;for(;t===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Jo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null}var oi=null,ii=null,ai=!1,si=null;function ui(t,e){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function li(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,oi=t,ii=co(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,oi=t,ii=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qo?{id:Zo,overflow:Jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=xl(18,null,null,0)).stateNode=e,n.return=t,t.child=n,oi=t,ii=null,!0);default:return!1}}function ci(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hi(t){if(ai){var e=ii;if(e){var n=e;if(!li(t,e)){if(ci(t))throw Error(i(418));e=co(n.nextSibling);var r=oi;e&&li(t,e)?ui(r,n):(t.flags=-4097&t.flags|2,ai=!1,oi=t)}}else{if(ci(t))throw Error(i(418));t.flags=-4097&t.flags|2,ai=!1,oi=t}}}function fi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;oi=t}function di(t){if(t!==oi)return!1;if(!ai)return fi(t),ai=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ro(t.type,t.memoizedProps)),e&&(e=ii)){if(ci(t))throw pi(),Error(i(418));for(;e;)ui(t,e),e=co(e.nextSibling)}if(fi(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(i(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ii=co(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ii=null}}else ii=oi?co(t.stateNode.nextSibling):null;return!0}function pi(){for(var t=ii;t;)t=co(t.nextSibling)}function gi(){ii=oi=null,ai=!1}function mi(t){null===si?si=[t]:si.push(t)}var yi=E.ReactCurrentBatchConfig;function vi(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,t));var o=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=o.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(i(284));if(!n._owner)throw Error(i(290,t))}return t}function wi(t,e){throw t=Object.prototype.toString.call(e),Error(i(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ei(t){return(0,t._init)(t._payload)}function Ci(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=kl(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Fl(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function l(t,e,n,r){var i=n.type;return i===b?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===x&&Ei(i)===e.type)?((r=o(e,n.props)).ref=vi(t,e,n),r.return=t,r):((r=Pl(n.type,n.key,n.props,null,t.mode,r)).ref=vi(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vl(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?((e=Ll(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case C:return(n=Pl(e.type,e.key,e.props,null,t.mode,n)).ref=vi(t,null,e),n.return=t,n;case _:return(e=Vl(e,t.mode,n)).return=t,e;case x:return f(t,(0,e._init)(e._payload),n)}if(et(e)||P(e))return(e=Ll(e,t.mode,n,null)).return=t,e;wi(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?l(t,e,n,r):null;case _:return n.key===o?c(t,e,n,r):null;case x:return d(t,e,(o=n._init)(n._payload),r)}if(et(n)||P(n))return null!==o?null:h(t,e,n,r,null);wi(t,n)}return null}function p(t,e,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(e,t=t.get(null===r.key?n:r.key)||null,r,o);case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,o);case x:return p(t,e,n,(0,r._init)(r._payload),o)}if(et(r)||P(r))return h(e,t=t.get(n)||null,r,o,null);wi(e,r)}return null}function g(o,i,s,u){for(var l=null,c=null,h=i,g=i=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(o,h,s[g],u);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(o,h),i=a(y,i,g),null===c?l=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(o,h),ai&&ti(o,g),l;if(null===h){for(;g<s.length;g++)null!==(h=f(o,s[g],u))&&(i=a(h,i,g),null===c?l=h:c.sibling=h,c=h);return ai&&ti(o,g),l}for(h=r(o,h);g<s.length;g++)null!==(m=p(h,o,g,s[g],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=a(m,i,g),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(o,t)})),ai&&ti(o,g),l}function m(o,s,u,l){var c=P(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var h=c=null,g=s,m=s=0,y=null,v=u.next();null!==g&&!v.done;m++,v=u.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=d(o,g,v.value,l);if(null===w){null===g&&(g=y);break}t&&g&&null===w.alternate&&e(o,g),s=a(w,s,m),null===h?c=w:h.sibling=w,h=w,g=y}if(v.done)return n(o,g),ai&&ti(o,m),c;if(null===g){for(;!v.done;m++,v=u.next())null!==(v=f(o,v.value,l))&&(s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return ai&&ti(o,m),c}for(g=r(o,g);!v.done;m++,v=u.next())null!==(v=p(g,o,m,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(o,t)})),ai&&ti(o,m),c}return function t(r,i,a,u){if("object"===typeof a&&null!==a&&a.type===b&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case C:t:{for(var l=a.key,c=i;null!==c;){if(c.key===l){if((l=a.type)===b){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break t}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===x&&Ei(l)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=vi(r,c,a),i.return=r,r=i;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===b?((i=Ll(a.props.children,r.mode,u,a.key)).return=r,r=i):((u=Pl(a.type,a.key,a.props,null,r.mode,u)).ref=vi(r,i,a),u.return=r,r=u)}return s(r);case _:t:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break t}n(r,i);break}e(r,i),i=i.sibling}(i=Vl(a,r.mode,u)).return=r,r=i}return s(r);case x:return t(r,i,(c=a._init)(a._payload),u)}if(et(a))return g(r,i,a,u);if(P(a))return m(r,i,a,u);wi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fl(a,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var _i=Ci(!0),bi=Ci(!1),Ai=Io(null),Si=null,Ii=null,Ti=null;function Ni(){Ti=Ii=Si=null}function Ri(t){var e=Ai.current;To(Ai),t._currentValue=e}function Oi(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Di(t,e){Si=t,Ti=Ii=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Es=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(Ti!==t)if(t={context:t,memoizedValue:e,next:null},null===Ii){if(null===Si)throw Error(i(308));Ii=t,Si.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Mi=null;function ki(t){null===Mi?Mi=[t]:Mi.push(t)}function Pi(t,e,n,r){var o=e.interleaved;return null===o?(n.next=n,ki(e)):(n.next=o.next,o.next=n),e.interleaved=n,Li(t,r)}function Li(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Bi=!1;function Fi(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vi(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var o=r.pending;return null===o?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Li(t,n)}return null===(o=r.interleaved)?(e.next=e,ki(r)):(e.next=o.next,o.next=e),r.interleaved=e,Li(t,n)}function zi(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Hi(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=e:i=i.next=e}else o=i=e;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gi(t,e,n,r){var o=t.updateQueue;Bi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?i=l:a.next=l,a=u;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==i){var h=o.baseState;for(a=0,c=l=u=null,s=i;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(f=e,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break t;h=B({},h,f);break t;case 2:Bi=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(u=h),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,null!==(e=o.shared.interleaved)){o=e;do{a|=o.lane,o=o.next}while(o!==e)}else null===i&&(o.shared.lanes=0);Bu|=a,t.lanes=a,t.memoizedState=h}}function Wi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Xi={},$i=Io(Xi),qi=Io(Xi),Ki=Io(Xi);function Yi(t){if(t===Xi)throw Error(i(174));return t}function Qi(t,e){switch(No(Ki,e),No(qi,t),No($i,Xi),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}To($i),No($i,e)}function Zi(){To($i),To(qi),To(Ki)}function Ji(t){Yi(Ki.current);var e=Yi($i.current),n=ut(e,t.type);e!==n&&(No(qi,t),No($i,n))}function ta(t){qi.current===t&&(To($i),To(qi))}var ea=Io(0);function na(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ra=[];function oa(){for(var t=0;t<ra.length;t++)ra[t]._workInProgressVersionPrimary=null;ra.length=0}var ia=E.ReactCurrentDispatcher,aa=E.ReactCurrentBatchConfig,sa=0,ua=null,la=null,ca=null,ha=!1,fa=!1,da=0,pa=0;function ga(){throw Error(i(321))}function ma(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ya(t,e,n,r,o,a){if(sa=a,ua=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?ts:es,t=n(r,o),fa){a=0;do{if(fa=!1,da=0,25<=a)throw Error(i(301));a+=1,ca=la=null,e.updateQueue=null,ia.current=ns,t=n(r,o)}while(fa)}if(ia.current=Ja,e=null!==la&&null!==la.next,sa=0,ca=la=ua=null,ha=!1,e)throw Error(i(300));return t}function va(){var t=0!==da;return da=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?ua.memoizedState=ca=t:ca=ca.next=t,ca}function Ea(){if(null===la){var t=ua.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ca?ua.memoizedState:ca.next;if(null!==e)ca=e,la=t;else{if(null===t)throw Error(i(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?ua.memoizedState=ca=t:ca=ca.next=t}return ca}function Ca(t,e){return"function"===typeof e?e(t):e}function _a(t){var e=Ea(),n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=t;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((sa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,ua.lanes|=h,Bu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,e.memoizedState)||(Es=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(null!==(t=n.interleaved)){o=t;do{a=o.lane,ua.lanes|=a,Bu|=a,o=o.next}while(o!==t)}else null===o&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ba(t){var e=Ea(),n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=t(a,s.action),s=s.next}while(s!==o);sr(a,e.memoizedState)||(Es=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Sa(t,e){var n=ua,r=Ea(),o=e(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,Es=!0),r=r.queue,Ba(Na.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,xa(9,Ta.bind(null,n,r,o,e),void 0,null),null===Ou)throw Error(i(349));0!==(30&sa)||Ia(n,e,o)}return o}function Ia(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ua.updateQueue)?(e={lastEffect:null,stores:null},ua.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ta(t,e,n,r){e.value=n,e.getSnapshot=r,Ra(e)&&Oa(t)}function Na(t,e,n){return n((function(){Ra(e)&&Oa(t)}))}function Ra(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Oa(t){var e=Li(t,1);null!==e&&rl(e,t,1,-1)}function Da(t){var e=wa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=Ka.bind(null,ua,t),[e.memoizedState,t]}function xa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ua.updateQueue)?(e={lastEffect:null,stores:null},ua.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ma(){return Ea().memoizedState}function ka(t,e,n,r){var o=wa();ua.flags|=t,o.memoizedState=xa(1|e,n,void 0,void 0===r?null:r)}function Pa(t,e,n,r){var o=Ea();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=xa(e,n,i,r))}ua.flags|=t,o.memoizedState=xa(1|e,n,i,r)}function La(t,e){return ka(8390656,8,t,e)}function Ba(t,e){return Pa(2048,8,t,e)}function Fa(t,e){return Pa(4,2,t,e)}function Va(t,e){return Pa(4,4,t,e)}function Ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ja(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Pa(4,4,Ua.bind(null,e,t),n)}function za(){}function Ha(t,e){var n=Ea();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ma(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ga(t,e){var n=Ea();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ma(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wa(t,e,n){return 0===(21&sa)?(t.baseState&&(t.baseState=!1,Es=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),ua.lanes|=n,Bu|=n,t.baseState=!0),e)}function Xa(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var r=aa.transition;aa.transition={};try{t(!1),e()}finally{we=n,aa.transition=r}}function $a(){return Ea().memoizedState}function qa(t,e,n){var r=nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(t))Qa(e,n);else if(null!==(n=Pi(t,e,n,r))){rl(n,t,r,el()),Za(n,e,r)}}function Ka(t,e,n){var r=nl(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(t))Qa(e,o);else{var i=t.alternate;if(0===t.lanes&&(null===i||0===i.lanes)&&null!==(i=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(o.next=o,ki(e)):(o.next=u.next,u.next=o),void(e.interleaved=o)}}catch(l){}null!==(n=Pi(t,e,o,r))&&(rl(n,t,r,o=el()),Za(n,e,r))}}function Ya(t){var e=t.alternate;return t===ua||null!==e&&e===ua}function Qa(t,e){fa=ha=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Za(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Ja={readContext:xi,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},ts={readContext:xi,useCallback:function(t,e){return wa().memoizedState=[t,void 0===e?null:e],t},useContext:xi,useEffect:La,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ka(4194308,4,Ua.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ka(4194308,4,t,e)},useInsertionEffect:function(t,e){return ka(4,2,t,e)},useMemo:function(t,e){var n=wa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qa.bind(null,ua,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},wa().memoizedState=t},useState:Da,useDebugValue:za,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=Da(!1),e=t[0];return t=Xa.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ua,o=wa();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=e(),null===Ou)throw Error(i(349));0!==(30&sa)||Ia(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,La(Na.bind(null,r,a,t),[t]),r.flags|=2048,xa(9,Ta.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wa(),e=Ou.identifierPrefix;if(ai){var n=Jo;e=":"+e+"R"+(n=(Zo&~(1<<32-ae(Zo)-1)).toString(32)+n),0<(n=da++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=pa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},es={readContext:xi,useCallback:Ha,useContext:xi,useEffect:Ba,useImperativeHandle:ja,useInsertionEffect:Fa,useLayoutEffect:Va,useMemo:Ga,useReducer:_a,useRef:Ma,useState:function(){return _a(Ca)},useDebugValue:za,useDeferredValue:function(t){return Wa(Ea(),la.memoizedState,t)},useTransition:function(){return[_a(Ca)[0],Ea().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Sa,useId:$a,unstable_isNewReconciler:!1},ns={readContext:xi,useCallback:Ha,useContext:xi,useEffect:Ba,useImperativeHandle:ja,useInsertionEffect:Fa,useLayoutEffect:Va,useMemo:Ga,useReducer:ba,useRef:Ma,useState:function(){return ba(Ca)},useDebugValue:za,useDeferredValue:function(t){var e=Ea();return null===la?e.memoizedState=t:Wa(e,la.memoizedState,t)},useTransition:function(){return[ba(Ca)[0],Ea().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Sa,useId:$a,unstable_isNewReconciler:!1};function rs(t,e){if(t&&t.defaultProps){for(var n in e=B({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function os(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:B({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=el(),o=nl(t),i=Ui(r,o);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=ji(t,i,o))&&(rl(e,t,o,r),zi(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=el(),o=nl(t),i=Ui(r,o);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=ji(t,i,o))&&(rl(e,t,o,r),zi(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=el(),r=nl(t),o=Ui(n,r);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),null!==(e=ji(t,o,r))&&(rl(e,t,r,n),zi(e,t,r))}};function as(t,e,n,r,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function ss(t,e,n){var r=!1,o=Ro,i=e.contextType;return"object"===typeof i&&null!==i?i=xi(i):(o=ko(e)?xo:Oo.current,i=(r=null!==(r=e.contextTypes)&&void 0!==r)?Mo(t,o):Ro),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function us(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function ls(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Fi(t);var i=e.contextType;"object"===typeof i&&null!==i?o.context=xi(i):(i=ko(e)?xo:Oo.current,o.context=Mo(t,i)),o.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(os(t,e,i,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&is.enqueueReplaceState(o,o.state,null),Gi(t,n,o,r),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do{n+=j(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:t,source:e,stack:o,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,Xu=r),fs(0,e)},n}function gs(t,e,n){(n=Ui(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,e)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ms(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ds;var o=new Set;r.set(e,o)}else void 0===(o=r.get(e))&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Il.bind(null,t,e,n),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,o){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ui(-1,1)).tag=2,ji(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=o,t)}var ws=E.ReactCurrentOwner,Es=!1;function Cs(t,e,n,r){e.child=null===t?bi(e,null,n,r):_i(e,t.child,n,r)}function _s(t,e,n,r,o){n=n.render;var i=e.ref;return Di(e,o),r=ya(t,e,n,r,i,o),n=va(),null===t||Es?(ai&&n&&ni(e),e.flags|=1,Cs(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ws(t,e,o))}function bs(t,e,n,r,o){if(null===t){var i=n.type;return"function"!==typeof i||Ml(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Pl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,As(t,e,i,r,o))}if(i=t.child,0===(t.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return Ws(t,e,o)}return e.flags|=1,(t=kl(i,r)).ref=e.ref,t.return=e,e.child=t}function As(t,e,n,r,o){if(null!==t){var i=t.memoizedProps;if(ur(i,r)&&t.ref===e.ref){if(Es=!1,e.pendingProps=r=i,0===(t.lanes&o))return e.lanes=t.lanes,Ws(t,e,o);0!==(131072&t.flags)&&(Es=!0)}}return Ts(t,e,n,r,o)}function Ss(t,e,n){var r=e.pendingProps,o=r.children,i=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(ku,Mu),Mu|=n;else{if(0===(1073741824&n))return t=null!==i?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,No(ku,Mu),Mu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,No(ku,Mu),Mu|=r}else null!==i?(r=i.baseLanes|n,e.memoizedState=null):r=n,No(ku,Mu),Mu|=r;return Cs(t,e,o,n),e.child}function Is(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ts(t,e,n,r,o){var i=ko(n)?xo:Oo.current;return i=Mo(e,i),Di(e,o),n=ya(t,e,n,r,i,o),r=va(),null===t||Es?(ai&&r&&ni(e),e.flags|=1,Cs(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Ws(t,e,o))}function Ns(t,e,n,r,o){if(ko(n)){var i=!0;Fo(e)}else i=!1;if(Di(e,o),null===e.stateNode)Gs(t,e),ss(e,n,r),ls(e,n,r,o),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=xi(l):l=Mo(e,l=ko(n)?xo:Oo.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&us(e,a,r,l),Bi=!1;var f=e.memoizedState;a.state=f,Gi(e,r,a,o),u=e.memoizedState,s!==r||f!==u||Do.current||Bi?("function"===typeof c&&(os(e,n,c,r),u=e.memoizedState),(s=Bi||as(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Vi(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:rs(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=xi(u):u=Mo(e,u=ko(n)?xo:Oo.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&us(e,a,r,u),Bi=!1,f=e.memoizedState,a.state=f,Gi(e,r,a,o);var p=e.memoizedState;s!==h||f!==p||Do.current||Bi?("function"===typeof d&&(os(e,n,d,r),p=e.memoizedState),(l=Bi||as(e,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Rs(t,e,n,r,i,o)}function Rs(t,e,n,r,o,i){Is(t,e);var a=0!==(128&e.flags);if(!r&&!a)return o&&Vo(e,n,!1),Ws(t,e,i);r=e.stateNode,ws.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=_i(e,t.child,null,i),e.child=_i(e,null,s,i)):Cs(t,e,s,i),e.memoizedState=r.state,o&&Vo(e,n,!0),e.child}function Os(t){var e=t.stateNode;e.pendingContext?Lo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Lo(0,e.context,!1),Qi(t,e.containerInfo)}function Ds(t,e,n,r,o){return gi(),mi(o),e.flags|=256,Cs(t,e,n,r),e.child}var xs,Ms,ks,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Bs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,o=e.pendingProps,a=ea.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),No(ea,1&a),null===t)return hi(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=o.children,t=o.fallback,s?(o=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Bl(u,o,0,null),t=Ll(t,o,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bs(n),e.memoizedState=Ls,t):Vs(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,o,a,s){if(n)return 256&e.flags?(e.flags&=-257,Us(t,e,s,r=hs(Error(i(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Bl({mode:"visible",children:r.children},o,0,null),(a=Ll(a,o,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&_i(e,t.child,null,s),e.child.memoizedState=Bs(s),e.memoizedState=Ls,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,Us(t,e,s,r=hs(a=Error(i(419)),r,void 0))}if(u=0!==(s&t.childLanes),Es||u){if(null!==(r=Ou)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Li(t,o),rl(r,t,o,-1))}return ml(),Us(t,e,s,r=hs(Error(i(421))))}return"$?"===o.data?(e.flags|=128,e.child=t.child,e=Nl.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,ii=co(o.nextSibling),oi=e,ai=!0,si=null,null!==t&&(Ko[Yo++]=Zo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Zo=t.id,Jo=t.overflow,Qo=e),e=Vs(e,r.children),e.flags|=4096,e)}(t,e,u,o,r,a,n);if(s){s=o.fallback,u=e.mode,r=(a=t.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&u)&&e.child!==a?((o=e.child).childLanes=0,o.pendingProps=l,e.deletions=null):(o=kl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=kl(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=e,o.return=e,o.sibling=s,e.child=o,o=s,s=e.child,u=null===(u=t.child.memoizedState)?Bs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Ls,o}return t=(s=t.child).sibling,o=kl(s,{mode:"visible",children:o.children}),0===(1&e.mode)&&(o.lanes=n),o.return=e,o.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Vs(t,e){return(e=Bl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,n,r){return null!==r&&mi(r),_i(e,t.child,null,n),(t=Vs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function js(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Oi(t.return,e,n)}function zs(t,e,n,r,o){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Cs(t,e,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&js(t,n,e);else if(19===t.tag)js(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(No(ea,r),0===(1&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;null!==n;)null!==(t=n.alternate)&&null===na(t)&&(o=n),n=n.sibling;null===(n=o)?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),zs(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===na(t)){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}zs(e,!0,n,null,i);break;case"together":zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Bu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(i(153));if(null!==e.child){for(n=kl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=kl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Xs(t,e){if(!ai)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $s(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=t,o=o.sibling;else for(o=t.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qs(t,e,n){var r=e.pendingProps;switch(ri(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(e),null;case 1:case 17:return ko(e.type)&&Po(),$s(e),null;case 3:return r=e.stateNode,Zi(),To(Do),To(Oo),oa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(di(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==si&&(sl(si),si=null))),Ms(t,e),$s(e),null;case 5:ta(e);var o=Yi(Ki.current);if(n=e.type,null!==t&&null!=e.stateNode)ks(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(i(166));return $s(e),null}if(t=Yi($i.current),di(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[po]=e,r[go]=a,t=0!==(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)Vr(Pr[o],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ot(r,a),Vr("invalid",r)}for(var u in vt(n,a),o=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,t),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,t),o=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":X(r),J(r,a,!0);break;case"textarea":X(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=to)}r=o,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[po]=e,t[go]=r,xs(t,e,!1,!1),e.stateNode=t;t:{switch(u=wt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),o=r;break;case"iframe":case"object":case"embed":Vr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)Vr(Pr[o],t);o=r;break;case"source":Vr("error",t),o=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),o=r;break;case"details":Vr("toggle",t),o=r;break;case"input":Y(t,r),o=K(t,r),Vr("invalid",t);break;case"option":default:o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=B({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":ot(t,r),o=rt(t,r),Vr("invalid",t)}for(a in vt(n,o),l=o)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?mt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Vr("scroll",t):null!=c&&w(t,a,c,u))}switch(n){case"input":X(t),J(t,r,!1);break;case"textarea":X(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+G(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=to)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return $s(e),null;case 6:if(t&&null!=e.stateNode)Ps(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi($i.current),di(e)){if(r=e.stateNode,n=e.memoizedProps,r[po]=e,(a=r.nodeValue!==n)&&null!==(t=oi))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=e,e.stateNode=r}return $s(e),null;case 13:if(To(ea),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ai&&null!==ii&&0!==(1&e.mode)&&0===(128&e.flags))pi(),gi(),e.flags|=98560,a=!1;else if(a=di(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(i(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=e}else gi(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;$s(e),a=!1}else null!==si&&(sl(si),si=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ea.current)?0===Pu&&(Pu=3):ml())),null!==e.updateQueue&&(e.flags|=4),$s(e),null);case 4:return Zi(),Ms(t,e),null===t&&Hr(e.stateNode.containerInfo),$s(e),null;case 10:return Ri(e.type._context),$s(e),null;case 19:if(To(ea),null===(a=e.memoizedState))return $s(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Xs(a,!1);else{if(0!==Pu||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=na(t))){for(e.flags|=128,Xs(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return No(ea,1&ea.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>Hu&&(e.flags|=128,r=!0,Xs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=na(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Xs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!ai)return $s(e),null}else 2*Qt()-a.renderingStartTime>Hu&&1073741824!==n&&(e.flags|=128,r=!0,Xs(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,n=ea.current,No(ea,r?1&n|2:1&n),e):($s(e),null);case 22:case 23:return fl(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Mu)&&($s(e),6&e.subtreeFlags&&(e.flags|=8192)):$s(e),null;case 24:case 25:return null}throw Error(i(156,e.tag))}function Ks(t,e){switch(ri(e),e.tag){case 1:return ko(e.type)&&Po(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Zi(),To(Do),To(Oo),oa(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ta(e),null;case 13:if(To(ea),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(i(340));gi()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return To(ea),null;case 4:return Zi(),null;case 10:return Ri(e.type._context),null;case 22:case 23:return fl(),null;default:return null}}xs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},ks=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Yi($i.current);var i,a=null;switch(n){case"input":o=K(t,o),r=K(t,r),a=[];break;case"select":o=B({},o,{value:void 0}),r=B({},r,{value:void 0}),a=[];break;case"textarea":o=rt(t,o),r=rt(t,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=to)}for(c in vt(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var u=o[c];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",t),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Ps=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ys=!1,Qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Js=null;function tu(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(t,e,r)}else n.current=null}function eu(t,e,n){try{n()}catch(r){Sl(t,e,r)}}var nu=!1;function ru(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,void 0!==i&&eu(e,n,i)}o=o.next}while(o!==r)}}function ou(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function au(t){var e=t.alternate;null!==e&&(t.alternate=null,au(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[po],delete e[go],delete e[yo],delete e[vo],delete e[wo])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function su(t){return 5===t.tag||3===t.tag||4===t.tag}function uu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||su(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function lu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=to));else if(4!==r&&null!==(t=t.child))for(lu(t,e,n),t=t.sibling;null!==t;)lu(t,e,n),t=t.sibling}function cu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cu(t,e,n),t=t.sibling;null!==t;)cu(t,e,n),t=t.sibling}var hu=null,fu=!1;function du(t,e,n){for(n=n.child;null!==n;)pu(t,e,n),n=n.sibling}function pu(t,e,n){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(oe,n)}catch(s){}switch(n.tag){case 5:Qs||tu(n,e);case 6:var r=hu,o=fu;hu=null,du(t,e,n),fu=o,null!==(hu=r)&&(fu?(t=hu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(t=hu,n=n.stateNode,8===t.nodeType?lo(t.parentNode,n):1===t.nodeType&&lo(t,n),ze(t)):lo(hu,n.stateNode));break;case 4:r=hu,o=fu,hu=n.stateNode.containerInfo,fu=!0,du(t,e,n),hu=r,fu=o;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&eu(n,e,a),o=o.next}while(o!==r)}du(t,e,n);break;case 1:if(!Qs&&(tu(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,e,s)}du(t,e,n);break;case 21:du(t,e,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,du(t,e,n),Qs=r):du(t,e,n);break;default:du(t,e,n)}}function gu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=Rl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function mu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break t;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break t}u=u.return}if(null===hu)throw Error(i(160));pu(a,s,o),hu=null,fu=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(c){Sl(o,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yu(e,t),e=e.sibling}function yu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mu(e,t),vu(t),4&r){try{ru(3,t,t.return),ou(3,t)}catch(m){Sl(t,t.return,m)}try{ru(5,t,t.return)}catch(m){Sl(t,t.return,m)}}break;case 1:mu(e,t),vu(t),512&r&&null!==n&&tu(n,n.return);break;case 5:if(mu(e,t),vu(t),512&r&&null!==n&&tu(n,n.return),32&t.flags){var o=t.stateNode;try{ft(o,"")}catch(m){Sl(t,t.return,m)}}if(4&r&&null!=(o=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(o,a),wt(u,s);var c=wt(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?mt(o,f):"dangerouslySetInnerHTML"===h?ht(o,f):"children"===h?ft(o,f):w(o,h,f,c)}switch(u){case"input":Z(o,a);break;case"textarea":it(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(o,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(o,!!a.multiple,a.defaultValue,!0):nt(o,!!a.multiple,a.multiple?[]:"",!1))}o[go]=a}catch(m){Sl(t,t.return,m)}}break;case 6:if(mu(e,t),vu(t),4&r){if(null===t.stateNode)throw Error(i(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(m){Sl(t,t.return,m)}}break;case 3:if(mu(e,t),vu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(m){Sl(t,t.return,m)}break;case 4:default:mu(e,t),vu(t);break;case 13:mu(e,t),vu(t),8192&(o=t.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zu=Qt())),4&r&&gu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Qs=(c=Qs)||h,mu(e,t),Qs=c):mu(e,t),vu(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Js=t,h=t.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:tu(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:tu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(f);continue}}null!==p?(p.return=d,Js=p):_u(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{o=f.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=gt("display",s))}catch(m){Sl(t,t.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Sl(t,t.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(e,t),vu(t),4&r&&gu(t);case 21:}}function vu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(su(n)){var r=n;break t}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(ft(o,""),r.flags&=-33),cu(t,uu(t),o);break;case 3:case 4:var a=r.stateNode.containerInfo;lu(t,uu(t),a);break;default:throw Error(i(161))}}catch(s){Sl(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wu(t,e,n){Js=t,Eu(t,e,n)}function Eu(t,e,n){for(var r=0!==(1&t.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ys;if(!a){var s=o.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Ys;var l=Qs;if(Ys=a,(Qs=u)&&!l)for(Js=o;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?bu(o):null!==u?(u.return=a,Js=u):bu(o);for(;null!==i;)Js=i,Eu(i,e,n),i=i.sibling;Js=o,Ys=s,Qs=l}Cu(t)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):Cu(t)}}function Cu(t){for(;null!==Js;){var e=Js;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qs||ou(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Qs)if(null===n)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:rs(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Wi(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wi(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&ze(f)}}}break;default:throw Error(i(163))}Qs||512&e.flags&&iu(e)}catch(d){Sl(e,e.return,d)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function _u(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function bu(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(u){Sl(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var o=e.return;try{r.componentDidMount()}catch(u){Sl(e,o,u)}}var i=e.return;try{iu(e)}catch(u){Sl(e,i,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){Sl(e,a,u)}}}catch(u){Sl(e,e.return,u)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var Au,Su=Math.ceil,Iu=E.ReactCurrentDispatcher,Tu=E.ReactCurrentOwner,Nu=E.ReactCurrentBatchConfig,Ru=0,Ou=null,Du=null,xu=0,Mu=0,ku=Io(0),Pu=0,Lu=null,Bu=0,Fu=0,Vu=0,Uu=null,ju=null,zu=0,Hu=1/0,Gu=null,Wu=!1,Xu=null,$u=null,qu=!1,Ku=null,Yu=0,Qu=0,Zu=null,Ju=-1,tl=0;function el(){return 0!==(6&Ru)?Qt():-1!==Ju?Ju:Ju=Qt()}function nl(t){return 0===(1&t.mode)?1:0!==(2&Ru)&&0!==xu?xu&-xu:null!==yi.transition?(0===tl&&(tl=ge()),tl):0!==(t=we)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function rl(t,e,n,r){if(50<Qu)throw Qu=0,Zu=null,Error(i(185));ye(t,n,r),0!==(2&Ru)&&t===Ou||(t===Ou&&(0===(2&Ru)&&(Fu|=n),4===Pu&&ul(t,xu)),ol(t,r),1===n&&0===Ru&&0===(1&e.mode)&&(Hu=Qt()+500,jo&&Go()))}function ol(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ae(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),i&=~s}}(t,e);var r=fe(t,t===Ou?xu:0);if(0===r)null!==n&&qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&qt(n),1===e)0===t.tag?function(t){jo=!0,Ho(t)}(ll.bind(null,t)):Ho(ll.bind(null,t)),so((function(){0===(6&Ru)&&Go()})),n=null;else{switch(Ee(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Ol(n,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function il(t,e){if(Ju=-1,tl=0,0!==(6&Ru))throw Error(i(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var r=fe(t,t===Ou?xu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=yl(t,r);else{e=r;var o=Ru;Ru|=2;var a=gl();for(Ou===t&&xu===e||(Gu=null,Hu=Qt()+500,dl(t,e));;)try{wl();break}catch(u){pl(t,u)}Ni(),Iu.current=a,Ru=o,null!==Du?e=0:(Ou=null,xu=0,e=Pu)}if(0!==e){if(2===e&&(0!==(o=pe(t))&&(r=o,e=al(t,o))),1===e)throw n=Lu,dl(t,0),ul(t,r),ol(t,Qt()),n;if(6===e)ul(t,r);else{if(o=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(o)&&(2===(e=yl(t,r))&&(0!==(a=pe(t))&&(r=a,e=al(t,a))),1===e))throw n=Lu,dl(t,0),ul(t,r),ol(t,Qt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(i(345));case 2:case 5:_l(t,ju,Gu);break;case 3:if(ul(t,r),(130023424&r)===r&&10<(e=zu+500-Qt())){if(0!==fe(t,0))break;if(((o=t.suspendedLanes)&r)!==r){el(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=oo(_l.bind(null,t,ju,Gu),e);break}_l(t,ju,Gu);break;case 4:if(ul(t,r),(4194240&r)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){t.timeoutHandle=oo(_l.bind(null,t,ju,Gu),r);break}_l(t,ju,Gu);break;default:throw Error(i(329))}}}return ol(t,Qt()),t.callbackNode===n?il.bind(null,t):null}function al(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),2!==(t=yl(t,e))&&(e=ju,ju=n,null!==e&&sl(e)),t}function sl(t){null===ju?ju=t:ju.push.apply(ju,t)}function ul(t,e){for(e&=~Vu,e&=~Fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function ll(t){if(0!==(6&Ru))throw Error(i(327));bl();var e=fe(t,0);if(0===(1&e))return ol(t,Qt()),null;var n=yl(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=al(t,r))}if(1===n)throw n=Lu,dl(t,0),ul(t,e),ol(t,Qt()),n;if(6===n)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_l(t,ju,Gu),ol(t,Qt()),null}function cl(t,e){var n=Ru;Ru|=1;try{return t(e)}finally{0===(Ru=n)&&(Hu=Qt()+500,jo&&Go())}}function hl(t){null!==Ku&&0===Ku.tag&&0===(6&Ru)&&bl();var e=Ru;Ru|=1;var n=Nu.transition,r=we;try{if(Nu.transition=null,we=1,t)return t()}finally{we=r,Nu.transition=n,0===(6&(Ru=e))&&Go()}}function fl(){Mu=ku.current,To(ku)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,io(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ri(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Po();break;case 3:Zi(),To(Do),To(Oo),oa();break;case 5:ta(r);break;case 4:Zi();break;case 13:case 19:To(ea);break;case 10:Ri(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ou=t,Du=t=kl(t.current,null),xu=Mu=e,Pu=0,Lu=null,Vu=Fu=Bu=0,ju=Uu=null,null!==Mi){for(e=0;e<Mi.length;e++)if(null!==(r=(n=Mi[e]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Mi=null}return t}function pl(t,e){for(;;){var n=Du;try{if(Ni(),ia.current=Ja,ha){for(var r=ua.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ha=!1}if(sa=0,ca=la=ua=null,fa=!1,da=0,Tu.current=null,null===n||null===n.return){Pu=1,Lu=e,Du=null;break}t:{var a=t,s=n.return,u=n,l=e;if(e=xu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,vs(p,s,u,0,e),1&p.mode&&ms(a,c,e),l=c;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break t}if(0===(1&e)){ms(a,c,e),ml();break t}l=Error(i(426))}else if(ai&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,u,0,e),mi(cs(l,u));break t}}a=l=cs(l,u),4!==Pu&&(Pu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Hi(a,ps(0,l,e));break t;case 1:u=l;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$u||!$u.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e,Hi(a,gs(a,u,e));break t}}a=a.return}while(null!==a)}Cl(n)}catch(E){e=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function gl(){var t=Iu.current;return Iu.current=Ja,null===t?Ja:t}function ml(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Ou||0===(268435455&Bu)&&0===(268435455&Fu)||ul(Ou,xu)}function yl(t,e){var n=Ru;Ru|=2;var r=gl();for(Ou===t&&xu===e||(Gu=null,dl(t,e));;)try{vl();break}catch(o){pl(t,o)}if(Ni(),Ru=n,Iu.current=r,null!==Du)throw Error(i(261));return Ou=null,xu=0,Pu}function vl(){for(;null!==Du;)El(Du)}function wl(){for(;null!==Du&&!Kt();)El(Du)}function El(t){var e=Au(t.alternate,t,Mu);t.memoizedProps=t.pendingProps,null===e?Cl(t):Du=e,Tu.current=null}function Cl(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=qs(n,e,Mu)))return void(Du=n)}else{if(null!==(n=Ks(n,e)))return n.flags&=32767,void(Du=n);if(null===t)return Pu=6,void(Du=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Du=e);Du=e=t}while(null!==e);0===Pu&&(Pu=5)}function _l(t,e,n){var r=we,o=Nu.transition;try{Nu.transition=null,we=1,function(t,e,n,r){do{bl()}while(null!==Ku);if(0!==(6&Ru))throw Error(i(327));n=t.finishedWork;var o=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ae(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}(t,a),t===Ou&&(Du=Ou=null,xu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Ol(ee,(function(){return bl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=we;we=1;var u=Ru;Ru|=4,Tu.current=null,function(t,e){if(eo=Ge,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(C){n=null;break t}var s=0,u=-1,l=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(u=s+o),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===o&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(no={focusedElem:t,selectionRange:n},Ge=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:rs(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(i(163))}}catch(C){Sl(e,e.return,C)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}g=nu,nu=!1}(t,n),yu(n,t),pr(no),Ge=!!eo,no=eo=null,t.current=n,wu(n,t,o),Yt(),Ru=u,we=s,Nu.transition=a}else t.current=n;if(qu&&(qu=!1,Ku=t,Yu=o),a=t.pendingLanes,0===a&&($u=null),function(t){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(oe,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ol(t,Qt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wu)throw Wu=!1,t=Xu,Xu=null,t;0!==(1&Yu)&&0!==t.tag&&bl(),a=t.pendingLanes,0!==(1&a)?t===Zu?Qu++:(Qu=0,Zu=t):Qu=0,Go()}(t,e,n,r)}finally{Nu.transition=o,we=r}return null}function bl(){if(null!==Ku){var t=Ee(Yu),e=Nu.transition,n=we;try{if(Nu.transition=null,we=16>t?16:t,null===Ku)var r=!1;else{if(t=Ku,Ku=null,Yu=0,0!==(6&Ru))throw Error(i(331));var o=Ru;for(Ru|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(au(h),h===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break t}Js=a.return}}var w=t.current;for(Js=w;null!==Js;){var E=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==E)E.return=s,Js=E;else t:for(s=w;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ou(9,u)}}catch(_){Sl(u,u.return,_)}if(u===s){Js=null;break t}var C=u.sibling;if(null!==C){C.return=u.return,Js=C;break t}Js=u.return}}if(Ru=o,Go(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(oe,t)}catch(_){}r=!0}return r}finally{we=n,Nu.transition=e}}return!1}function Al(t,e,n){t=ji(t,e=ps(0,e=cs(n,e),1),1),e=el(),null!==t&&(ye(t,1,e),ol(t,e))}function Sl(t,e,n){if(3===t.tag)Al(t,t,n);else for(;null!==e;){if(3===e.tag){Al(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){e=ji(e,t=gs(e,t=cs(n,t),1),1),t=el(),null!==e&&(ye(e,1,t),ol(e,t));break}}e=e.return}}function Il(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=el(),t.pingedLanes|=t.suspendedLanes&n,Ou===t&&(xu&n)===n&&(4===Pu||3===Pu&&(130023424&xu)===xu&&500>Qt()-zu?dl(t,0):Vu|=n),ol(t,e)}function Tl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=el();null!==(t=Li(t,e))&&(ye(t,e,n),ol(t,n))}function Nl(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tl(t,n)}function Rl(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(e),Tl(t,n)}function Ol(t,e){return $t(t,e)}function Dl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(t,e,n,r){return new Dl(t,e,n,r)}function Ml(t){return!(!(t=t.prototype)||!t.isReactComponent)}function kl(t,e){var n=t.alternate;return null===n?((n=xl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pl(t,e,n,r,o,a){var s=2;if(r=t,"function"===typeof t)Ml(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case b:return Ll(n.children,o,a,e);case A:s=8,o|=8;break;case S:return(t=xl(12,n,e,2|o)).elementType=S,t.lanes=a,t;case R:return(t=xl(13,n,e,o)).elementType=R,t.lanes=a,t;case O:return(t=xl(19,n,e,o)).elementType=O,t.lanes=a,t;case M:return Bl(n,o,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case I:s=10;break t;case T:s=9;break t;case N:s=11;break t;case D:s=14;break t;case x:s=16,r=null;break t}throw Error(i(130,null==t?t:typeof t,""))}return(e=xl(s,n,e,o)).elementType=t,e.type=r,e.lanes=a,e}function Ll(t,e,n,r){return(t=xl(7,t,r,e)).lanes=n,t}function Bl(t,e,n,r){return(t=xl(22,t,r,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Fl(t,e,n){return(t=xl(6,t,null,e)).lanes=n,t}function Vl(t,e,n){return(e=xl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ul(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jl(t,e,n,r,o,i,a,s,u){return t=new Ul(t,e,n,s,u),1===e?(e=1,!0===i&&(e|=8)):e=0,i=xl(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),t}function zl(t){if(!t)return Ro;t:{if(zt(t=t._reactInternals)!==t||1!==t.tag)throw Error(i(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(ko(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(i(171))}if(1===t.tag){var n=t.type;if(ko(n))return Bo(t,n,e)}return e}function Hl(t,e,n,r,o,i,a,s,u){return(t=jl(n,r,!0,t,0,i,0,s,u)).context=zl(null),n=t.current,(i=Ui(r=el(),o=nl(n))).callback=void 0!==e&&null!==e?e:null,ji(n,i,o),t.current.lanes=o,ye(t,o,r),ol(t,r),t}function Gl(t,e,n,r){var o=e.current,i=el(),a=nl(o);return n=zl(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ui(i,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=ji(o,e,a))&&(rl(t,o,a,i),zi(t,o,a)),a}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Xl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function $l(t,e){Xl(t,e),(t=t.alternate)&&Xl(t,e)}Au=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Do.current)Es=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return Es=!1,function(t,e,n){switch(e.tag){case 3:Os(e),gi();break;case 5:Ji(e);break;case 1:ko(e.type)&&Fo(e);break;case 4:Qi(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;No(Ai,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(No(ea,1&ea.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fs(t,e,n):(No(ea,1&ea.current),null!==(t=Ws(t,e,n))?t.sibling:null);No(ea,1&ea.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Hs(t,e,n);e.flags|=128}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(ea,ea.current),r)break;return null;case 22:case 23:return e.lanes=0,Ss(t,e,n)}return Ws(t,e,n)}(t,e,n);Es=0!==(131072&t.flags)}else Es=!1,ai&&0!==(1048576&e.flags)&&ei(e,qo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gs(t,e),t=e.pendingProps;var o=Mo(e,Oo.current);Di(e,n),o=ya(null,e,r,t,o,n);var a=va();return e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ko(r)?(a=!0,Fo(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fi(e),o.updater=is,e.stateNode=o,o._reactInternals=e,ls(e,r,t,n),e=Rs(null,e,r,!0,a,n)):(e.tag=0,ai&&a&&ni(e),Cs(null,e,o,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Gs(t,e),t=e.pendingProps,r=(o=r._init)(r._payload),e.type=r,o=e.tag=function(t){if("function"===typeof t)return Ml(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===N)return 11;if(t===D)return 14}return 2}(r),t=rs(r,t),o){case 0:e=Ts(null,e,r,t,n);break t;case 1:e=Ns(null,e,r,t,n);break t;case 11:e=_s(null,e,r,t,n);break t;case 14:e=bs(null,e,r,rs(r.type,t),n);break t}throw Error(i(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,Ts(t,e,r,o=e.elementType===r?o:rs(r,o),n);case 1:return r=e.type,o=e.pendingProps,Ns(t,e,r,o=e.elementType===r?o:rs(r,o),n);case 3:t:{if(Os(e),null===t)throw Error(i(387));r=e.pendingProps,o=(a=e.memoizedState).element,Vi(t,e),Gi(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ds(t,e,r,n,o=cs(Error(i(423)),e));break t}if(r!==o){e=Ds(t,e,r,n,o=cs(Error(i(424)),e));break t}for(ii=co(e.stateNode.containerInfo.firstChild),oi=e,ai=!0,si=null,n=bi(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gi(),r===o){e=Ws(t,e,n);break t}Cs(t,e,r,n)}e=e.child}return e;case 5:return Ji(e),null===t&&hi(e),r=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,ro(r,o)?s=null:null!==a&&ro(r,a)&&(e.flags|=32),Is(t,e),Cs(t,e,s,n),e.child;case 6:return null===t&&hi(e),null;case 13:return Fs(t,e,n);case 4:return Qi(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=_i(e,null,r,n):Cs(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,_s(t,e,r,o=e.elementType===r?o:rs(r,o),n);case 7:return Cs(t,e,e.pendingProps,n),e.child;case 8:case 12:return Cs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,s=o.value,No(Ai,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Do.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Ui(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Oi(a.return,n,e),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Oi(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Cs(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Di(e,n),r=r(o=xi(o)),e.flags|=1,Cs(t,e,r,n),e.child;case 14:return o=rs(r=e.type,e.pendingProps),bs(t,e,r,o=rs(r.type,o),n);case 15:return As(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:rs(r,o),Gs(t,e),e.tag=1,ko(r)?(t=!0,Fo(e)):t=!1,Di(e,n),ss(e,r,o),ls(e,r,o,n),Rs(null,e,r,!0,t,n);case 19:return Hs(t,e,n);case 22:return Ss(t,e,n)}throw Error(i(156,e.tag))};var ql="function"===typeof reportError?reportError:function(t){console.error(t)};function Kl(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jl(){}function tc(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var t=Wl(a);s.call(t)}}Gl(e,a,t,o)}else a=function(t,e,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var t=Wl(a);i.call(t)}}var a=Hl(e,r,t,0,null,!1,0,"",Jl);return t._reactRootContainer=a,t[mo]=a.current,Hr(8===t.nodeType?t.parentNode:t),hl(),a}for(;o=t.lastChild;)t.removeChild(o);if("function"===typeof r){var s=r;r=function(){var t=Wl(u);s.call(t)}}var u=jl(t,0,!1,null,0,!1,0,"",Jl);return t._reactRootContainer=u,t[mo]=u.current,Hr(8===t.nodeType?t.parentNode:t),hl((function(){Gl(e,u,n,r)})),u}(n,e,t,o,r);return Wl(a)}Yl.prototype.render=Kl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(i(409));Gl(t,e,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hl((function(){Gl(null,t,null,null)})),e[mo]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ae();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Be(t)}},Ce=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),ol(e,Qt()),0===(6&Ru)&&(Hu=Qt()+500,Go()))}break;case 13:hl((function(){var e=Li(t,1);if(null!==e){var n=el();rl(e,t,1,n)}})),$l(t,1)}},_e=function(t){if(13===t.tag){var e=Li(t,134217728);if(null!==e)rl(e,t,134217728,el());$l(t,134217728)}},be=function(t){if(13===t.tag){var e=nl(t),n=Li(t,e);if(null!==n)rl(n,t,e,el());$l(t,e)}},Ae=function(){return we},Se=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},_t=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bo(r);if(!o)throw Error(i(90));$(r),Z(r,o)}}}break;case"textarea":it(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Nt=cl,Rt=hl;var ec={usingClientEntryPoint:!1,Events:[Co,_o,bo,It,Tt,cl]},nc={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{oe=oc.inject(rc),ie=oc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(e))throw Error(i(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Ql(t))throw Error(i(299));var n=!1,r="",o=ql;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(o=e.onRecoverableError)),e=jl(t,1,!1,null,0,n,0,r,o),t[mo]=e.current,Hr(8===t.nodeType?t.parentNode:t),new Kl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(i(188));throw t=Object.keys(t).join(","),Error(i(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return hl(t)},e.hydrate=function(t,e,n){if(!Zl(e))throw Error(i(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Ql(t))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Hl(e,null,t,1,null!=n?n:null,o,0,a,s),t[mo]=e.current,Hr(t),r)for(t=0;t<r.length;t++)o=(o=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Yl(e)},e.render=function(t,e,n){if(!Zl(e))throw Error(i(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(i(40));return!!t._reactRootContainer&&(hl((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[mo]=null}))})),!0)},e.unstable_batchedUpdates=cl,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zl(n))throw Error(i(200));if(null==t||void 0===t._reactInternals)throw Error(i(38));return tc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},391:(t,e,n)=>{var r=n(950);e.H=r.createRoot,r.hydrateRoot},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:l,ref:c,props:i,_owner:s.current}}e.Fragment=i,e.jsx=l,e.jsxs=l},202:(t,e)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function w(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var E=w.prototype=new v;E.constructor=w,g(E,y.prototype),E.isPureReactComponent=!0;var C=Array.isArray,_=Object.prototype.hasOwnProperty,b={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,r){var o,i={},a=null,s=null;if(null!=e)for(o in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,o)&&!A.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(o in u=t.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:n,type:t,key:a,ref:s,props:i,_owner:b.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function R(t,e,o,i,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===i?"."+N(u,0):i,C(a)?(o="",null!=t&&(o=t.replace(T,"$&/")+"/"),R(a,e,o,"",(function(t){return t}))):null!=a&&(I(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(u=0,i=""===i?".":i+":",C(t))for(var l=0;l<t.length;l++){var c=i+N(s=t[l],l);u+=R(s,e,o,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=R(s=s.value,e,o,c=i+N(s,l++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function O(t,e,n){if(null==t)return t;var r=[],o=0;return R(t,r,"","",(function(t){return e.call(n,t,o++)})),r}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var x={current:null},M={transition:null},k={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:M,ReactCurrentOwner:b};function P(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=o,e.Profiler=a,e.PureComponent=w,e.StrictMode=i,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.act=P,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=g({},t.props),i=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=b.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)_.call(e,l)&&!A.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:n,type:t.type,key:i,ref:a,props:o,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=P,e.useCallback=function(t,e){return x.current.useCallback(t,e)},e.useContext=function(t){return x.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return x.current.useDeferredValue(t)},e.useEffect=function(t,e){return x.current.useEffect(t,e)},e.useId=function(){return x.current.useId()},e.useImperativeHandle=function(t,e,n){return x.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return x.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return x.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return x.current.useMemo(t,e)},e.useReducer=function(t,e,n){return x.current.useReducer(t,e,n)},e.useRef=function(t){return x.current.useRef(t)},e.useState=function(t){return x.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return x.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return x.current.useTransition()},e.version="18.3.1"},43:(t,e,n)=>{t.exports=n(202)},579:(t,e,n)=>{t.exports=n(153)},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,o=t[r];if(!(0<i(o,e)))break t;t[r]=e,t[n]=o,n=r}}function r(t){return 0===t.length?null:t[0]}function o(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,o=t.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=t[s],l=s+1,c=t[l];if(0>i(u,n))l<o&&0>i(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[s]=n,r=s);else{if(!(l<o&&0>i(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function i(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function E(t){for(var e=r(c);null!==e;){if(null===e.callback)o(c);else{if(!(e.startTime<=t))break;o(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function C(t){if(m=!1,E(t),!g)if(null!==r(l))g=!0,M(_);else{var e=r(c);null!==e&&k(C,e.startTime-t)}}function _(t,n){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var i=d;try{for(E(n),f=r(l);null!==f&&(!(f.expirationTime>n)||t&&!R());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&o(l),E(n)}else o(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&k(C,h.startTime-n),u=!1}return u}finally{f=null,d=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var b,A=!1,S=null,I=-1,T=5,N=-1;function R(){return!(e.unstable_now()-N<T)}function O(){if(null!==S){var t=e.unstable_now();N=t;var n=!0;try{n=S(!0,t)}finally{n?b():(A=!1,S=null)}}else A=!1}if("function"===typeof w)b=function(){w(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,x=D.port2;D.port1.onmessage=O,b=function(){x.postMessage(null)}}else b=function(){y(O,0)};function M(t){S=t,A||(A=!0,b())}function k(t,n){I=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,o,i){var a=e.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:o,priorityLevel:t,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(t.sortIndex=i,n(c,t),null===r(l)&&t===r(c)&&(m?(v(I),I=-1):m=!0,k(C,i-a))):(t.sortIndex=s,n(l,t),g||p||(g=!0,M(_))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},853:(t,e,n)=>{t.exports=n(234)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}();var r=n(43),o=n(391),i=(n(175),"popstate");function a(){return d((function(t,e){let{pathname:n,search:r,hash:o}=t.location;return c("",{pathname:n,search:r,hash:o},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:h(e)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function l(t,e){return{usr:t.state,key:t.key,idx:e}}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof t?t:t.pathname,search:"",hash:"",..."string"===typeof e?f(e):e,state:n,key:e&&e.key||r||Math.random().toString(36).substring(2,10)}}function h(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function d(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",d=null,p=g();function g(){return(u.state||{idx:null}).idx}function m(){f="POP";let t=g(),e=null==t?null:t-p;p=t,d&&d({action:f,location:v.location,delta:e})}function y(t){let e="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof t?t:h(t);return n=n.replace(/ $/,"%20"),s(e,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,e)}null==p&&(p=0,u.replaceState({...u.state,idx:p},""));let v={get action(){return f},get location(){return t(o,u)},listen(t){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(i,m),d=t,()=>{o.removeEventListener(i,m),d=null}},createHref:t=>e(o,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){f="PUSH";let r=c(v.location,t,e);n&&n(r,t),p=g()+1;let i=l(r,p),s=v.createHref(r);try{u.pushState(i,"",s)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(s)}a&&d&&d({action:f,location:v.location,delta:1})},replace:function(t,e){f="REPLACE";let r=c(v.location,t,e);n&&n(r,t),p=g();let o=l(r,p),i=v.createHref(r);u.replaceState(o,"",i),a&&d&&d({action:f,location:v.location,delta:0})},go:t=>u.go(t)};return v}function p(t,e){return g(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(t,e,n,r){let o=R(("string"===typeof e?f(e):e).pathname||"/",n);if(null==o)return null;let i=m(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let t=N(o);a=I(i[s],t,r)}return a}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(t,o,i)=>{let a={relativePath:void 0===i?t.path||"":i,caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let u=k([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(s(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),m(t.children,e,l,u)),(null!=t.path||t.index)&&e.push({path:u,score:S(u,t.index),routesMeta:l})};return t.forEach(((t,e)=>{if(""!==t.path&&t.path?.includes("?"))for(let n of y(t.path))o(t,e,n);else o(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=y(r.join("/")),s=[];return s.push(...a.map((t=>""===t?i:[i,t].join("/")))),o&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}var v=/^:[\w-]+$/,w=3,E=2,C=1,_=10,b=-2,A=t=>"*"===t;function S(t,e){let n=t.split("/"),r=n.length;return n.some(A)&&(r+=b),e&&(r+=E),n.filter((t=>!A(t))).reduce(((t,e)=>t+(v.test(e)?w:""===e?C:_)),r)}function I(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=t,o={},i="/",a=[];for(let s=0;s<r.length;++s){let t=r[s],u=s===r.length-1,l="/"===i?e:e.slice(i.length)||"/",c=T({path:t.relativePath,caseSensitive:t.caseSensitive,end:u},l),h=t.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=T({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:k([i,c.pathname]),pathnameBase:P(k([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=k([i,c.pathnameBase]))}return a}function T(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u("*"===t||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),o+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==t&&"/"!==t&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,e?void 0:"i");return[i,r]}(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:o}=e;if("*"===r){let t=s[n]||"";a=i.slice(0,i.length-t.length).replace(/(.)\/+$/,"$1")}const u=s[n];return t[r]=o&&!u?void 0:(u||"").replace(/%2F/g,"/"),t}),{}),pathname:i,pathnameBase:a,pattern:t}}function N(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return u(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function R(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function O(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function x(t){let e=D(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function M(t,e,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?r=f(t):(r={...t},s(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let i,a=""===t||""===r.pathname,u=a?"/":r.pathname;if(null==u)i=n;else{let t=e.length-1;if(!o&&u.startsWith("..")){let e=u.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}i=t>=0?e[t]:"/"}let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof t?f(t):t,i=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:i,search:L(r),hash:B(o)}}(r,i),c=u&&"/"!==u&&u.endsWith("/"),h=(a||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var k=t=>t.join("/").replace(/\/\/+/g,"/"),P=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",B=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function F(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var V=["POST","PUT","PATCH","DELETE"],U=(new Set(V),["GET",...V]);new Set(U),Symbol("ResetLoaderData");var j=r.createContext(null);j.displayName="DataRouter";var z=r.createContext(null);z.displayName="DataRouterState";var H=r.createContext({isTransitioning:!1});H.displayName="ViewTransition";var G=r.createContext(new Map);G.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var X=r.createContext(null);X.displayName="Navigation";var $=r.createContext(null);$.displayName="Location";var q=r.createContext({outlet:null,matches:[],isDataRoute:!1});q.displayName="Route";var K=r.createContext(null);K.displayName="RouteError";function Y(){return null!=r.useContext($)}function Q(){return s(Y(),"useLocation() may be used only in the context of a <Router> component."),r.useContext($).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J(t){r.useContext(X).static||r.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=r.useContext(q);return t?function(){let{router:t}=lt("useNavigate"),e=ht("useNavigate"),n=r.useRef(!1);J((()=>{n.current=!0}));let o=r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(n.current,Z),n.current&&("number"===typeof r?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))}),[t,e]);return o}():function(){s(Y(),"useNavigate() may be used only in the context of a <Router> component.");let t=r.useContext(j),{basename:e,navigator:n}=r.useContext(X),{matches:o}=r.useContext(q),{pathname:i}=Q(),a=JSON.stringify(x(o)),l=r.useRef(!1);J((()=>{l.current=!0}));let c=r.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(l.current,Z),!l.current)return;if("number"===typeof r)return void n.go(r);let s=M(r,JSON.parse(a),i,"path"===o.relative);null==t&&"/"!==e&&(s.pathname="/"===s.pathname?e:k([e,s.pathname])),(o.replace?n.replace:n.push)(s,o.state,o)}),[e,n,a,i,t]);return c}()}r.createContext(null);function et(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(q),{pathname:o}=Q(),i=JSON.stringify(x(n));return r.useMemo((()=>M(t,JSON.parse(i),o,"path"===e)),[t,i,o,e])}function nt(t,e,n,o){s(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(X),{matches:a}=r.useContext(q),u=a[a.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let h,d=Q();if(e){let t="string"===typeof e?f(e):e;s("/"===c||t.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${t.pathname}" was given in the \`location\` prop.`),h=t}else h=d;let g=h.pathname||"/",m=g;if("/"!==c){let t=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=p(t,{pathname:m});let v=st(y&&y.map((t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:k([c,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:k([c,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n,o);return e&&v?r.createElement($.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function rt(){let t=ft(),e=F(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a=null;return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:i},n):null,a)}var ot=r.createElement(rt,null),it=class extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(q.Provider,{value:this.props.routeContext},r.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function at(t){let{routeContext:e,match:n,children:o}=t,i=r.useContext(j);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(q.Provider,{value:e},o)}function st(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let o=t,i=n?.errors;if(null!=i){let t=o.findIndex((t=>t.route.id&&void 0!==i?.[t.route.id]));s(t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,t+1))}let a=!1,u=-1;if(n)for(let r=0;r<o.length;r++){let t=o[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=r),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){a=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((t,s,l)=>{let c,h=!1,f=null,d=null;n&&(c=i&&s.route.id?i[s.route.id]:void 0,f=s.route.errorElement||ot,a&&(u<0&&0===l?(pt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,d=null):u===l&&(h=!0,d=s.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,l+1)),g=()=>{let e;return e=c?f:h?d:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:t,r.createElement(at,{match:s,routeContext:{outlet:t,matches:p,isDataRoute:null!=n},children:e})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===l)?r.createElement(it,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function ut(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(t){let e=r.useContext(j);return s(e,ut(t)),e}function ct(t){let e=r.useContext(z);return s(e,ut(t)),e}function ht(t){let e=function(t){let e=r.useContext(q);return s(e,ut(t)),e}(t),n=e.matches[e.matches.length-1];return s(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ft(){let t=r.useContext(K),e=ct("useRouteError"),n=ht("useRouteError");return void 0!==t?t:e.errors?.[n]}var dt={};function pt(t,e,n){e||dt[t]||(dt[t]=!0,u(!1,n))}r.memo((function(t){let{routes:e,future:n,state:r}=t;return nt(e,void 0,r,n)}));function gt(t){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mt(t){let{basename:e="/",children:n=null,location:o,navigationType:i="POP",navigator:a,static:l=!1}=t;s(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:c,navigator:a,static:l,future:{}})),[c,a,l]);"string"===typeof o&&(o=f(o));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:y="default"}=o,v=r.useMemo((()=>{let t=R(d,c);return null==t?null:{location:{pathname:t,search:p,hash:g,state:m,key:y},navigationType:i}}),[c,d,p,g,m,y,i]);return u(null!=v,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(X.Provider,{value:h},r.createElement($.Provider,{children:n,value:v}))}function yt(t){let{children:e,location:n}=t;return nt(vt(e),n)}r.Component;function vt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(t,((t,o)=>{if(!r.isValidElement(t))return;let i=[...e,o];if(t.type===r.Fragment)return void n.push.apply(n,vt(t.props.children,i));s(t.type===gt,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=vt(t.props.children,i)),n.push(a)})),n}var wt="get",Et="application/x-www-form-urlencoded";function Ct(t){return null!=t&&"string"===typeof t.tagName}var _t=null;var bt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function At(t){return null==t||bt.has(t)?t:(u(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Et}"`),null)}function St(t,e){let n,r,o,i,a;if(Ct(s=t)&&"form"===s.tagName.toLowerCase()){let a=t.getAttribute("action");r=a?R(a,e):null,n=t.getAttribute("method")||wt,o=At(t.getAttribute("enctype"))||Et,i=new FormData(t)}else if(function(t){return Ct(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return Ct(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let a=t.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=t.getAttribute("formaction")||a.getAttribute("action");if(r=s?R(s,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||wt,o=At(t.getAttribute("formenctype"))||At(a.getAttribute("enctype"))||Et,i=new FormData(a,t),!function(){if(null===_t)try{new FormData(document.createElement("form"),0),_t=!1}catch(t){_t=!0}return _t}()){let{name:e,type:n,value:r}=t;if("image"===n){let t=e?`${e}.`:"";i.append(`${t}x`,"0"),i.append(`${t}y`,"0")}else e&&i.append(e,r)}}else{if(Ct(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wt,r=null,o=Et,a=t}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function It(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function Tt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Nt(t){return null!=t&&"string"===typeof t.page}function Rt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Ot(t,e,n,r,o,i){let a=(t,e)=>!n[e]||t.route.id!==n[e].route.id,s=(t,e)=>n[e].pathname!==t.pathname||n[e].route.path?.endsWith("*")&&n[e].params["*"]!==t.params["*"];return"assets"===i?e.filter(((t,e)=>a(t,e)||s(t,e))):"data"===i?e.filter(((e,i)=>{let u=r.routes[e.route.id];if(!u||!u.hasLoader)return!1;if(a(e,i)||s(e,i))return!0;if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Dt(t){return[...new Set(t)]}function xt(t,e){let n=new Set,r=new Set(e);return t.reduce(((t,o)=>{if(e&&!Nt(o)&&"script"===o.as&&o.href&&r.has(o.href))return t;let i=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}(o));return n.has(i)||(n.add(i),t.push({key:i,link:o})),t}),[])}function Mt(t){return{__html:t}}Symbol("SingleFetchRedirect");function kt(t){let e="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===e.pathname?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}r.Component;function Pt(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(e))return r.createElement(Lt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),i);if(e instanceof Error)o=e;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);o=new Error(t)}return r.createElement(Lt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function Lt(t){let{title:e,renderScripts:n,isOutsideRemixApp:o,children:i}=t,{routeModules:a}=jt();return a.root?.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,e)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?r.createElement(qt,null):null)))}function Bt(t){return!t}function Ft(){let t=r.useContext(j);return It(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vt(){let t=r.useContext(z);return It(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ut=r.createContext(void 0);function jt(){let t=r.useContext(Ut);return It(t,"You must render this element inside a <HydratedRouter> element"),t}function zt(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ht(t,e,n){if(n&&!$t)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function Gt(t){let{page:e,...n}=t,{router:o}=Ft(),i=r.useMemo((()=>p(o.routes,e,o.basename)),[o.routes,e,o.basename]);return i?r.createElement(Xt,{page:e,matches:i,...n}):(console.warn(`Tried to prefetch ${e} but no routes matched.`),null)}function Wt(t){let{manifest:e,routeModules:n}=jt(),[o,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(t,e,n){return xt((await Promise.all(t.map((async t=>{let r=e.routes[t.route.id];if(r){let t=await Tt(r,n);return t.links?t.links():[]}return[]})))).flat(1).filter(Rt).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"})))}(t,e,n).then((t=>{r||i(t)})),()=>{r=!0}}),[t,e,n]),o}function Xt(t){let{page:e,matches:n,...o}=t,i=Q(),{manifest:a,routeModules:s}=jt(),{loaderData:u,matches:l}=Vt(),c=r.useMemo((()=>Ot(e,n,l,a,i,"data")),[e,n,l,a,i]),h=r.useMemo((()=>Ot(e,n,l,a,i,"assets")),[e,n,l,a,i]),f=r.useMemo((()=>{if(e===i.pathname+i.search+i.hash)return[];let t=new Set,r=!1;if(n.forEach((e=>{let n=a.routes[e.route.id];n&&n.hasLoader&&(!c.some((t=>t.route.id===e.route.id))&&e.route.id in u&&s[e.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:t.add(e.route.id))})),0===t.size)return[];let o=kt(e);return r&&t.size>0&&o.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[o.pathname+o.search]}),[u,i,a,c,n,e,s]),d=r.useMemo((()=>function(t,e){return Dt(t.map((t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(h,a)),[h,a]),p=Wt(h);return r.createElement(r.Fragment,null,f.map((t=>r.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...o}))),d.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,...o}))),p.map((t=>{let{key:e,link:n}=t;return r.createElement("link",{key:e,...n})})))}Ut.displayName="FrameworkContext";var $t=!1;function qt(t){let{manifest:e,serverHandoffString:n,isSpaMode:o,renderMeta:i}=jt(),{router:a,static:s,staticContext:u}=Ft(),{matches:l}=Vt(),c=Bt(o);i&&(i.didRenderScripts=!0);let h=Ht(l,null,o);r.useEffect((()=>{$t=!0}),[]);let f=r.useMemo((()=>{let o=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=s?`${e.hmr?.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(e.url)}`};\n${h.map(((t,n)=>`import * as route${n} from ${JSON.stringify(e.routes[t.route.id].module)};`)).join("\n")}\n  ${c?`window.__reactRouterManifest = ${JSON.stringify(function(t,e){let n=new Set(e.state.matches.map((t=>t.route.id))),r=e.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push(`/${r.join("/")}`),r.pop();o.forEach((t=>{let r=p(e.routes,t,e.basename);r&&r.forEach((t=>n.add(t.route.id)))}));let i=[...n].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return{...t,routes:i}}(e,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((t,e)=>`${JSON.stringify(t.route.id)}:route${e}`)).join(",")}};\n\nimport(${JSON.stringify(e.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Mt(o),type:void 0}),r.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Mt(i),type:"module",async:!0}))}),[]),d=h.map((t=>{let n=e.routes[t.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),g=$t?[]:e.entry.imports.concat(d);return $t?null:r.createElement(r.Fragment,null,c?null:r.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin}),(m=g,[...new Set(m)]).map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin}))),f);var m}function Kt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var Yt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Yt&&(window.__reactRouterVersion="7.0.1")}catch(IC){}function Qt(t){let{basename:e,children:n,window:o}=t,i=r.useRef();null==i.current&&(i.current=a({window:o,v5Compat:!0}));let s=i.current,[u,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback((t=>{r.startTransition((()=>l(t)))}),[l]);return r.useLayoutEffect((()=>s.listen(c)),[s,c]),r.createElement(mt,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:s})}var Zt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=r.forwardRef((function(t,e){let n,{onClick:o,discover:i="render",prefetch:a="none",relative:l,reloadDocument:c,replace:f,state:d,target:p,to:g,preventScrollReset:m,viewTransition:y,...v}=t,{basename:w}=r.useContext(X),E="string"===typeof g&&Zt.test(g),C=!1;if("string"===typeof g&&E&&(n=g,Yt))try{let t=new URL(window.location.href),e=g.startsWith("//")?new URL(t.protocol+g):new URL(g),n=R(e.pathname,w);e.origin===t.origin&&null!=n?g=n+e.search+e.hash:C=!0}catch(IC){u(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(X),{hash:i,pathname:a,search:u}=et(t,{relative:e}),l=a;return"/"!==n&&(l="/"===a?n:k([n,a])),o.createHref({pathname:l,search:u,hash:i})}(g,{relative:l}),[b,A,S]=function(t,e){let n=r.useContext(Ut),[o,i]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:u,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,d=r.useRef(null);r.useEffect((()=>{if("render"===t&&s(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{s(t.isIntersecting)}))}),{threshold:.5});return d.current&&t.observe(d.current),()=>{t.disconnect()}}}),[t]),r.useEffect((()=>{if(o){let t=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(t)}}}),[o]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return n?"intent"!==t?[a,d,{}]:[a,d,{onFocus:zt(u,p),onBlur:zt(l,g),onMouseEnter:zt(c,p),onMouseLeave:zt(h,g),onTouchStart:zt(f,p)}]:[!1,d,{}]}(a,v),I=function(t){let{target:e,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=tt(),l=Q(),c=et(t,{relative:a});return r.useCallback((r=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(r,e)){r.preventDefault();let e=void 0!==n?n:h(l)===h(c);u(t,{replace:e,state:o,preventScrollReset:i,relative:a,viewTransition:s})}}),[l,u,c,n,o,e,t,i,a,s])}(g,{replace:f,state:d,target:p,preventScrollReset:m,relative:l,viewTransition:y});let T=r.createElement("a",{...v,...S,href:n||_,onClick:C||c?o:function(t){o&&o(t),t.defaultPrevented||I(t)},ref:Kt(e,A),target:p,"data-discover":E||"render"!==i?void 0:"true"});return b&&!E?r.createElement(r.Fragment,null,T,r.createElement(Gt,{page:_})):T}));Jt.displayName="Link",r.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:u,to:l,viewTransition:c,children:h,...f}=t,d=et(l,{relative:f.relative}),p=Q(),g=r.useContext(z),{navigator:m,basename:y}=r.useContext(X),v=null!=g&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(H);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=ne("useViewTransitionState"),i=et(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=R(n.currentLocation.pathname,o)||n.currentLocation.pathname,u=R(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=T(i.pathname,u)||null!=T(i.pathname,a)}(d)&&!0===c,w=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(E=E.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&y&&(C=R(C,y)||C);const _="/"!==w&&w.endsWith("/")?w.length-1:w.length;let b,A=E===w||!a&&E.startsWith(w)&&"/"===E.charAt(_),S=null!=C&&(C===w||!a&&C.startsWith(w)&&"/"===C.charAt(w.length)),I={isActive:A,isPending:S,isTransitioning:v},N=A?n:void 0;b="function"===typeof i?i(I):[i,A?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof u?u(I):u;return r.createElement(Jt,{...f,"aria-current":N,className:b,ref:e,style:O,to:l,viewTransition:c},"function"===typeof h?h(I):h)})).displayName="NavLink";var te=r.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:o,navigate:i,reloadDocument:a,replace:u,state:l,method:c=wt,action:f,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:m,...y}=t,v=ie(),w=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(X),o=r.useContext(q);s(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...et(t||".",{relative:e})},u=Q();if(null==t){a.search=u.search;let t=new URLSearchParams(a.search),e=t.getAll("index"),n=e.some((t=>""===t));if(n){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:k([n,a.pathname]));return h(a)}(f,{relative:p}),E="get"===c.toLowerCase()?"get":"post",C="string"===typeof f&&Zt.test(f);return r.createElement("form",{ref:e,method:E,action:w,onSubmit:a?d:t=>{if(d&&d(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=e?.getAttribute("formmethod")||c;v(e||t.currentTarget,{fetcherKey:o,method:n,navigate:i,replace:u,state:l,relative:p,preventScrollReset:g,viewTransition:m})},...y,"data-discover":C||"render"!==n?void 0:"true"})}));function ee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ne(t){let e=r.useContext(j);return s(e,ee(t)),e}te.displayName="Form";var re=0,oe=()=>`__${String(++re)}__`;function ie(){let{router:t}=ne("useSubmit"),{basename:e}=r.useContext(X),n=ht("useRouteId");return r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:u,body:l}=St(r,e);if(!1===o.navigate){let e=o.fetcherKey||oe();await t.fetch(e,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:l,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:l,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[t,e,n])}new TextEncoder;function ae(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(null,arguments)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ue(t,e)}const ce=r.createContext(null);function he(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function fe(t,e,n){return null!=n[e]?n[e]:t.props[e]}function de(t,e,n){var o=he(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,o=Object.create(null),i=[];for(var a in t)a in e?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in e){if(o[u])for(r=0;r<o[u].length;r++){var l=o[u][r];s[o[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(e,o);return Object.keys(i).forEach((function(a){var s=i[a];if((0,r.isValidElement)(s)){var u=a in e,l=a in o,c=e[a],h=(0,r.isValidElement)(c)&&!c.props.in;!l||u&&!h?l||!u||h?l&&u&&(0,r.isValidElement)(c)&&(i[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:fe(s,"exit",t),enter:fe(s,"enter",t)})):i[a]=(0,r.cloneElement)(s,{in:!1}):i[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:fe(s,"exit",t),enter:fe(s,"enter",t)})}})),i}var pe=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},ge=function(t){function e(e,n){var r,o=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}le(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,o,i=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,o=a,he(n.children,(function(t){return(0,r.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:fe(t,"appear",n),enter:fe(t,"enter",n),exit:fe(t,"exit",n)})}))):de(t,i,a),firstRender:!1}},n.handleExited=function(t,e){var n=he(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=se({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,o=ae(t,["component","childFactory"]),i=this.state.contextValue,a=pe(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===e?r.createElement(ce.Provider,{value:i},a):r.createElement(ce.Provider,{value:i},r.createElement(e,o,a))},e}(r.Component);ge.propTypes={},ge.defaultProps={component:"div",childFactory:function(t){return t}};const me=ge;function ye(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var ve=n(950);const we=!1;var Ee=function(t){return t.scrollTop},Ce="unmounted",_e="exited",be="entering",Ae="entered",Se="exiting",Ie=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=_e,r.appearStatus=be):o=Ae:o=e.unmountOnExit||e.mountOnEnter?Ce:_e,r.state={status:o},r.nextCallback=null,r}le(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Ce?{status:_e}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==be&&n!==Ae&&(e=be):n!==be&&n!==Ae||(e=Se)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===be){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ve.findDOMNode(this);n&&Ee(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_e&&this.setState({status:Ce})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,o=this.props.nodeRef?[r]:[ve.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!t&&!n||we?this.safeSetState({status:Ae},(function(){e.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:be},(function(){e.props.onEntering(i,a),e.onTransitionEnd(u,(function(){e.safeSetState({status:Ae},(function(){e.props.onEntered(i,a)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ve.findDOMNode(this);e&&!we?(this.props.onExit(r),this.safeSetState({status:Se},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:_e},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:_e},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:ve.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===Ce)return null;var e=this.props,n=e.children,o=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,ae(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(ce.Provider,{value:null},"function"===typeof n?n(t,o):r.cloneElement(r.Children.only(n),o))},e}(r.Component);function Te(){}Ie.contextType=ce,Ie.propTypes={},Ie.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Te,onEntering:Te,onEntered:Te,onExit:Te,onExiting:Te,onExited:Te},Ie.UNMOUNTED=Ce,Ie.EXITED=_e,Ie.ENTERING=be,Ie.ENTERED=Ae,Ie.EXITING=Se;const Ne=Ie;var Re=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return r=e,void((n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ye(n.className,r):n.setAttribute("class",ye(n.className&&n.className.baseVal||"",r)));var n,r}))},Oe=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),o=r[0],i=r[1];e.removeClasses(o,"exit"),e.addClass(o,i?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),o=r[0],i=r[1]?"appear":"enter";e.addClass(o,i,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),o=r[0],i=r[1]?"appear":"enter";e.removeClasses(o,i),e.addClass(o,i,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+t:n[t];return{baseClassName:o,activeClassName:r?o+"-active":n[t+"Active"],doneClassName:r?o+"-done":n[t+"Done"]}},e}le(e,t);var n=e.prototype;return n.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&o&&(r+=" "+o),"active"===n&&t&&Ee(t),r&&(this.appliedClasses[e][n]=r,function(t,e){t&&e&&e.split(" ").forEach((function(e){return r=e,void((n=t).classList?n.classList.add(r):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(t,r))},n.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,o=n.active,i=n.done;this.appliedClasses[e]={},r&&Re(t,r),o&&Re(t,o),i&&Re(t,i)},n.render=function(){var t=this.props,e=(t.classNames,ae(t,["classNames"]));return r.createElement(Ne,se({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(r.Component);Oe.defaultProps={classNames:""},Oe.propTypes={};const De=Oe;var xe=n(579);const Me=function(){const t=tt(),[e,n]=(0,r.useState)(""),[o,i]=(0,r.useState)("");return(0,xe.jsx)("div",{className:"login-container",children:(0,xe.jsxs)("div",{className:"login-form",children:[(0,xe.jsx)("h2",{children:"Log In"}),(0,xe.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t("/dashboard")},children:[(0,xe.jsx)("input",{type:"text",placeholder:"User name / Email",value:e,onChange:t=>n(t.target.value),required:!0}),(0,xe.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:t=>i(t.target.value),required:!0}),(0,xe.jsx)("button",{type:"submit",children:"LOG IN NOW"})]})]})})},ke=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296===(64512&o)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const e=t[o],i=o+1<t.length,a=i?t[o+1]:0,s=o+2<t.length,u=s?t[o+2]:0,l=e>>2,c=(3&e)<<4|a>>4;let h=(15&a)<<2|u>>6,f=63&u;s||(f=64,i||(h=64)),r.push(n[l],n[c],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ke(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const e=n[t.charAt(o++)],i=o<t.length?n[t.charAt(o)]:0;++o;const a=o<t.length?n[t.charAt(o)]:64;++o;const s=o<t.length?n[t.charAt(o)]:64;if(++o,null==e||null==i||null==a||null==s)throw new Le;const u=e<<2|i>>4;if(r.push(u),64!==a){const t=i<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(t){return function(t){const e=ke(t);return Pe.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Fe=function(t){try{return Pe.decodeString(t,!0)}catch(IC){console.error("base64Decode failed: ",IC)}return null};const Ve=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ue=()=>{try{return Ve()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/AttendanceGCTU",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(IC){return}const e=t&&Fe(t[1]);return e&&JSON.parse(e)})()}catch(IC){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${IC}`)}},je=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Ue())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ze=()=>{var t;return null===(t=Ue())||void 0===t?void 0:t.config};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function We(){return!function(){var t;const e=null===(t=Ue())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(IC){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xe(){try{return"object"===typeof indexedDB}catch(IC){return!1}}class $e extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${t}`,r=this.errors[t],o=r?function(t,e){return t.replace(Ke,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(r,e):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new $e(n,i,e)}}const Ke=/\{\$([^}]+)}/g;function Ye(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const n=t[o],i=e[o];if(Qe(n)&&Qe(i)){if(!Ye(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Qe(t){return null!==t&&"object"===typeof t}function Ze(t){return t&&t._delegate?t._delegate:t}class Je{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tn="[DEFAULT]";class en{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new He;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(IC){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(IC){if(r)return null;throw IC}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(IC){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(IC){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&t(i,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(aE){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=e,o===tn?void 0:o),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(aE){}var o;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?t:tn:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new en(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const rn=[];var on;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(on||(on={}));const an={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},sn=on.INFO,un={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},ln=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=un[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${t.name}:`,...i)};class cn{constructor(t){this.name=t,this._logLevel=sn,this._logHandler=ln,this._userLogHandler=null,rn.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in on))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?an[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}let hn,fn;const dn=new WeakMap,pn=new WeakMap,gn=new WeakMap,mn=new WeakMap,yn=new WeakMap;let vn={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pn.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gn.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wn(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fn||(fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(_n(this),n),Cn(dn.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cn(t.apply(_n(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=t.call(_n(this),e,...r);return gn.set(i,e.sort?e.sort():[e]),Cn(i)}}function En(t){return"function"===typeof t?wn(t):(t instanceof IDBTransaction&&function(t){if(pn.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));pn.set(t,e)}(t),e=t,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,vn):t);var e}function Cn(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(Cn(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&dn.set(e,t)})).catch((()=>{})),yn.set(e,t),e}(t);if(mn.has(t))return mn.get(t);const e=En(t);return e!==t&&(mn.set(t,e),yn.set(e,t)),e}const _n=t=>yn.get(t);const bn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],Sn=new Map;function In(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Sn.get(e))return Sn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=An.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!bn.includes(n))return;const i=async function(t){const e=this.transaction(t,o?"readwrite":"readonly");let i=e.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&e.done]))[0]};return Sn.set(e,i),i}vn=(t=>({...t,get:(e,n,r)=>In(e,n)||t.get(e,n,r),has:(e,n)=>!!In(e,n)||t.has(e,n)}))(vn);class Tn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Nn="@firebase/app",Rn="0.10.16",On=new cn("@firebase/app"),Dn="@firebase/app-compat",xn="@firebase/analytics-compat",Mn="@firebase/analytics",kn="@firebase/app-check-compat",Pn="@firebase/app-check",Ln="@firebase/auth",Bn="@firebase/auth-compat",Fn="@firebase/database",Vn="@firebase/data-connect",Un="@firebase/database-compat",jn="@firebase/functions",zn="@firebase/functions-compat",Hn="@firebase/installations",Gn="@firebase/installations-compat",Wn="@firebase/messaging",Xn="@firebase/messaging-compat",$n="@firebase/performance",qn="@firebase/performance-compat",Kn="@firebase/remote-config",Yn="@firebase/remote-config-compat",Qn="@firebase/storage",Zn="@firebase/storage-compat",Jn="@firebase/firestore",tr="@firebase/vertexai",er="@firebase/firestore-compat",nr="firebase",rr="[DEFAULT]",or={[Nn]:"fire-core",[Dn]:"fire-core-compat",[Mn]:"fire-analytics",[xn]:"fire-analytics-compat",[Pn]:"fire-app-check",[kn]:"fire-app-check-compat",[Ln]:"fire-auth",[Bn]:"fire-auth-compat",[Fn]:"fire-rtdb",[Vn]:"fire-data-connect",[Un]:"fire-rtdb-compat",[jn]:"fire-fn",[zn]:"fire-fn-compat",[Hn]:"fire-iid",[Gn]:"fire-iid-compat",[Wn]:"fire-fcm",[Xn]:"fire-fcm-compat",[$n]:"fire-perf",[qn]:"fire-perf-compat",[Kn]:"fire-rc",[Yn]:"fire-rc-compat",[Qn]:"fire-gcs",[Zn]:"fire-gcs-compat",[Jn]:"fire-fst",[er]:"fire-fst-compat",[tr]:"fire-vertex","fire-js":"fire-js",[nr]:"fire-js-all"},ir=new Map,ar=new Map,sr=new Map;function ur(t,e){try{t.container.addComponent(e)}catch(IC){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,IC)}}function lr(t){const e=t.name;if(sr.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;sr.set(e,t);for(const n of ir.values())ur(n,t);for(const n of ar.values())ur(n,t);return!0}function cr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const hr=new qe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fr{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Je("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}function dr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:rr,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!==typeof o||!o)throw hr.create("bad-app-name",{appName:String(o)});if(n||(n=ze()),!n)throw hr.create("no-options");const i=ir.get(o);if(i){if(Ye(n,i.options)&&Ye(r,i.config))return i;throw hr.create("duplicate-app",{appName:o})}const a=new nn(o);for(const u of sr.values())a.addComponent(u);const s=new fr(n,r,a);return ir.set(o,s),s}function pr(t,e,n){var r;let o=null!==(r=or[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const t=[`Unable to register library "${o}" with version "${e}":`];return i&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void On.warn(t.join(" "))}lr(new Je(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}const gr="firebase-heartbeat-store";let mr=null;function yr(){return mr||(mr=function(t,e){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(t,e),s=Cn(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(Cn(a.result),t.oldVersion,t.newVersion,Cn(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(gr)}catch(IC){console.warn(IC)}}}).catch((t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})}))),mr}async function vr(t,e){try{const n=(await yr()).transaction(gr,"readwrite"),r=n.objectStore(gr);await r.put(e,wr(t)),await n.done}catch(IC){if(IC instanceof $e)On.warn(IC.message);else{const e=hr.create("idb-set",{originalErrorMessage:null===IC||void 0===IC?void 0:IC.message});On.warn(e.message)}}}function wr(t){return`${t.name}!${t.options.appId}`}class Er{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _r(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cr();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(IC){On.warn(IC)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Cr(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const o of t){const t=n.find((t=>t.agent===o.agent));if(t){if(t.dates.push(o.date),br(n)>e){t.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),br(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Be(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(IC){return On.warn(IC),""}}}function Cr(){return(new Date).toISOString().substring(0,10)}class _r{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Xe()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await yr()).transaction(gr),n=await e.objectStore(gr).get(wr(t));return await e.done,n}catch(IC){if(IC instanceof $e)On.warn(IC.message);else{const e=hr.create("idb-get",{originalErrorMessage:null===IC||void 0===IC?void 0:IC.message});On.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return vr(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return vr(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function br(t){return Be(JSON.stringify({version:2,heartbeats:t})).length}var Ar;Ar="",lr(new Je("platform-logger",(t=>new Tn(t)),"PRIVATE")),lr(new Je("heartbeat",(t=>new Er(t)),"PRIVATE")),pr(Nn,Rn,Ar),pr(Nn,Rn,"esm2017"),pr("fire-js","");pr("firebase","11.0.2","app");var Sr,Ir,Tr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nr={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var i=t.g[3],a=e+(i^n&(o^i))+r[0]+3614090360&4294967295;a=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=n+(a<<7&4294967295|a>>>25))+((a=i+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^o&(i^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^o&(i^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^o&(i^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^o&(i^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=o+(e^n&(i^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=o+(e^n&(i^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=o+(e^n&(i^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=o+(e^n&(i^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=o+(e^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=o+(e^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=o+(e^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(e=n+((a=e+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((o=i+((a=o+(e^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+i&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var i=0|t[o];r&&i==e||(n[o]=i,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,o=this.B,i=this.h,a=0;a<e;){if(0==i)for(;a<=r;)n(this,t,a),a+=this.blockSize;if("string"===typeof t){for(;a<e;)if(o[i++]=t.charCodeAt(a++),i==this.blockSize){n(this,o),i=0;break}}else for(;a<e;)if(o[i++]=t[a++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var o={};function i(t){return-128<=t&&128>t?function(t,e){var n=o;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return s;if(0>t)return f(a(-t));for(var e=[],n=1,o=0;t>=n;o++)e[o]=t/n|0,n*=4294967296;return new r(e,0)}var s=i(0),u=i(1),l=i(16777216);function c(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function f(t){for(var e=t.g.length,n=[],o=0;o<e;o++)n[o]=~t.g[o];return new r(n,~t.h).add(u)}function d(t,e){return t.add(f(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(c(e))throw Error("division by zero");if(c(t))return new g(s,s);if(h(t))return e=m(f(t),e),new g(f(e.g),f(e.h));if(h(e))return e=m(t,f(e)),new g(f(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=e;0>=r.l(t);)n=y(n),r=y(r);var o=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var l=i.add(r);0>=l.l(t)&&(o=o.add(n),i=l),r=v(r,1),n=v(n,1)}return e=d(t,o.j(e)),new g(o,e)}for(o=s;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(i=a(n)).j(e);h(l)||0<l.l(t);)l=(i=a(n-=r)).j(e);c(i)&&(i=u),o=o.add(i),t=d(t,l)}return new g(o,t)}function y(t){for(var e=t.g.length+1,n=[],o=0;o<e;o++)n[o]=t.i(o)<<1|t.i(o-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var o=t.g.length-n,i=[],a=0;a<o;a++)i[a]=0<e?t.i(a+n)>>>e|t.i(a+n+1)<<32-e:t.i(a+n);return new r(i,t.h)}(t=r.prototype).m=function(){if(h(this))return-f(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(c(this))return"0";if(h(this))return"-"+f(this).toString(t);for(var e=a(Math.pow(t,6)),n=this,r="";;){var o=m(n,e).g,i=((0<(n=d(n,o.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(c(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=d(this,t))?-1:c(t)?0:1},t.abs=function(){return h(this)?f(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],o=0,i=0;i<=e;i++){var a=o+(65535&this.i(i))+(65535&t.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(t.i(i)>>>16);o=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(c(this)||c(t))return s;if(h(this))return h(t)?f(this).j(f(t)):f(f(this).j(t));if(h(t))return f(this.j(f(t)));if(0>this.l(l)&&0>t.l(l))return a(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<t.g.length;i++){var u=this.i(o)>>>16,d=65535&this.i(o),g=t.i(i)>>>16,m=65535&t.i(i);n[2*o+2*i]+=d*m,p(n,2*o+2*i),n[2*o+2*i+1]+=u*m,p(n,2*o+2*i+1),n[2*o+2*i+1]+=d*g,p(n,2*o+2*i+1),n[2*o+2*i+2]+=u*g,p(n,2*o+2*i+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new r(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],o=0;o<e;o++)n[o]=this.i(o)&t.i(o);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],o=0;o<e;o++)n[o]=this.i(o)|t.i(o);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],o=0;o<e;o++)n[o]=this.i(o)^t.i(o);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Ir=Nr.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return f(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),o=s,i=0;i<e.length;i+=8){var u=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+u),n);8>u?(u=a(Math.pow(n,u)),o=o.j(u).add(a(l))):o=(o=o.j(r)).add(a(l))}return o},Sr=Nr.Integer=r}).apply("undefined"!==typeof Tr?Tr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Rr,Or,Dr,xr,Mr,kr,Pr,Lr,Br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fr={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Br&&Br];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var o=n;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];if(!(a in o))break t;o=o[a]}(r=r(i=o[t=t[t.length-1]]))!=i&&null!=r&&e(o,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,o={next:function(){if(!r&&n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(t,e){return e}))}}));var r=r||{},o=this||self;function i(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function s(t,e,n){return t.call.apply(t.bind,arguments)}function u(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function l(t,e,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:u).apply(null,arguments)}function c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function f(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function d(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(i(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let o=0;o<r;o++)t[n+o]=e[o]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=o.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w(t){const e={};for(const n in t)e[n]=t[n];return e}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let e=0;e<E.length;e++)n=E[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function b(t){o.setTimeout((()=>{throw t}),0)}function A(){var t=R;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var S=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new I),(t=>t.reset()));class I{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let T,N=!1,R=new class{constructor(){this.h=this.g=null}add(t,e){const n=S.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const t=o.Promise.resolve(void 0);T=()=>{t.then(D)}};var D=()=>{for(var t;t=A();){try{t.h.call(t.g)}catch(n){b(n)}var e=S;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}N=!1};function x(){this.s=this.s,this.C=this.C}function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}x.prototype.s=!1,x.prototype.ma=function(){this.s||(this.s=!0,this.N())},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};o.addEventListener("test",t,e),o.removeEventListener("test",t,e)}catch(n){}return t}();function P(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{m(e.nodeName);var o=!0;break t}catch(i){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&P.aa.h.call(this)}}h(P,M);var L={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=o,this.key=++F,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function j(t){this.src=t,this.g={},this.h=0}function z(t,e){var n=e.type;if(n in t.g){var r,o=t.g[n],i=Array.prototype.indexOf.call(o,e,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function H(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.da&&i.listener==e&&i.capture==!!n&&i.ha==r)return o}return-1}j.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.g[i])||(t=this.g[i]=[],this.h++);var a=H(t,e,r,o);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new V(e,this.src,i,!!r,o)).fa=n,t.push(e)),e};var G="closure_lm_"+(1e6*Math.random()|0),W={};function X(t,e,n,r,o){if(r&&r.once)return q(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)X(t,e[i],n,r,o);return null}return n=et(n),t&&t[B]?t.K(e,n,a(r)?!!r.capture:!!r,o):$(t,e,n,!1,r,o)}function $(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=a(o)?!!o.capture:!!o,u=J(t);if(u||(t[G]=u=new j(t)),(n=u.add(e,n,r,s,i)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=Z;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)k||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(Q(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function q(t,e,n,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)q(t,e[i],n,r,o);return null}return n=et(n),t&&t[B]?t.L(e,n,a(r)?!!r.capture:!!r,o):$(t,e,n,!0,r,o)}function K(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)K(t,e[i],n,r,o);else r=a(r)?!!r.capture:!!r,n=et(n),t&&t[B]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=H(i=t.g[e],n,r,o))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.g[e],t.h--)))):t&&(t=J(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H(e,n,r,o)),(n=-1<t?e[t]:null)&&Y(n))}function Y(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[B])z(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Q(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=J(e))?(z(n,t),0==n.h&&(n.src=null,e[G]=null)):U(t)}}}function Q(t){return t in W?W[t]:W[t]="on"+t}function Z(t,e){if(t.da)t=!0;else{e=new P(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&Y(t),t=n.call(r,e)}return t}function J(t){return(t=t[G])instanceof j?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){x.call(this),this.i=new j(this),this.M=this,this.F=null}function rt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var o=e;C(e=new M(r,t),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];o=ot(a,r,!0,e)&&o}if(o=ot(a=e.g=t,r,!0,e)&&o,o=ot(a,r,!1,e)&&o,n)for(i=0;i<n.length;i++)o=ot(a=e.g=n[i],r,!1,e)&&o}function ot(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.da&&a.capture==n){var s=a.listener,u=a.ha||a.src;a.fa&&z(t.i,a),o=!1!==s.call(u,r)&&o}}return o&&!r.defaultPrevented}function it(t,e,n){if("function"===typeof t)n&&(t=l(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function at(t){t.g=it((()=>{t.g=null,t.i&&(t.i=!1,at(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,x),nt.prototype[B]=!0,nt.prototype.removeEventListener=function(t,e,n,r){K(this,t,e,n,r)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)U(n[r]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class st extends x{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(t){x.call(this),this.h=t,this.g={}}h(ut,x);var lt=[];function ct(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Y(t)}),t),t.g={}}ut.prototype.N=function(){ut.aa.N.call(this),ct(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=o.JSON.stringify,ft=o.JSON.parse,dt=class{stringify(t){return o.JSON.stringify(t,void 0)}parse(t){return o.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){M.call(this,"d")}function wt(){M.call(this,"c")}h(vt,M),h(wt,M);var Et={},Ct=null;function _t(){return Ct=Ct||new nt}function bt(t){M.call(this,Et.La,t)}function At(t){const e=_t();rt(e,new bt(e))}function St(t,e){M.call(this,Et.STAT_EVENT,t),this.stat=e}function It(t){const e=_t();rt(e,new St(e,t))}function Tt(t,e){M.call(this,Et.Ma,t),this.size=e}function Nt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){t()}),e)}function Rt(){this.g=!0}function Ot(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<o.length;a++)o[a]=""}}}return ht(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Et.La="serverreachability",h(bt,M),Et.STAT_EVENT="statevent",h(St,M),Et.Ma="timingevent",h(Tt,M),Rt.prototype.xa=function(){this.g=!1},Rt.prototype.info=function(){};var Dt,xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function kt(){}function Pt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(kt,pt),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},Dt=new kt;var Bt={},Ft={};function Vt(t,e,n){t.L=1,t.v=he(ae(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),Ht(t),t.A=ae(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Se(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Lt,t.g=dn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new st(l(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var o="readystatechange";Array.isArray(o)||(o&&(lt[0]=o.toString()),o=lt);for(var i=0;i<o.length;i++){var a=X(n,o[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}e=t.H?w(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),At(),function(t,e,n,r,o,i){t.info((function(){if(t.g)if(i)for(var a="",s=i.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+a}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function jt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function zt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ft:(n=Number(e.substring(n,r)),isNaN(n)?Bt:(r+=1)+n>e.length?Ft:(e=e.slice(r,r+n),t.C=r+n,e))}function Ht(t){t.S=Date.now()+t.I,Gt(t,t.I)}function Gt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Nt(l(t.ba,t),e)}function Wt(t){t.B&&(o.clearTimeout(t.B),t.B=null)}function Xt(t){0==t.j.G||t.J||un(t.j,t)}function $t(t){Wt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ct(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function qt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Jt(n.h,t)))if(!t.K&&Jt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;sn(n),Ye(n)}rn(n),It(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Nt(l(n.Za,n),6e3));if(1>=Zt(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((t.K||n.g==t)&&sn(n),!p(e))for(o=n.Da.g.parse(e),e=0;e<o.length;e++){let l=o[e];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const e=l[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const o=l[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var i=r.h;i.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(te(i,i.h),i.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,ce(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=t;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),a.K){ee(r.h,a);var s=a,u=r.L;u&&(s.I=u),s.B&&(Wt(s),Ht(s)),r.g=a}else nn(r);0<n.i.length&&Ze(n)}else"stop"!=l[0]&&"close"!=l[0]||cn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?cn(n,7):Ke(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}At()}catch(c){}}Pt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==We(t)?e.j():this.Y(t)},Pt.prototype.Y=function(t){try{if(t==this.g)t:{const f=We(this.g);var e=this.g.Ba();this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||Xe(this.g)))){this.J||4!=f||7==e||At(),Wt(this);var n=this.g.Z();this.X=n;e:if(jt(this)){var r=Xe(this.g);t="";var i=r.length,a=4==We(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$t(this),Xt(this);var s="";break e}this.h.i=new o.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(a&&e==i-1)});r.length=0,this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(t,e,n,r,o,i,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var c=u;break e}}c=null}if(!(n=c)){this.o=!1,this.s=3,It(12),$t(this),Xt(this);break t}Ot(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<s.length;){if(t=zt(this,s),t==Ft){4==f&&(this.s=4,It(14),n=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}if(t==Bt){this.s=4,It(15),Ot(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ot(this.i,this.l,t,null),qt(this,t)}if(jt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=s.length||this.h.h||(this.s=1,It(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(h),h.M=!0,It(11))}}else Ot(this.i,this.l,s,"[Invalid Chunked Response]"),$t(this),Xt(this)}else Ot(this.i,this.l,s,null),qt(this,s);4==f&&$t(this),this.o&&!this.J&&(4==f?un(this.j,this):(this.o=!1,Ht(this)))}else(function(t){const e={};t=(t.g&&2<=We(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=_(t[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=e[o]||[];e[o]=i,i.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),$t(this),Xt(this)}}}catch(Vr){}},Pt.prototype.cancel=function(){this.J=!0,$t(this)},Pt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(At(),It(17)),$t(this),this.s=2,Xt(this)):Gt(this,this.S-t)};var Kt=class{constructor(t,e){this.g=t,this.map=e}};function Yt(t){this.l=t||10,o.PerformanceNavigationTiming?t=0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Zt(t){return t.h?1:t.g?t.g.size:0}function Jt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return f(t.i)}function re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(i(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(i(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(i(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,a=0;a<o;a++)e.call(void 0,r[a],n&&n[a],t)}Yt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var oe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ie(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ie){this.h=t.h,se(this,t.j),this.o=t.o,this.g=t.g,ue(this,t.s),this.l=t.l;var e=t.i,n=new Ce;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),le(this,n),this.m=t.m}else t&&(e=String(t).match(oe))?(this.h=!1,se(this,e[1]||"",!0),this.o=fe(e[2]||""),this.g=fe(e[3]||"",!0),ue(this,e[4]),this.l=fe(e[5]||"",!0),le(this,e[6]||"",!0),this.m=fe(e[7]||"")):(this.h=!1,this.i=new Ce(null,this.h))}function ae(t){return new ie(t)}function se(t,e,n){t.j=n?fe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function le(t,e,n){e instanceof Ce?(t.i=e,function(t,e){e&&!t.j&&(_e(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(be(this,e),Se(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=de(e,we)),t.i=new Ce(e,t.h))}function ce(t,e,n){t.i.set(e,n)}function he(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function de(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ie.prototype.toString=function(){var t=[],e=this.j;e&&t.push(de(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(de(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(de(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",de(n,Ee)),t.join("")};var ge,me=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,we=/[#\?@]/g,Ee=/#/g;function Ce(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _e(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function be(t,e){_e(t),e=Ie(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ae(t,e){return _e(t),e=Ie(t,e),t.g.has(e)}function Se(t,e,n){be(t,e),0<n.length&&(t.i=null,t.g.set(Ie(t,e),f(n)),t.h+=n.length)}function Ie(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Te(t,e,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Ne(){this.g=new dt}function Re(t,e,n){const r=n||"";try{re(t,(function(t,n){let o=t;a(t)&&(o=ht(t)),e.push(r+n+"="+encodeURIComponent(o))}))}catch(IC){throw e.push(r+"type="+encodeURIComponent("_badmap")),IC}}function Oe(t){this.l=t.Ub||null,this.j=t.eb||!1}function De(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function xe(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Me(t){t.readyState=4,t.l=null,t.j=null,t.v=null,ke(t)}function ke(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Pe(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Le(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Pe(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ce(t,e,n))}function Be(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Ce.prototype).add=function(t,e){_e(this),this.i=null,t=Ie(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){_e(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){_e(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let t=0;t<o.length;t++)n.push(e[r])}return n},t.V=function(t){_e(this);let e=[];if("string"===typeof t)Ae(this,t)&&(e=e.concat(this.g.get(Ie(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return _e(this),this.i=null,Ae(this,t=Ie(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),t.push(o)}}return this.i=t.join("&")},h(Oe,pt),Oe.prototype.g=function(){return new De(this.l,this.j)},Oe.prototype.i=(ge={},function(){return ge}),h(De,nt),(t=De.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,ke(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||o).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ke(this)),this.g&&(this.readyState=3,ke(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xe(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Me(this):ke(this),3==this.readyState&&xe(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Me(this))},t.Qa=function(t){this.g&&(this.response=t,Me(this))},t.ga=function(){this.g&&Me(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(De.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Be,nt);var Fe=/^https?$/i,Ve=["POST","PUT"];function Ue(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,je(t),He(t)}function je(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function ze(t){if(t.h&&"undefined"!=typeof r&&(!t.v[1]||4!=We(t)||2!=t.Z()))if(t.u&&4==We(t))it(t.Ea,0,t);else if(rt(t,"readystatechange"),4==We(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===r){var a=String(t.D).match(oe)[1]||null;!a&&o.self&&o.self.location&&(a=o.self.location.protocol.slice(0,-1)),i=!Fe.test(a?a.toLowerCase():"")}n=i}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<We(t)?t.g.statusText:""}catch(u){s=""}t.l=s+" ["+t.Z()+"]",je(t)}}finally{He(t)}}}function He(t,e){if(t.g){Ge(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch(IC){}}}function Ge(t){t.I&&(o.clearTimeout(t.I),t.I=null)}function We(t){return t.g?t.g.readyState:0}function Xe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(zr){return null}}function $e(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qe(t){this.Aa=0,this.i=[],this.j=new Rt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$e("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$e("baseRetryDelayMs",5e3,t),this.cb=$e("retryDelaySeedMs",1e4,t),this.Wa=$e("forwardChannelMaxRetries",2,t),this.wa=$e("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Yt(t&&t.concurrentRequestLimit),this.Da=new Ne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ke(t){if(Qe(t),3==t.G){var e=t.U++,n=ae(t.I);if(ce(n,"SID",t.K),ce(n,"RID",e),ce(n,"TYPE","terminate"),tn(t,n),(e=new Pt(t,t.j,e)).L=2,e.v=he(ae(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=e.v,n=!0),n||(e.g=dn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ht(e)}hn(t)}function Ye(t){t.g&&(on(t),t.g.cancel(),t.g=null)}function Qe(t){Ye(t),t.u&&(o.clearTimeout(t.u),t.u=null),sn(t),t.h.cancel(),t.s&&("number"===typeof t.s&&o.clearTimeout(t.s),t.s=null)}function Ze(t){if(!Qt(t.h)&&!t.s){t.s=!0;var e=t.Ga;T||O(),N||(T(),N=!0),R.add(e,t),t.B=0}}function Je(t,e){var n;n=e?e.l:t.U++;const r=ae(t.I);ce(r,"SID",t.K),ce(r,"RID",n),ce(r,"AID",t.T),tn(t,r),t.m&&t.o&&Le(r,t.m,t.o),n=new Pt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Vt(n,r,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){ce(e,n,t)})),t.l&&re({},(function(t,n){ce(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var r=t.l?l(t.l.Na,t.l,t):null;t:{var o=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=o[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let i=!0;for(let a=0;a<n;a++){let n=o[a].g;const s=o[a].map;if(n-=e,0>n)e=Math.max(0,o[a].g-100),i=!1;else try{Re(s,t,"req"+n+"_")}catch(Vr){r&&r(s)}}if(i){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;T||O(),N||(T(),N=!0),R.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Nt(l(t.Fa,t),ln(t,t.v)),t.v++,!0)}function on(t){null!=t.A&&(o.clearTimeout(t.A),t.A=null)}function an(t){t.g=new Pt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ae(t.qa);ce(e,"RID","rpc"),ce(e,"SID",t.K),ce(e,"AID",t.T),ce(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ce(e,"TO",t.ja),ce(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(ae(e)),n.m=null,n.P=!0,Ut(n,t)}function sn(t){null!=t.C&&(o.clearTimeout(t.C),t.C=null)}function un(t,e){var n=null;if(t.g==e){sn(t),on(t),t.g=null;var r=2}else{if(!Jt(t.h,e))return;n=e.D,ee(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var o=t.B;rt(r=_t(),new Tt(r,n)),Ze(t)}else nn(t);else if(3==(o=e.s)||0==o&&0<e.X||!(1==r&&function(t,e){return!(Zt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=Nt(l(t.Ga,t,e),ln(t,t.B)),t.B++,!0))}(t,e)||2==r&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),o){case 1:cn(t,5);break;case 4:cn(t,10);break;case 3:cn(t,6);break;default:cn(t,2)}}function ln(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function cn(t,e){if(t.j.info("Error code "+e),2==e){var n=l(t.fb,t),r=t.Xa;const e=!r;r=new ie(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||se(r,"https"),he(r),e?function(t,e){const n=new Rt;if(o.Image){const r=new Image;r.onload=c(Te,n,"TestLoadImage: loaded",!0,e,r),r.onerror=c(Te,n,"TestLoadImage: error",!1,e,r),r.onabort=c(Te,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=c(Te,n,"TestLoadImage: timeout",!1,e,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Rt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Te(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Te(0,0,!0,e):Te(0,0,!1,e)})).catch((()=>{clearTimeout(r),Te(0,0,!1,e)}))}(r.toString(),n)}else It(2);t.G=0,t.l&&t.l.sa(e),hn(t),Qe(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(d(t.ka,e),d(t.ka,t.i),t.h.i.length=0,f(t.i),t.i.length=0),t.l.ra()}}function fn(t,e,n){var r=n instanceof ie?ae(n):new ie(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ue(r,r.s);else{var i=o.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ie(null);r&&se(a,r),e&&(a.g=e),i&&ue(a,i),n&&(a.l=n),r=a}return n=t.D,e=t.ya,n&&e&&ce(r,n,e),ce(r,"VER",t.la),tn(t,r),r}function dn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Be(new Oe({eb:n})):new Be(t.pa)).Ha(t.J),e}function pn(){}function gn(){}function mn(t,e){nt.call(this),this.g=new qe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new wn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){wt.call(this),this.status=1}function wn(t){this.g=t}(t=Be.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dt.g(),this.v=this.o?gt(this.o):gt(Dt),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(a){return void Ue(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=o.FormData&&t instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ge(this),this.u=!0,this.g.send(t),this.u=!1}catch(a){Ue(this,a)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),He(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ze(this):this.bb())},t.bb=function(){ze(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<We(this)?this.g.status:-1}catch(ge){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(ge){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ft(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=qe.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){It(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Ze(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const o=new Pt(this,this.j,t);let i=this.o;if(this.S&&(i?(i=w(i),C(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,o,e),ce(n=ae(this.I),"RID",t),ce(n,"CVER",22),this.D&&ce(n,"X-HTTP-Session-Id",this.D),tn(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Pe(i)))+"&"+e:this.m&&Le(n,this.m,i)),te(this.h,o),this.Ua&&ce(n,"TYPE","init"),this.P?(ce(n,"$req",e),ce(n,"SID","null"),o.T=!0,Vt(o,n,null)):Vt(o,n,e),this.G=2}}else 3==this.G&&(t?Je(this,t):0==this.i.length||Qt(this.h)||Je(this))},t.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Nt(l(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Ye(this),an(this))},t.Za=function(){null!=this.C&&(this.C=null,Ye(this),rn(this),It(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},gn.prototype.g=function(t,e){return new mn(t,e)},h(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ke(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Kt(e.Ya++,t)),3==e.G&&Ze(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ke(this.g),delete this.g,mn.aa.N.call(this)},h(yn,vt),h(vn,wt),h(wn,pn),wn.prototype.ua=function(){rt(this.g,"a")},wn.prototype.ta=function(t){rt(this.g,new yn(t))},wn.prototype.sa=function(t){rt(this.g,new vn)},wn.prototype.ra=function(){rt(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Lr=Fr.createWebChannelTransport=function(){return new gn},Pr=Fr.getStatEventTarget=function(){return _t()},kr=Fr.Event=Et,Mr=Fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,xr=Fr.ErrorCode=xt,Mt.COMPLETE="complete",Dr=Fr.EventType=Mt,mt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Or=Fr.WebChannel=mt,Fr.FetchXmlHttpFactory=Oe,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Rr=Fr.XhrIo=Be}).apply("undefined"!==typeof Br?Br:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Vr="@firebase/firestore";class Ur{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");let jr="11.0.2";const zr=new cn("@firebase/firestore");function Hr(){return zr.logLevel}function Gr(t){if(zr.logLevel<=on.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=n.map($r);zr.debug(`Firestore (${jr}): ${t}`,...o)}}function Wr(t){if(zr.logLevel<=on.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=n.map($r);zr.error(`Firestore (${jr}): ${t}`,...o)}}function Xr(t){if(zr.logLevel<=on.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=n.map($r);zr.warn(`Firestore (${jr}): ${t}`,...o)}}function $r(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function qr(){const t=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Wr(t),new Error(t)}function Kr(t,e){t||qr()}function Yr(t,e){return t}const Qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zr extends $e{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class to{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Ur.UNAUTHENTICATED)))}shutdown(){}}class no{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ro{constructor(t){this.t=t,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kr(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let o=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jr,t.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const e=o;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{Gr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Gr("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jr)}}),0),i()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Gr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Kr("string"==typeof e.accessToken),new to(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kr(null===t||"string"==typeof t),new Ur(t)}}class oo{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class io{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new oo(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ao{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class so{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Kr(void 0===this.o);const n=t=>{null!=t.error&&Gr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,Gr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Gr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Gr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Kr("string"==typeof t.token),this.R=t.token,new ao(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uo(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class lo{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uo(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%62))}return n}}function co(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class fo{static now(){return fo.fromMillis(Date.now())}static fromDate(t){return fo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new fo(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?co(this.nanoseconds,t.nanoseconds):co(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class po{static fromTimestamp(t){return new po(t)}static min(){return new po(new fo(0,0))}static max(){return new po(new fo(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class go{constructor(t,e,n){void 0===e?e=0:e>t.length&&qr(),void 0===n?n=t.length-e:n>t.length-e&&qr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===go.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof go?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),o=e.get(r);if(n<o)return-1;if(n>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class mo extends go{construct(t,e,n){return new mo(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Zr(Qr.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter((t=>t.length>0)))}return new mo(t)}static emptyPath(){return new mo([])}}const yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vo extends go{construct(t,e,n){return new vo(t,e,n)}static isValidIdentifier(t){return yo.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vo.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vo(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Zr(Qr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let i=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Zr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Zr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(i=!i,r++):"."!==e||i?(n+=e,r++):(o(),r++)}if(o(),i)throw new Zr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vo(e)}static emptyPath(){return new vo([])}}class wo{constructor(t){this.path=t}static fromPath(t){return new wo(mo.fromString(t))}static fromName(t){return new wo(mo.fromString(t).popFirst(5))}static empty(){return new wo(mo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===mo.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return mo.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wo(new mo(t.slice()))}}class Eo{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}Eo.UNKNOWN_ID=-1;function Co(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=po.fromTimestamp(1e9===r?new fo(n+1,0):new fo(n,r));return new bo(o,wo.empty(),e)}function _o(t){return new bo(t.readTime,t.key,-1)}class bo{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new bo(po.min(),wo.empty(),-1)}static max(){return new bo(po.max(),wo.empty(),-1)}}function Ao(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=wo.comparator(t.documentKey,e.documentKey),0!==n?n:co(t.largestBatchId,e.largestBatchId))}const So="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Io{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function To(t){if(t.code!==Qr.FAILED_PRECONDITION||t.message!==So)throw t;Gr("LocalStore","Unexpectedly lost primary lease")}class No{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new No(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof No?e:No.resolve(e)}catch(t){return No.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):No.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):No.reject(e)}static resolve(t){return new No(((e,n)=>{e(t)}))}static reject(t){return new No(((e,n)=>{n(t)}))}static waitFor(t){return new No(((e,n)=>{let r=0,o=0,i=!1;t.forEach((t=>{++r,t.next((()=>{++o,i&&o===r&&e()}),(t=>n(t)))})),i=!0,o===r&&e()}))}static or(t){let e=No.resolve(!1);for(const n of t)e=e.next((t=>t?No.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new No(((n,r)=>{const o=t.length,i=new Array(o);let a=0;for(let s=0;s<o;s++){const u=s;e(t[u]).next((t=>{i[u]=t,++a,a===o&&n(i)}),(t=>r(t)))}}))}static doWhile(t,e){return new No(((n,r)=>{const o=()=>{!0===t()?e().next((()=>{o()}),r):n()};o()}))}}function Ro(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(t){return"IndexedDbTransactionError"===t.name}class Do{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function xo(t){return null==t}function Mo(t){return 0===t&&1/t==-1/0}function ko(t){return"number"==typeof t&&Number.isInteger(t)&&!Mo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Po(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bo(e)),e=Lo(t.get(n),e);return Bo(e)}function Lo(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const e=t.charAt(o);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Bo(t){return t+"\x01\x01"}Do.oe=-1;const Fo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uo=Vo,jo=[...Uo,"indexConfiguration","indexState","indexEntries"];function zo(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Go(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Wo{constructor(t,e){this.comparator=t,this.root=e||$o.EMPTY}insert(t,e){return new Wo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(t){return new Wo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$o.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xo(this.root,t,this.comparator,!0)}}class Xo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $o{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=null!=n?n:$o.RED,this.left=null!=r?r:$o.EMPTY,this.right=null!=o?o:$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new $o(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return $o.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qr();if(this.right.isRed())throw qr();const t=this.left.check();if(t!==this.right.check())throw qr();return t+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw qr()}get value(){throw qr()}get color(){throw qr()}get left(){throw qr()}get right(){throw qr()}copy(t,e,n,r,o){return this}insert(t,e,n){return new $o(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qo{constructor(t){this.comparator=t,this.data=new Wo(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ko(this.data.getIterator())}getIteratorFrom(t){return new Ko(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof qo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new qo(this.comparator);return e.data=t,e}}class Ko{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(t){this.fields=t,t.sort(vo.comparator)}static empty(){return new Yo([])}unionWith(t){let e=new qo(vo.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Yo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Qo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Qo("Invalid base64 string: "+t):t}}(t);return new Zo(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Zo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return co(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zo.EMPTY_BYTE_STRING=new Zo("");const Jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Kr(!!t),"string"==typeof t){let e=0;const n=Jo.exec(t);if(Kr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(t.seconds),nanos:ei(t.nanos)}}function ei(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ni(t){return"string"==typeof t?Zo.fromBase64String(t):Zo.fromUint8Array(t)}function ri(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oi(t){const e=t.mapValue.fields.__previous_value__;return ri(e)?oi(e):e}function ii(t){const e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new fo(e.seconds,e.nanos)}class ai{constructor(t,e,n,r,o,i,a,s,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=u}}class si{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new si("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof si&&t.projectId===this.projectId&&t.database===this.database}}const ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ri(t)?4:Ii(t)?9007199254740991:Ai(t)?10:11:qr()}function ci(t,e){if(t===e)return!0;const n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ii(t).isEqual(ii(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ti(t.timestampValue),r=ti(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ni(t.bytesValue).isEqual(ni(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ei(t.geoPointValue.latitude)===ei(e.geoPointValue.latitude)&&ei(t.geoPointValue.longitude)===ei(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ei(t.integerValue)===ei(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ei(t.doubleValue),r=ei(e.doubleValue);return n===r?Mo(n)===Mo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zo(n)!==zo(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!ci(n[o],r[o])))return!1;return!0}(t,e);default:return qr()}}function hi(t,e){return void 0!==(t.values||[]).find((t=>ci(t,e)))}function fi(t,e){if(t===e)return 0;const n=li(t),r=li(e);if(n!==r)return co(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return co(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ei(t.integerValue||t.doubleValue),r=ei(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return di(t.timestampValue,e.timestampValue);case 4:return di(ii(t),ii(e));case 5:return co(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ni(t),r=ni(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let o=0;o<n.length&&o<r.length;o++){const t=co(n[o],r[o]);if(0!==t)return t}return co(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=co(ei(t.latitude),ei(e.latitude));return 0!==n?n:co(ei(t.longitude),ei(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pi(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,o,i;const a=t.fields||{},s=e.fields||{},u=null===(n=a.value)||void 0===n?void 0:n.arrayValue,l=null===(r=s.value)||void 0===r?void 0:r.arrayValue,c=co((null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0,(null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0);return 0!==c?c:pi(u,l)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===ui.mapValue&&e===ui.mapValue)return 0;if(t===ui.mapValue)return 1;if(e===ui.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),o=e.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const t=co(r[a],i[a]);if(0!==t)return t;const e=fi(n[r[a]],o[i[a]]);if(0!==e)return e}return co(r.length,i.length)}(t.mapValue,e.mapValue);default:throw qr()}}function di(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return co(t,e);const n=ti(t),r=ti(e),o=co(n.seconds,r.seconds);return 0!==o?o:co(n.nanos,r.nanos)}function pi(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const t=fi(n[o],r[o]);if(t)return t}return co(n.length,r.length)}function gi(t){return mi(t)}function mi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ti(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return ni(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return wo.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=mi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const o of e)r?r=!1:n+=",",n+=`${o}:${mi(t.fields[o])}`;return n+"}"}(t.mapValue):qr()}function yi(t){switch(li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oi(t);return e?16+yi(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+yi(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Ho(t.fields,((t,n)=>{e+=t.length+yi(n)})),e}(t.mapValue);default:throw qr()}}function vi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wi(t){return!!t&&"integerValue"in t}function Ei(t){return!!t&&"arrayValue"in t}function Ci(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bi(t){return!!t&&"mapValue"in t}function Ai(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Si(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Si(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Si(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ii(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!bi(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Si(e)}setAll(t){let e=vo.emptyPath(),n={},r=[];t.forEach(((t,o)=>{if(!e.isImmediateParentOf(o)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=o.popLast()}t?n[o.lastSegment()]=Si(t):r.push(o.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,n,r)}delete(t){const e=this.field(t.popLast());bi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];bi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Ho(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Ti(Si(this.value))}}function Ni(t){const e=[];return Ho(t.fields,((t,n)=>{const r=new vo([t]);if(bi(n)){const t=Ni(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Yo(e)}class Ri{constructor(t,e,n,r,o,i,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(t){return new Ri(t,0,po.min(),po.min(),po.min(),Ti.empty(),0)}static newFoundDocument(t,e,n,r){return new Ri(t,1,e,po.min(),n,r,0)}static newNoDocument(t,e){return new Ri(t,2,e,po.min(),po.min(),Ti.empty(),0)}static newUnknownDocument(t,e){return new Ri(t,3,e,po.min(),po.min(),Ti.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(po.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=po.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ri&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oi{constructor(t,e){this.position=t,this.inclusive=e}}function Di(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],a=t.position[o];if(r=i.field.isKeyField()?wo.comparator(wo.fromName(a.referenceValue),n.key):fi(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function xi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}class Mi{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function ki(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Pi{}class Li extends Pi{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Gi(t,e,n):"array-contains"===e?new qi(t,n):"in"===e?new Ki(t,n):"not-in"===e?new Yi(t,n):"array-contains-any"===e?new Qi(t,n):new Li(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Wi(t,n):new Xi(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(fi(e,this.value)):null!==e&&li(this.value)===li(e)&&this.matchesComparison(fi(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends Pi{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Bi(t,e)}matches(t){return Fi(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fi(t){return"and"===t.op}function Vi(t){return Ui(t)&&Fi(t)}function Ui(t){for(const e of t.filters)if(e instanceof Bi)return!1;return!0}function ji(t){if(t instanceof Li)return t.field.canonicalString()+t.op.toString()+gi(t.value);if(Vi(t))return t.filters.map((t=>ji(t))).join(",");{const e=t.filters.map((t=>ji(t))).join(",");return`${t.op}(${e})`}}function zi(t,e){return t instanceof Li?function(t,e){return e instanceof Li&&t.op===e.op&&t.field.isEqual(e.field)&&ci(t.value,e.value)}(t,e):t instanceof Bi?function(t,e){return e instanceof Bi&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&zi(n,e.filters[r])),!0)}(t,e):void qr()}function Hi(t){return t instanceof Li?function(t){return`${t.field.canonicalString()} ${t.op} ${gi(t.value)}`}(t):t instanceof Bi?function(t){return t.op.toString()+" {"+t.getFilters().map(Hi).join(" ,")+"}"}(t):"Filter"}class Gi extends Li{constructor(t,e,n){super(t,e,n),this.key=wo.fromName(n.referenceValue)}matches(t){const e=wo.comparator(t.key,this.key);return this.matchesComparison(e)}}class Wi extends Li{constructor(t,e){super(t,"in",e),this.keys=$i("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Xi extends Li{constructor(t,e){super(t,"not-in",e),this.keys=$i("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function $i(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>wo.fromName(t.referenceValue)))}class qi extends Li{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ei(e)&&hi(e.arrayValue,this.value)}}class Ki extends Li{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&hi(this.value.arrayValue,e)}}class Yi extends Li{constructor(t,e){super(t,"not-in",e)}matches(t){if(hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!hi(this.value.arrayValue,e)}}class Qi extends Li{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ei(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>hi(this.value.arrayValue,t)))}}class Zi{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function Ji(t){return new Zi(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ta(t){const e=Yr(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>ji(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),xo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>gi(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>gi(t))).join(",")),e.ue=t}return e.ue}function ea(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ki(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zi(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xi(t.startAt,e.startAt)&&xi(t.endAt,e.endAt)}function na(t){return wo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ra{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oa(t,e,n,r,o,i,a,s){return new ra(t,e,n,r,o,i,a,s)}function ia(t){return new ra(t)}function aa(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function sa(t){return null!==t.collectionGroup}function ua(t){const e=Yr(t);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new qo(vo.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Mi(r,n))})),t.has(vo.keyField().canonicalString())||e.ce.push(new Mi(vo.keyField(),n))}return e.ce}function la(t){const e=Yr(t);return e.le||(e.le=ca(e,ua(t))),e.le}function ca(t,e){if("F"===t.limitType)return Ji(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Mi(t.field,e)}));const n=t.endAt?new Oi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oi(t.startAt.position,t.startAt.inclusive):null;return Ji(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ha(t,e){const n=t.filters.concat([e]);return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fa(t,e,n){return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function da(t,e){return ea(la(t),la(e))&&t.limitType===e.limitType}function pa(t){return`${ta(la(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Hi(t))).join(", ")}]`),xo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>gi(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>gi(t))).join(",")),`Target(${e})`}(la(t))}; limitType=${t.limitType})`}function ma(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):wo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ua(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Di(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,ua(t),e))&&!(t.endAt&&!function(t,e,n){const r=Di(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,ua(t),e))}(t,e)}function ya(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function va(t){return(e,n)=>{let r=!1;for(const o of ua(t)){const t=wa(o,e,n);if(0!==t)return t;r=r||o.field.isKeyField()}return 0}}function wa(t,e,n){const r=t.field.isKeyField()?wo.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),o=n.data.field(t);return null!==r&&null!==o?fi(r,o):qr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qr()}}class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ho(this.inner,((e,n)=>{for(const[r,o]of n)t(r,o)}))}isEmpty(){return Go(this.inner)}size(){return this.innerSize}}const Ca=new Wo(wo.comparator);function _a(){return Ca}const ba=new Wo(wo.comparator);function Aa(){let t=ba;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const o of n)t=t.insert(o.key,o);return t}function Sa(t){let e=ba;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ia(){return Na()}function Ta(){return Na()}function Na(){return new Ea((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ra=new Wo(wo.comparator),Oa=new qo(wo.comparator);function Da(){let t=Oa;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const o of n)t=t.add(o);return t}const xa=new qo(co);function Ma(){return xa}function ka(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mo(e)?"-0":e}}function Pa(t){return{integerValue:""+t}}function La(t,e){return ko(e)?Pa(e):ka(t,e)}class Ba{constructor(){this._=void 0}}function Fa(t,e,n){return t instanceof ja?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ri(e)&&(e=oi(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof za?Ha(t,e):t instanceof Ga?Wa(t,e):function(t,e){const n=Ua(t,e),r=$a(n)+$a(t.Pe);return wi(n)&&wi(t.Pe)?Pa(r):ka(t.serializer,r)}(t,e)}function Va(t,e,n){return t instanceof za?Ha(t,e):t instanceof Ga?Wa(t,e):n}function Ua(t,e){return t instanceof Xa?function(t){return wi(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class ja extends Ba{}class za extends Ba{constructor(t){super(),this.elements=t}}function Ha(t,e){const n=qa(e);for(const r of t.elements)n.some((t=>ci(t,r)))||n.push(r);return{arrayValue:{values:n}}}class Ga extends Ba{constructor(t){super(),this.elements=t}}function Wa(t,e){let n=qa(e);for(const r of t.elements)n=n.filter((t=>!ci(t,r)));return{arrayValue:{values:n}}}class Xa extends Ba{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function $a(t){return ei(t.integerValue||t.doubleValue)}function qa(t){return Ei(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ka{constructor(t,e){this.field=t,this.transform=e}}class Ya{constructor(t,e){this.version=t,this.transformResults=e}}class Qa{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qa}static exists(t){return new Qa(void 0,t)}static updateTime(t){return new Qa(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Za(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ja{}function ts(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cs(t.key,Qa.none()):new is(t.key,t.data,Qa.none());{const n=t.data,r=Ti.empty();let o=new qo(vo.comparator);for(let t of e.fields)if(!o.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),o=o.add(t)}return new as(t.key,r,new Yo(o.toArray()),Qa.none())}}function es(t,e,n){t instanceof is?function(t,e,n){const r=t.value.clone(),o=us(t.fieldTransforms,e,n.transformResults);r.setAll(o),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof as?function(t,e,n){if(!Za(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=us(t.fieldTransforms,e,n.transformResults),o=e.data;o.setAll(ss(t)),o.setAll(r),e.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ns(t,e,n,r){return t instanceof is?function(t,e,n,r){if(!Za(t.precondition,e))return n;const o=t.value.clone(),i=ls(t.fieldTransforms,r,e);return o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null}(t,e,n,r):t instanceof as?function(t,e,n,r){if(!Za(t.precondition,e))return n;const o=ls(t.fieldTransforms,r,e),i=e.data;return i.setAll(ss(t)),i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Za(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function rs(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),o=Ua(r.transform,t||null);null!=o&&(null===n&&(n=Ti.empty()),n.set(r.field,o))}return n||null}function os(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ho(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof za&&e instanceof za||t instanceof Ga&&e instanceof Ga?ho(t.elements,e.elements,ci):t instanceof Xa&&e instanceof Xa?ci(t.Pe,e.Pe):t instanceof ja&&e instanceof ja}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class is extends Ja{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class as extends Ja{constructor(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ss(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function us(t,e,n){const r=new Map;Kr(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],a=i.transform,s=e.data.field(i.field);r.set(i.field,Va(a,s,n[o]))}return r}function ls(t,e,n){const r=new Map;for(const o of t){const t=o.transform,i=n.data.field(o.field);r.set(o.field,Fa(t,i,e))}return r}class cs extends Ja{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hs extends Ja{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fs{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&es(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ns(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=ns(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Ta();return this.mutations.forEach((r=>{const o=t.get(r.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=e.has(r.key)?null:a;const s=ts(i,a);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(po.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Da())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((t,e)=>os(t,e)))&&ho(this.baseMutations,t.baseMutations,((t,e)=>os(t,e)))}}class ds{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Kr(t.mutations.length===n.length);let r=Ra;const o=t.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new ds(t,e,n,r)}}class ps{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gs{constructor(t,e){this.count=t,this.unchangedNames=e}}var ms,ys;function vs(t){switch(t){default:return qr();case Qr.CANCELLED:case Qr.UNKNOWN:case Qr.DEADLINE_EXCEEDED:case Qr.RESOURCE_EXHAUSTED:case Qr.INTERNAL:case Qr.UNAVAILABLE:case Qr.UNAUTHENTICATED:return!1;case Qr.INVALID_ARGUMENT:case Qr.NOT_FOUND:case Qr.ALREADY_EXISTS:case Qr.PERMISSION_DENIED:case Qr.FAILED_PRECONDITION:case Qr.ABORTED:case Qr.OUT_OF_RANGE:case Qr.UNIMPLEMENTED:case Qr.DATA_LOSS:return!0}}function ws(t){if(void 0===t)return Wr("GRPC error has no .code"),Qr.UNKNOWN;switch(t){case ms.OK:return Qr.OK;case ms.CANCELLED:return Qr.CANCELLED;case ms.UNKNOWN:return Qr.UNKNOWN;case ms.DEADLINE_EXCEEDED:return Qr.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return Qr.RESOURCE_EXHAUSTED;case ms.INTERNAL:return Qr.INTERNAL;case ms.UNAVAILABLE:return Qr.UNAVAILABLE;case ms.UNAUTHENTICATED:return Qr.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return Qr.INVALID_ARGUMENT;case ms.NOT_FOUND:return Qr.NOT_FOUND;case ms.ALREADY_EXISTS:return Qr.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return Qr.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return Qr.FAILED_PRECONDITION;case ms.ABORTED:return Qr.ABORTED;case ms.OUT_OF_RANGE:return Qr.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return Qr.UNIMPLEMENTED;case ms.DATA_LOSS:return Qr.DATA_LOSS;default:return qr()}}(ys=ms||(ms={}))[ys.OK=0]="OK",ys[ys.CANCELLED=1]="CANCELLED",ys[ys.UNKNOWN=2]="UNKNOWN",ys[ys.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ys[ys.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ys[ys.NOT_FOUND=5]="NOT_FOUND",ys[ys.ALREADY_EXISTS=6]="ALREADY_EXISTS",ys[ys.PERMISSION_DENIED=7]="PERMISSION_DENIED",ys[ys.UNAUTHENTICATED=16]="UNAUTHENTICATED",ys[ys.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ys[ys.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ys[ys.ABORTED=10]="ABORTED",ys[ys.OUT_OF_RANGE=11]="OUT_OF_RANGE",ys[ys.UNIMPLEMENTED=12]="UNIMPLEMENTED",ys[ys.INTERNAL=13]="INTERNAL",ys[ys.UNAVAILABLE=14]="UNAVAILABLE",ys[ys.DATA_LOSS=15]="DATA_LOSS";let Es=null;function Cs(){return new TextEncoder}const _s=new Sr([4294967295,4294967295],0);function bs(t){const e=Cs().encode(t),n=new Ir;return n.update(e),new Uint8Array(n.digest())}function As(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([o,i],0)]}class Ss{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Is(`Invalid padding: ${e}`);if(n<0)throw new Is(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Is(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Is(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=Sr.fromNumber(this.Te)}Ee(t,e,n){let r=t.add(e.multiply(Sr.fromNumber(n)));return 1===r.compare(_s)&&(r=new Sr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=bs(t),[n,r]=As(e);for(let o=0;o<this.hashCount;o++){const t=this.Ee(n,r,o);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),i=new Ss(o,r,e);return n.forEach((t=>i.insert(t))),i}insert(t){if(0===this.Te)return;const e=bs(t),[n,r]=As(e);for(let o=0;o<this.hashCount;o++){const t=this.Ee(n,r,o);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ts{constructor(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Ns.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ts(po.min(),r,new Wo(co),_a(),Da())}}class Ns{constructor(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Ns(n,e,Da(),Da(),Da())}}class Rs{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class Os{constructor(t,e){this.targetId=t,this.me=e}}class Ds{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class xs{constructor(){this.fe=0,this.ge=Ps(),this.pe=Zo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Da(),e=Da(),n=Da();return this.ge.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qr()}})),new Ns(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=Ps()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ms{constructor(t){this.Le=t,this.Be=new Map,this.ke=_a(),this.qe=ks(),this.Qe=ks(),this.Ke=new Wo(co)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.je(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.De(t.resumeToken));break;default:qr()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.me.count,r=this.Ye(e);if(r){const o=r.target;if(na(o))if(0===n){const t=new wo(o.path);this.We(e,t,Ri.newNoDocument(t,po.min()))}else Kr(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),o=n?this.et(n,t,r):1;if(0!==o){this.He(e);const t=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==Es||Es.tt(function(t,e,n,r,o){var i,a,s,u,l,c;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},f=e.unchangedNames;return f&&(h.bloomFilter={applied:0===o,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(s=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==f?void 0:f.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.me,this.Le.nt(),n,o))}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=e;let i,a;try{i=ni(n).toUint8Array()}catch(t){if(t instanceof Qo)return Xr("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{a=new Ss(i,r,o)}catch(t){return Xr(t instanceof Is?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===a.Te?null:a}et(t,e,n){return e.me.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const o=this.Le.nt(),i=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;t.mightContain(i)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.Be.forEach(((n,r)=>{const o=this.Ye(r);if(o){if(n.current&&na(o.target)){const e=new wo(o.target.path);this.st(e).has(r)||this.ot(r,e)||this.We(r,e,Ri.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}}));let n=Da();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new Ts(t,e,this.Ke,this.ke,n);return this.ke=_a(),this.qe=ks(),this.Qe=ks(),this.Ke=new Wo(co),r}Ue(t,e){if(!this.je(t))return;const n=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.ot(t,e)?r.Fe(e,1):r.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Be.get(t);return e||(e=new xs,this.Be.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new qo(co),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new qo(co),this.qe=this.qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Gr("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new xs),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}ot(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function ks(){return new Wo(wo.comparator)}function Ps(){return new Wo(wo.comparator)}const Ls={asc:"ASCENDING",desc:"DESCENDING"},Bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fs={and:"AND",or:"OR"};class Vs{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Us(t,e){return t.useProto3Json||xo(e)?e:{value:e}}function js(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zs(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hs(t,e){return js(t,e.toTimestamp())}function Gs(t){return Kr(!!t),po.fromTimestamp(function(t){const e=ti(t);return new fo(e.seconds,e.nanos)}(t))}function Ws(t,e){return Xs(t,e).canonicalString()}function Xs(t,e){const n=function(t){return new mo(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function $s(t){const e=mo.fromString(t);return Kr(du(e)),e}function qs(t,e){return Ws(t.databaseId,e.path)}function Ks(t,e){const n=$s(e);if(n.get(1)!==t.databaseId.projectId)throw new Zr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zr(Qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wo(Js(n))}function Ys(t,e){return Ws(t.databaseId,e)}function Qs(t){const e=$s(t);return 4===e.length?mo.emptyPath():Js(e)}function Zs(t){return new mo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Js(t){return Kr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function tu(t,e,n){return{name:qs(t,e),fields:n.value.mapValue.fields}}function eu(t,e){let n;if(e instanceof is)n={update:tu(t,e.key,e.value)};else if(e instanceof cs)n={delete:qs(t,e.key)};else if(e instanceof as)n={update:tu(t,e.key,e.data),updateMask:fu(e.fieldMask)};else{if(!(e instanceof hs))return qr();n={verify:qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof ja)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof za)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ga)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xa)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw qr()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Hs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qr()}(t,e.precondition)),n}function nu(t,e){return{documents:[Ys(t,e.path)]}}function ru(t,e){const n={structuredQuery:{}},r=e.path;let o;null!==e.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ys(t,o);const i=function(t){if(0!==t.length)return hu(Bi.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:lu(t.field),direction:au(t.dir)}}(t)))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Us(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ct:n,parent:o}}function ou(t){let e=Qs(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kr(1===r);const t=n.from[0];t.allDescendants?o=t.collectionId:e=e.child(t.collectionId)}let i=[];n.where&&(i=function(t){const e=iu(t);return e instanceof Bi&&Vi(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=function(t){return t.map((t=>function(t){return new Mi(cu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,xo(e)?null:e}(n.limit));let u=null;n.startAt&&(u=function(t){const e=!!t.before,n=t.values||[];return new Oi(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Oi(n,e)}(n.endAt)),oa(e,o,a,i,s,"F",u,l)}function iu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=cu(t.unaryFilter.field);return Li.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=cu(t.unaryFilter.field);return Li.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cu(t.unaryFilter.field);return Li.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(t.unaryFilter.field);return Li.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qr()}}(t):void 0!==t.fieldFilter?function(t){return Li.create(cu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qr()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Bi.create(t.compositeFilter.filters.map((t=>iu(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qr()}}(t.compositeFilter.op))}(t):qr()}function au(t){return Ls[t]}function su(t){return Bs[t]}function uu(t){return Fs[t]}function lu(t){return{fieldPath:t.canonicalString()}}function cu(t){return vo.fromServerFormat(t.fieldPath)}function hu(t){return t instanceof Li?function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:lu(t.field),op:"IS_NAN"}};if(Ci(t.value))return{unaryFilter:{field:lu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:lu(t.field),op:"IS_NOT_NAN"}};if(Ci(t.value))return{unaryFilter:{field:lu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(t.field),op:su(t.op),value:t.value}}}(t):t instanceof Bi?function(t){const e=t.getFilters().map((t=>hu(t)));return 1===e.length?e[0]:{compositeFilter:{op:uu(t.op),filters:e}}}(t):qr()}function fu(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function du(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class pu{constructor(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:po.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:po.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zo.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(t){return new pu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gu{constructor(t){this.ht=t}}function mu(t){const e=ou({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fa(e,e.limit,"L"):e}class yu{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(ei(t.integerValue));else if("doubleValue"in t){const n=ei(t.doubleValue);isNaN(n)?this.Rt(e,13):(this.Rt(e,15),Mo(n)?e.Vt(0):e.Vt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Rt(e,20),"string"==typeof n&&(n=ti(n)),e.ft(`${n.seconds||""}`),e.Vt(n.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(ni(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Rt(e,45),e.Vt(n.latitude||0),e.Vt(n.longitude||0)}else"mapValue"in t?Ii(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):Ai(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):qr()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const n=t.fields||{};this.Rt(e,55);for(const r of Object.keys(n))this.gt(r,e),this.dt(n[r],e)}bt(t,e){var n,r;const o=t.fields||{};this.Rt(e,53);const i="value",a=(null===(r=null===(n=o[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(e,15),e.Vt(ei(a)),this.gt(i,e),this.dt(o[i],e)}vt(t,e){const n=t.values||[];this.Rt(e,50);for(const r of n)this.dt(r,e)}St(t,e){this.Rt(e,37),wo.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}yu.Ft=new yu;class vu{constructor(){this.ln=new wu}addToCollectionParentIndex(t,e){return this.ln.add(e),No.resolve()}getCollectionParents(t,e){return No.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return No.resolve()}deleteFieldIndex(t,e){return No.resolve()}deleteAllFieldIndexes(t){return No.resolve()}createTargetIndexes(t,e){return No.resolve()}getDocumentsMatchingTarget(t,e){return No.resolve(null)}getIndexType(t,e){return No.resolve(0)}getFieldIndexes(t,e){return No.resolve([])}getNextCollectionGroupToUpdate(t){return No.resolve(null)}getMinOffset(t,e){return No.resolve(bo.min())}getMinOffsetFromCollectionGroup(t,e){return No.resolve(bo.min())}updateCollectionGroup(t,e,n){return No.resolve()}updateIndexEntries(t,e){return No.resolve()}}class wu{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new qo(mo.comparator),o=!r.has(n);return this.index[e]=r.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new qo(mo.comparator)).toArray()}}new Uint8Array(0);const Eu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cu{static withCacheSize(t){return new Cu(t,Cu.DEFAULT_COLLECTION_PERCENTILE,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Cu.DEFAULT_COLLECTION_PERCENTILE=10,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cu.DEFAULT=new Cu(41943040,Cu.DEFAULT_COLLECTION_PERCENTILE,Cu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cu.DISABLED=new Cu(-1,0,0);class _u{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new _u(0)}static Qn(){return new _u(-1)}}function bu(t,e){let[n,r]=t,[o,i]=e;const a=co(n,o);return 0===a?co(r,i):a}class Au{constructor(t){this.Gn=t,this.buffer=new qo(bu),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();bu(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Su{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){Gr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oo(t)?Gr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await To(t)}await this.Yn(3e5)}))}}class Iu{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return No.resolve(Do.oe);const n=new Au(e);return this.Zn.forEachTarget(t,(t=>n.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>n.Hn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Zn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector","Garbage collection skipped; disabled"),No.resolve(Eu)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Gr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eu):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let n,r,o,i,a,s,u;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Gr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,i=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(o=e,s=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),Hr()<=on.DEBUG&&Gr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-l}ms\n\tDetermined least recently used ${r} in `+(a-i)+"ms\n"+`\tRemoved ${o} targets in `+(s-a)+"ms\n"+`\tRemoved ${t} documents in `+(u-s)+"ms\n"+`Total Duration: ${u-l}ms`),No.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t}))))}}function Tu(t,e){return new Iu(t,e)}class Nu{constructor(){this.changes=new Ea((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ri.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?No.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ru{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Ou{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&ns(n.mutation,t,Yo.empty(),fo.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Da()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Da();const r=Ia();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=Aa();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Ia();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Da())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let o=_a();const i=Na(),a=Na();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof as)?o=o.insert(e.key,e):void 0!==a?(i.set(e.key,a.mutation.getFieldMask()),ns(a.mutation,e,a.mutation.getFieldMask(),fo.now())):i.set(e.key,Yo.empty())})),this.recalculateAndSaveOverlays(t,o).next((t=>(t.forEach(((t,e)=>i.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new Ru(e,null!==(n=i.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=Na();let r=new Wo(((t,e)=>t-e)),o=Da();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const o of t)o.keys().forEach((t=>{const i=e.get(t);if(null===i)return;let a=n.get(t)||Yo.empty();a=o.applyToLocalView(i,a),n.set(t,a);const s=(r.get(o.batchId)||Da()).add(t);r=r.insert(o.batchId,s)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,u=r.value,l=Ta();u.forEach((t=>{if(!o.has(t)){const r=ts(e.get(t),n.get(t));null!==r&&l.set(t,r),o=o.add(t)}})),i.push(this.documentOverlayCache.saveOverlays(t,s,l))}return No.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return wo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):sa(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-o.size):No.resolve(Ia());let a=-1,s=o;return i.next((e=>No.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),o.get(e)?No.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,o))).next((()=>this.computeViews(t,s,e,Da()))).next((t=>({batchId:a,changes:Sa(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new wo(e)).next((t=>{let e=Aa();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const o=e.collectionGroup;let i=Aa();return this.indexManager.getCollectionParents(t,o).next((a=>No.forEach(a,(a=>{const s=function(t,e){return new ra(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(o));return this.getDocumentsMatchingCollectionQuery(t,s,n,r).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,r)))).next((t=>{o.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Ri.newInvalidDocument(r)))}));let n=Aa();return t.forEach(((t,r)=>{const i=o.get(t);void 0!==i&&ns(i.mutation,r,Yo.empty(),fo.now()),ma(e,r)&&(n=n.insert(t,r))})),n}))}}class Du{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return No.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Gs(t.createTime)}}(e)),No.resolve()}getNamedQuery(t,e){return No.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:mu(t.bundledQuery),readTime:Gs(t.readTime)}}(e)),No.resolve()}}class xu{constructor(){this.overlays=new Wo(wo.comparator),this.Er=new Map}getOverlay(t,e){return No.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ia();return No.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Tt(t,e,r)})),No.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(n)),No.resolve()}getOverlaysForCollection(t,e,n){const r=Ia(),o=e.length+1,i=new wo(e.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const t=a.getNext().value,i=t.getKey();if(!e.isPrefixOf(i.path))break;i.path.length===o&&t.largestBatchId>n&&r.set(t.getKey(),t)}return No.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let o=new Wo(((t,e)=>t-e));const i=this.overlays.getIterator();for(;i.hasNext();){const t=i.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=o.get(t.largestBatchId);null===e&&(e=Ia(),o=o.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=Ia(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return No.resolve(a)}Tt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new ps(e,n));let o=this.Er.get(e);void 0===o&&(o=Da(),this.Er.set(e,o)),this.Er.set(e,o.add(n.key))}}class Mu{constructor(){this.sessionToken=Zo.EMPTY_BYTE_STRING}getSessionToken(t){return No.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,No.resolve()}}class ku{constructor(){this.dr=new qo(Pu.Ar),this.Rr=new qo(Pu.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const n=new Pu(t,e);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new Pu(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new wo(new mo([])),n=new Pu(e,t),r=new Pu(e,t+1),o=[];return this.Rr.forEachInRange([n,r],(t=>{this.gr(t),o.push(t.key)})),o}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new wo(new mo([])),n=new Pu(e,t),r=new Pu(e,t+1);let o=Da();return this.Rr.forEachInRange([n,r],(t=>{o=o.add(t.key)})),o}containsKey(t){const e=new Pu(t,0),n=this.dr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Pu{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return wo.comparator(t.key,e.key)||co(t.br,e.br)}static Vr(t,e){return co(t.br,e.br)||wo.comparator(t.key,e.key)}}class Lu{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new qo(Pu.Ar)}checkEmpty(t){return No.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fs(o,e,n,r);this.mutationQueue.push(i);for(const a of r)this.vr=this.vr.add(new Pu(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return No.resolve(i)}lookupMutationBatch(t,e){return No.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Fr(n),o=r<0?0:r;return No.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return No.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return No.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Pu(e,0),r=new Pu(e,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,r],(t=>{const e=this.Cr(t.br);o.push(e)})),No.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new qo(co);return e.forEach((t=>{const e=new Pu(t,0),r=new Pu(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,r],(t=>{n=n.add(t.br)}))})),No.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let o=n;wo.isDocumentKey(o)||(o=o.child(""));const i=new Pu(new wo(o),0);let a=new qo(co);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.br)),!0)}),i),No.resolve(this.Mr(a))}Mr(t){const e=[];return t.forEach((t=>{const n=this.Cr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Kr(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return No.forEach(e.mutations,(r=>{const o=new Pu(r.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.vr=n}))}Ln(t){}containsKey(t,e){const n=new Pu(e,0),r=this.vr.firstAfterOrEqual(n);return No.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,No.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Bu{constructor(t){this.Nr=t,this.docs=new Wo(wo.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),o=r?r.size:0,i=this.Nr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return No.resolve(n?n.document.mutableCopy():Ri.newInvalidDocument(e))}getEntries(t,e){let n=_a();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ri.newInvalidDocument(t))})),No.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let o=_a();const i=e.path,a=new wo(i.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:t,value:{document:a}}=s.getNext();if(!i.isPrefixOf(t.path))break;t.path.length>i.length+1||Ao(_o(a),n)<=0||(r.has(a.key)||ma(e,a))&&(o=o.insert(a.key,a.mutableCopy()))}return No.resolve(o)}getAllFromCollectionGroup(t,e,n,r){qr()}Lr(t,e){return No.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Fu(this)}getSize(t){return No.resolve(this.size)}}class Fu extends Nu{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.hr.addEntry(t,r)):this.hr.removeEntry(n)})),No.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class Vu{constructor(t){this.persistence=t,this.Br=new Ea((t=>ta(t)),ea),this.lastRemoteSnapshotVersion=po.min(),this.highestTargetId=0,this.kr=0,this.qr=new ku,this.targetCount=0,this.Qr=_u.qn()}forEachTarget(t,e){return this.Br.forEach(((t,n)=>e(n))),No.resolve()}getLastRemoteSnapshotVersion(t){return No.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return No.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),No.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.kr&&(this.kr=e),No.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new _u(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,No.resolve()}updateTargetData(t,e){return this.Un(e),No.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,No.resolve()}removeTargets(t,e,n){let r=0;const o=[];return this.Br.forEach(((i,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Br.delete(i),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),No.waitFor(o).next((()=>r))}getTargetCount(t){return No.resolve(this.targetCount)}getTargetData(t,e){const n=this.Br.get(e)||null;return No.resolve(n)}addMatchingKeys(t,e,n){return this.qr.mr(e,n),No.resolve()}removeMatchingKeys(t,e,n){this.qr.pr(e,n);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((e=>{o.push(r.markPotentiallyOrphaned(t,e))})),No.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),No.resolve()}getMatchingKeysForTargetId(t,e){const n=this.qr.Sr(e);return No.resolve(n)}containsKey(t,e){return No.resolve(this.qr.containsKey(e))}}class Uu{constructor(t,e){this.Kr={},this.overlays={},this.$r=new Do(0),this.Ur=!1,this.Ur=!0,this.Wr=new Mu,this.referenceDelegate=t(this),this.Gr=new Vu(this),this.indexManager=new vu,this.remoteDocumentCache=function(t){return new Bu(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new gu(e),this.jr=new Du(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xu,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Kr[t.toKey()];return n||(n=new Lu(e,this.referenceDelegate),this.Kr[t.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,n){Gr("MemoryPersistence","Starting transaction:",t);const r=new ju(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((t=>this.referenceDelegate.Jr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Yr(t,e){return No.or(Object.values(this.Kr).map((n=>()=>n.containsKey(t,e))))}}class ju extends Io{constructor(t){super(),this.currentSequenceNumber=t}}class zu{constructor(t){this.persistence=t,this.Zr=new ku,this.Xr=null}static ei(t){return new zu(t)}get ti(){if(this.Xr)return this.Xr;throw qr()}addReference(t,e,n){return this.Zr.addReference(n,e),this.ti.delete(n.toString()),No.resolve()}removeReference(t,e,n){return this.Zr.removeReference(n,e),this.ti.add(n.toString()),No.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),No.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return No.forEach(this.ti,(n=>{const r=wo.fromPath(n);return this.ni(t,r).next((t=>{t||e.removeEntry(r,po.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return No.or([()=>No.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class Hu{constructor(t,e){this.persistence=t,this.ri=new Ea((t=>Po(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=Tu(this,e)}static ei(t,e){return new Hu(t,e)}Hr(){}Jr(t){return No.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return No.forEach(this.ri,((n,r)=>this.ir(t,n,r).next((t=>t?No.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Lr(t,(r=>this.ir(t,r,e).next((t=>{t||(n++,o.removeEntry(r,po.min()))})))).next((()=>o.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),No.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),No.resolve()}removeReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),No.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),No.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=yi(t.data.value)),e}ir(t,e,n){return No.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return No.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gu{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Wi=n,this.Gi=r}static zi(t,e){let n=Da(),r=Da();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Gu(t,e.fromCache,n,r)}}class Wu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Xu{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=We()?8:Ro(Ge())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,n,r){const o={result:null};return this.Xi(t,e).next((t=>{o.result=t})).next((()=>{if(!o.result)return this.es(t,e,r,n).next((t=>{o.result=t}))})).next((()=>{if(o.result)return;const n=new Wu;return this.ts(t,e,n).next((r=>{if(o.result=r,this.Hi)return this.ns(t,e,n,r.size)}))})).next((()=>o.result))}ns(t,e,n,r){return n.documentReadCount<this.Ji?(Hr()<=on.DEBUG&&Gr("QueryEngine","SDK will not create cache indexes for query:",ga(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),No.resolve()):(Hr()<=on.DEBUG&&Gr("QueryEngine","Query:",ga(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Hr()<=on.DEBUG&&Gr("QueryEngine","The SDK decides to create cache indexes for query:",ga(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,la(e))):No.resolve())}Xi(t,e){if(aa(e))return No.resolve(null);let n=la(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=fa(e,null,"F"),n=la(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const o=Da(...r);return this.Zi.getDocuments(t,o).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const i=this.rs(e,r);return this.ss(e,i,o,n.readTime)?this.Xi(t,fa(e,null,"F")):this.os(t,i,e,n)}))))})))))}es(t,e,n,r){return aa(e)||r.isEqual(po.min())?No.resolve(null):this.Zi.getDocuments(t,n).next((o=>{const i=this.rs(e,o);return this.ss(e,i,n,r)?No.resolve(null):(Hr()<=on.DEBUG&&Gr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ga(e)),this.os(t,i,e,Co(r,-1)).next((t=>t)))}))}rs(t,e){let n=new qo(va(t));return e.forEach(((e,r)=>{ma(t,r)&&(n=n.add(r))})),n}ss(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ts(t,e,n){return Hr()<=on.DEBUG&&Gr("QueryEngine","Using full collection scan to execute query:",ga(e)),this.Zi.getDocumentsMatchingQuery(t,e,bo.min(),n)}os(t,e,n,r){return this.Zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class $u{constructor(t,e,n,r){this.persistence=t,this._s=e,this.serializer=r,this.us=new Wo(co),this.cs=new Ea((t=>ta(t)),ea),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(n)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ou(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function qu(t,e,n,r){return new $u(t,e,n,r)}async function Ku(t,e){const n=Yr(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((o=>(r=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const o=[],i=[];let a=Da();for(const t of r){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({Ts:t,removedBatchIds:o,addedBatchIds:i})))}))}))}function Yu(t){const e=Yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function Qu(t,e,n){let r=Da(),o=Da();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=_a();return n.forEach(((n,i)=>{const a=t.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(po.min())?(e.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(i),r=r.insert(n,i)):Gr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{Is:r,Es:o}}))}function Zu(t,e){const n=Yr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Ju(t,e){const n=Yr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Gr.getTargetData(t,e).next((o=>o?(r=o,No.resolve(r)):n.Gr.allocateTargetId(t).next((o=>(r=new pu(e,o,"TargetPurposeListen",t.currentSequenceNumber),n.Gr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.us.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(t.targetId,t),n.cs.set(e,t.targetId)),t}))}async function tl(t,e,n){const r=Yr(t),o=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(t=>r.persistence.referenceDelegate.removeTarget(t,o)))}catch(t){if(!Oo(t))throw t;Gr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function el(t,e,n){const r=Yr(t);let o=po.min(),i=Da();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=Yr(t),o=r.cs.get(n);return void 0!==o?No.resolve(r.us.get(o)):r.Gr.getTargetData(e,n)}(r,t,la(e)).next((e=>{if(e)return o=e.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{i=t}))})).next((()=>r._s.getDocumentsMatchingQuery(t,e,n?o:po.min(),n?i:Da()))).next((t=>(nl(r,ya(e),t),{documents:t,ds:i})))))}function nl(t,e,n){let r=t.ls.get(e)||po.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ls.set(e,r)}class rl{constructor(){this.activeTargetIds=Ma()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ol{constructor(){this._o=new rl,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,n){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new rl,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class il{uo(t){}shutdown(){}}class al{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Gr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Gr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sl=null;function ul(){return null===sl?sl=268435456+Math.round(2147483648*Math.random()):sl++,"0x"+sl.toString(16)}const ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cl{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const hl="WebChannelConnection";class fl extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(t,e,n,r,o){const i=ul(),a=this.No(t,e.toUriEncodedString());Gr("RestConnection",`Sending RPC '${t}' ${i}:`,a,n);const s={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(s,r,o),this.Bo(t,a,s,n).then((e=>(Gr("RestConnection",`Received RPC '${t}' ${i}: `,e),e)),(e=>{throw Xr("RestConnection",`RPC '${t}' ${i} failed with error: `,e,"url: ",a,"request:",n),e}))}ko(t,e,n,r,o,i){return this.Oo(t,e,n,r,o)}Lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+jr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}No(t,e){const n=ll[t];return`${this.Fo}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,n,r){const o=ul();return new Promise(((i,a)=>{const s=new Rr;s.setWithCredentials(!0),s.listenOnce(Dr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case xr.NO_ERROR:const e=s.getResponseJson();Gr(hl,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(e)),i(e);break;case xr.TIMEOUT:Gr(hl,`RPC '${t}' ${o} timed out`),a(new Zr(Qr.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:const n=s.getStatus();if(Gr(hl,`RPC '${t}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let t=s.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Qr).indexOf(e)>=0?e:Qr.UNKNOWN}(e.status);a(new Zr(t,e.message))}else a(new Zr(Qr.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Zr(Qr.UNAVAILABLE,"Connection failed."));break;default:qr()}}finally{Gr(hl,`RPC '${t}' ${o} completed.`)}}));const u=JSON.stringify(r);Gr(hl,`RPC '${t}' ${o} sending request:`,r),s.send(e,"POST",u,n,15)}))}qo(t,e,n){const r=ul(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Lr(),a=Pr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Lo(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;const l=o.join("");Gr(hl,`Creating RPC '${t}' stream ${r}: ${l}`,s);const c=i.createWebChannel(l,s);let h=!1,f=!1;const d=new cl({Eo:e=>{f?Gr(hl,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(Gr(hl,`Opening RPC '${t}' stream ${r} transport.`),c.open(),h=!0),Gr(hl,`RPC '${t}' stream ${r} sending:`,e),c.send(e))},Ao:()=>c.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(c,Or.EventType.OPEN,(()=>{f||(Gr(hl,`RPC '${t}' stream ${r} transport opened.`),d.So())})),p(c,Or.EventType.CLOSE,(()=>{f||(f=!0,Gr(hl,`RPC '${t}' stream ${r} transport closed`),d.Do())})),p(c,Or.EventType.ERROR,(e=>{f||(f=!0,Xr(hl,`RPC '${t}' stream ${r} transport errored:`,e),d.Do(new Zr(Qr.UNAVAILABLE,"The operation could not be completed")))})),p(c,Or.EventType.MESSAGE,(e=>{var n;if(!f){const o=e.data[0];Kr(!!o);const i=o,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Gr(hl,`RPC '${t}' stream ${r} received error:`,a);const e=a.status;let n=function(t){const e=ms[t];if(void 0!==e)return ws(e)}(e),o=a.message;void 0===n&&(n=Qr.INTERNAL,o="Unknown error status: "+e+" with message "+a.message),f=!0,d.Do(new Zr(n,o)),c.close()}else Gr(hl,`RPC '${t}' stream ${r} received:`,o),d.vo(o)}})),p(a,kr.STAT_EVENT,(e=>{e.stat===Mr.PROXY?Gr(hl,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===Mr.NOPROXY&&Gr(hl,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{d.bo()}),0),d}}function dl(){return"undefined"!=typeof document?document:null}function pl(t){return new Vs(t,!0)}class gl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=t,this.timerId=e,this.Qo=n,this.Ko=r,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,e-n);r>0&&Gr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class ml{constructor(t,e,n,r,o,i,a,s){this.li=t,this.Yo=n,this.Zo=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new gl(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===Qr.RESOURCE_EXHAUSTED?(Wr(e.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===Qr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.Xo===e&&this.I_(n,r)}),(e=>{t((()=>{const t=new Zr(Qr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const n=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{n((()=>this.E_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return Gr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(Gr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yl extends ml{constructor(t,e,n,r,o,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,i),this.serializer=o}d_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qr()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(t,e){return t.useProto3Json?(Kr(void 0===e||"string"==typeof e),Zo.fromBase64String(e||"")):(Kr(void 0===e||e instanceof Buffer||e instanceof Uint8Array),Zo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?Qr.UNKNOWN:ws(t.code);return new Zr(e,t.message||"")}(a);n=new Ds(r,o,i,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ks(t,r.document.name),i=Gs(r.document.updateTime),a=r.document.createTime?Gs(r.document.createTime):po.min(),s=new Ti({mapValue:{fields:r.document.fields}}),u=Ri.newFoundDocument(o,i,a,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Rs(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ks(t,r.document),i=r.readTime?Gs(r.readTime):po.min(),a=Ri.newNoDocument(o,i),s=r.removedTargetIds||[];n=new Rs([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ks(t,r.document),i=r.removedTargetIds||[];n=new Rs([],i,o,null)}else{if(!("filter"in e))return qr();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:o}=t,i=new gs(r,o),a=t.targetId;n=new Os(a,i)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return po.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?po.min():e.readTime?Gs(e.readTime):po.min()}(t);return this.listener.R_(e,n)}V_(t){const e={};e.database=Zs(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=na(r)?{documents:nu(t,r)}:{query:ru(t,r).ct},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=zs(t,e.resumeToken);const r=Us(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(po.min())>0){n.readTime=js(t,e.snapshotVersion.toTimestamp());const r=Us(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qr()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.c_(e)}m_(t){const e={};e.database=Zs(this.serializer),e.removeTarget=t,this.c_(e)}}class vl extends ml{constructor(t,e,n,r,o,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,i),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return Kr(!!t.streamToken),this.lastStreamToken=t.streamToken,Kr(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){Kr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(Kr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Gs(t.updateTime):Gs(e);return n.isEqual(po.min())&&(n=Gs(e)),new Ya(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Gs(t.commitTime);return this.listener.y_(n,e)}w_(){const t={};t.database=Zs(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>eu(this.serializer,t)))};this.c_(e)}}class wl extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Zr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,a]=o;return this.connection.Oo(t,Xs(e,n),r,i,a)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Qr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Zr(Qr.UNKNOWN,t.toString())}))}ko(t,e,n,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.ko(t,Xs(e,n),r,a,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===Qr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Zr(Qr.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class El{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wr(e),this.C_=!1):Gr("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Cl{constructor(t,e,n,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo((t=>{n.enqueueAndForget((async()=>{Ol(this)&&(Gr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Yr(t);e.k_.add(4),await bl(e),e.K_.set("Unknown"),e.k_.delete(4),await _l(e)}(this))}))})),this.K_=new El(n,r)}}async function _l(t){if(Ol(t))for(const e of t.q_)await e(!0)}async function bl(t){for(const e of t.q_)await e(!1)}function Al(t,e){const n=Yr(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Rl(n)?Nl(n):Kl(n).s_()&&Il(n,e))}function Sl(t,e){const n=Yr(t),r=Kl(n);n.B_.delete(e),r.s_()&&Tl(n,e),0===n.B_.size&&(r.s_()?r.a_():Ol(n)&&n.K_.set("Unknown"))}function Il(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(po.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).V_(e)}function Tl(t,e){t.U_.xe(e),Kl(t).m_(e)}function Nl(t){t.U_=new Ms({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.K_.F_()}function Rl(t){return Ol(t)&&!Kl(t).i_()&&t.B_.size>0}function Ol(t){return 0===Yr(t).k_.size}function Dl(t){t.U_=void 0}async function xl(t){t.K_.set("Online")}async function Ml(t){t.B_.forEach(((e,n)=>{Il(t,e)}))}async function kl(t,e){Dl(t),Rl(t)?(t.K_.O_(e),Nl(t)):t.K_.set("Unknown")}async function Pl(t,e,n){if(t.K_.set("Online"),e instanceof Ds&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.B_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.B_.delete(r),t.U_.removeTarget(r))}(t,e)}catch(n){Gr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ll(t,n)}else if(e instanceof Rs?t.U_.$e(e):e instanceof Os?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(po.min()))try{const e=await Yu(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.U_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=t.B_.get(r);o&&t.B_.set(r,o.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.B_.get(e);if(!r)return;t.B_.set(e,r.withResumeToken(Zo.EMPTY_BYTE_STRING,r.snapshotVersion)),Tl(t,e);const o=new pu(r.target,e,n,r.sequenceNumber);Il(t,o)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Gr("RemoteStore","Failed to raise snapshot:",e),await Ll(t,e)}}async function Ll(t,e,n){if(!Oo(e))throw e;t.k_.add(1),await bl(t),t.K_.set("Offline"),n||(n=()=>Yu(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Gr("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await _l(t)}))}function Bl(t,e){return e().catch((n=>Ll(t,n,e)))}async function Fl(t){const e=Yr(t),n=Yl(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Vl(e);)try{const t=await Zu(e.localStore,r);if(null===t){0===e.L_.length&&n.a_();break}r=t.batchId,Ul(e,t)}catch(t){await Ll(e,t)}jl(e)&&zl(e)}function Vl(t){return Ol(t)&&t.L_.length<10}function Ul(t,e){t.L_.push(e);const n=Yl(t);n.s_()&&n.f_&&n.g_(e.mutations)}function jl(t){return Ol(t)&&!Yl(t).i_()&&t.L_.length>0}function zl(t){Yl(t).start()}async function Hl(t){Yl(t).w_()}async function Gl(t){const e=Yl(t);for(const n of t.L_)e.g_(n.mutations)}async function Wl(t,e,n){const r=t.L_.shift(),o=ds.from(r,e,n);await Bl(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Fl(t)}async function Xl(t,e){e&&Yl(t).f_&&await async function(t,e){if(function(t){return vs(t)&&t!==Qr.ABORTED}(e.code)){const n=t.L_.shift();Yl(t).__(),await Bl(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Fl(t)}}(t,e),jl(t)&&zl(t)}async function $l(t,e){const n=Yr(t);n.asyncQueue.verifyOperationInProgress(),Gr("RemoteStore","RemoteStore received new credentials");const r=Ol(n);n.k_.add(3),await bl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await _l(n)}async function ql(t,e){const n=Yr(t);e?(n.k_.delete(2),await _l(n)):e||(n.k_.add(2),await bl(n),n.K_.set("Unknown"))}function Kl(t){return t.W_||(t.W_=function(t,e,n){const r=Yr(t);return r.b_(),new yl(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:xl.bind(null,t),mo:Ml.bind(null,t),po:kl.bind(null,t),R_:Pl.bind(null,t)}),t.q_.push((async e=>{e?(t.W_.__(),Rl(t)?Nl(t):t.K_.set("Unknown")):(await t.W_.stop(),Dl(t))}))),t.W_}function Yl(t){return t.G_||(t.G_=function(t,e,n){const r=Yr(t);return r.b_(),new vl(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Hl.bind(null,t),po:Xl.bind(null,t),p_:Gl.bind(null,t),y_:Wl.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await Fl(t)):(await t.G_.stop(),t.L_.length>0&&(Gr("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}class Ql{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){const i=Date.now()+n,a=new Ql(t,e,i,r,o);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zr(Qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Oo(t))return new Zr(Qr.UNAVAILABLE,`${e}: ${t}`);throw t}class Jl{static emptySet(t){return new Jl(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||wo.comparator(e.key,n.key):(t,e)=>wo.comparator(t.key,e.key),this.keyedMap=Aa(),this.sortedSet=new Wo(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jl))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Jl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class tc{constructor(){this.z_=new Wo(wo.comparator)}track(t){const e=t.doc.key,n=this.z_.get(e);n?0!==t.type&&3===n.type?this.z_=this.z_.insert(e,t):3===t.type&&1!==n.type?this.z_=this.z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.z_=this.z_.remove(e):1===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):qr():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class ec{constructor(t,e,n,r,o,i,a,s,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=u}static fromInitialDocuments(t,e,n,r,o){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new ec(t,e,Jl.emptySet(e),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&da(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class nc{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((t=>t.Z_()))}}class rc{constructor(){this.queries=oc(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const n=Yr(t),r=n.queries;n.queries=oc(),r.forEach(((t,n)=>{for(const r of n.J_)r.onError(e)}))}(this,new Zr(Qr.ABORTED,"Firestore shutting down"))}}function oc(){return new Ea((t=>pa(t)),da)}async function ic(t,e){const n=Yr(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.Y_()&&e.Z_()&&(r=2):(i=new nc,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(o,!0);break;case 1:i.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(t){const n=Zl(t,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(n)}n.queries.set(o,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&lc(n)}async function ac(t,e){const n=Yr(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const t=i.J_.indexOf(e);t>=0&&(i.J_.splice(t,1),0===i.J_.length?o=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sc(t,e){const n=Yr(t);let r=!1;for(const o of e){const t=o.query,e=n.queries.get(t);if(e){for(const t of e.J_)t.ta(o)&&(r=!0);e.H_=o}}r&&lc(n)}function uc(t,e,n){const r=Yr(t),o=r.queries.get(e);if(o)for(const i of o.J_)i.onError(n);r.queries.delete(e)}function lc(t){t.X_.forEach((t=>{t.next()}))}var cc,hc;(hc=cc||(cc={})).na="default",hc.Cache="cache";class fc{constructor(t,e,n){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new ec(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==e;return(!this.options.ua||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}aa(t){t=ec.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==cc.Cache}}class dc{constructor(t){this.key=t}}class pc{constructor(t){this.key=t}}class gc{constructor(t,e){this.query=t,this.da=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Da(),this.mutatedKeys=Da(),this.Va=va(t),this.ma=new Jl(this.Va)}get fa(){return this.da}ga(t,e){const n=e?e.pa:new tc,r=e?e.ma:this.ma;let o=e?e.mutatedKeys:this.mutatedKeys,i=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const l=r.get(t),c=ma(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.ya(l,c)||(n.track({type:2,doc:c}),d=!0,(s&&this.Va(c,s)>0||u&&this.Va(c,u)<0)&&(a=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(s||u)&&(a=!0)),d&&(c?(i=i.add(c),o=f?o.add(t):o.delete(t)):(i=i.delete(t),o=o.delete(t)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const t="F"===this.query.limitType?i.last():i.first();i=i.delete(t.key),o=o.delete(t.key),n.track({type:1,doc:t})}return{ma:i,pa:n,ss:a,mutatedKeys:o}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const o=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const i=t.pa.j_();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qr()}};return n(t)-n(e)}(t.type,e.type)||this.Va(t.doc,e.doc))),this.wa(n),r=null!=r&&r;const a=e&&!r?this.Sa():[],s=0===this.Ra.size&&this.current&&!r?1:0,u=s!==this.Aa;return this.Aa=s,0!==i.length||u?{snapshot:new ec(this.query,t.ma,o,i,t.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ma:this.ma,pa:new tc,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach((t=>this.da=this.da.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.da=this.da.delete(t))),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Da(),this.ma.forEach((t=>{this.Da(t.key)&&(this.Ra=this.Ra.add(t.key))}));const e=[];return t.forEach((t=>{this.Ra.has(t)||e.push(new pc(t))})),this.Ra.forEach((n=>{t.has(n)||e.push(new dc(n))})),e}va(t){this.da=t.ds,this.Ra=Da();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return ec.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class mc{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class yc{constructor(t){this.key=t,this.Fa=!1}}class vc{constructor(t,e,n,r,o,i){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ma={},this.xa=new Ea((t=>pa(t)),da),this.Oa=new Map,this.Na=new Set,this.La=new Wo(wo.comparator),this.Ba=new Map,this.ka=new ku,this.qa={},this.Qa=new Map,this.Ka=_u.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function wc(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Uc(t);let o;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Ca()):o=await Cc(r,e,n,!0),o}async function Ec(t,e){const n=Uc(t);await Cc(n,e,!0,!1)}async function Cc(t,e,n,r){const o=await Ju(t.localStore,la(e)),i=o.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let s;return r&&(s=await _c(t,e,i,"current"===a,o.resumeToken)),t.isPrimaryClient&&n&&Al(t.remoteStore,o),s}async function _c(t,e,n,r,o){t.Ua=(e,n,r)=>async function(t,e,n,r){let o=e.view.ga(n);o.ss&&(o=await el(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ga(n,o)})));const i=r&&r.targetChanges.get(e.targetId),a=r&&null!=r.targetMismatches.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,i,a);return kc(t,e.targetId,s.ba),s.snapshot}(t,e,n,r);const i=await el(t.localStore,e,!0),a=new gc(e,i.ds),s=a.ga(i.documents),u=Ns.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,o),l=a.applyChanges(s,t.isPrimaryClient,u);kc(t,n,l.ba);const c=new mc(e,n,a);return t.xa.set(e,c),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),l.snapshot}async function bc(t,e,n){const r=Yr(t),o=r.xa.get(e),i=r.Oa.get(o.targetId);if(i.length>1)return r.Oa.set(o.targetId,i.filter((t=>!da(t,e)))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await tl(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Sl(r.remoteStore,o.targetId),xc(r,o.targetId)})).catch(To)):(xc(r,o.targetId),await tl(r.localStore,o.targetId,!0))}async function Ac(t,e){const n=Yr(t),r=n.xa.get(e),o=n.Oa.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sl(n.remoteStore,r.targetId))}async function Sc(t,e){const n=Yr(t);try{const t=await function(t,e){const n=Yr(t),r=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const i=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const a=[];e.targetChanges.forEach(((i,s)=>{const u=o.get(s);if(!u)return;a.push(n.Gr.removeMatchingKeys(t,i.removedDocuments,s).next((()=>n.Gr.addMatchingKeys(t,i.addedDocuments,s))));let l=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?l=l.withResumeToken(Zo.EMPTY_BYTE_STRING,po.min()).withLastLimboFreeSnapshotVersion(po.min()):i.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(i.resumeToken,r)),o=o.insert(s,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,i)&&a.push(n.Gr.updateTargetData(t,l))}));let s=_a(),u=Da();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Qu(t,i,e.documentUpdates).next((t=>{s=t.Is,u=t.Es}))),!r.isEqual(po.min())){const e=n.Gr.getLastRemoteSnapshotVersion(t).next((e=>n.Gr.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return No.waitFor(a).next((()=>i.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,u))).next((()=>s))})).then((t=>(n.us=o,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Ba.get(e);r&&(Kr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?Kr(r.Fa):t.removedDocuments.size>0&&(Kr(r.Fa),r.Fa=!1))})),await Bc(n,t,e)}catch(t){await To(t)}}function Ic(t,e,n){const r=Yr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xa.forEach(((n,r)=>{const o=r.view.ea(e);o.snapshot&&t.push(o.snapshot)})),function(t,e){const n=Yr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const o of n.J_)o.ea(e)&&(r=!0)})),r&&lc(n)}(r.eventManager,e),t.length&&r.Ma.R_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tc(t,e,n){const r=Yr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Ba.get(e),i=o&&o.key;if(i){let t=new Wo(wo.comparator);t=t.insert(i,Ri.newNoDocument(i,po.min()));const n=Da().add(i),o=new Ts(po.min(),new Map,new Wo(co),t,n);await Sc(r,o),r.La=r.La.remove(i),r.Ba.delete(e),Lc(r)}else await tl(r.localStore,e,!1).then((()=>xc(r,e,n))).catch(To)}async function Nc(t,e){const n=Yr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Yr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const o=n.batch,i=o.keys();let a=No.resolve();return i.forEach((t=>{a=a.next((()=>r.getEntry(e,t))).next((e=>{const i=n.docVersions.get(t);Kr(null!==i),e.version.compareTo(i)<0&&(o.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),a.next((()=>t.mutationQueue.removeMutationBatch(e,o)))}(n,t,e,o).next((()=>o.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Da();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Dc(n,r,null),Oc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,t)}catch(t){await To(t)}}async function Rc(t,e,n){const r=Yr(t);try{const t=await function(t,e){const n=Yr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Kr(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Dc(r,e,n),Oc(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,t)}catch(n){await To(n)}}function Oc(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function Dc(t,e,n){const r=Yr(t);let o=r.qa[r.currentUser.toKey()];if(o){const t=o.get(e);t&&(n?t.reject(n):t.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function xc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach((e=>{t.ka.containsKey(e)||Mc(t,e)}))}function Mc(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);null!==n&&(Sl(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Lc(t))}function kc(t,e,n){for(const r of n)r instanceof dc?(t.ka.addReference(r.key,e),Pc(t,r)):r instanceof pc?(Gr("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Mc(t,r.key)):qr()}function Pc(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Gr("SyncEngine","New document in limbo: "+n),t.Na.add(r),Lc(t))}function Lc(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new wo(mo.fromString(e)),r=t.Ka.next();t.Ba.set(r,new yc(n)),t.La=t.La.insert(n,r),Al(t.remoteStore,new pu(la(ia(n.path)),r,"TargetPurposeLimboResolution",Do.oe))}}async function Bc(t,e,n){const r=Yr(t),o=[],i=[],a=[];r.xa.isEmpty()||(r.xa.forEach(((t,s)=>{a.push(r.Ua(s,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const o=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(s.targetId,o?"current":"not-current")}if(t){o.push(t);const e=Gu.zi(s.targetId,t);i.push(e)}})))})),await Promise.all(a),r.Ma.R_(o),await async function(t,e){const n=Yr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>No.forEach(e,(e=>No.forEach(e.Wi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>No.forEach(e.Gi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Oo(t))throw t;Gr("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.us.get(t),r=e.snapshotVersion,o=e.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(t,o)}}}(r.localStore,i))}async function Fc(t,e){const n=Yr(t);if(!n.currentUser.isEqual(e)){Gr("SyncEngine","User change. New user:",e.toKey());const t=await Ku(n.localStore,e);n.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new Zr(Qr.CANCELLED,e))}))})),t.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Bc(n,t.Ts)}}function Vc(t,e){const n=Yr(t),r=n.Ba.get(e);if(r&&r.Fa)return Da().add(r.key);{let t=Da();const r=n.Oa.get(e);if(!r)return t;for(const e of r){const r=n.xa.get(e);t=t.unionWith(r.view.fa)}return t}}function Uc(t){const e=Yr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tc.bind(null,e),e.Ma.R_=sc.bind(null,e.eventManager),e.Ma.Wa=uc.bind(null,e.eventManager),e}function jc(t){const e=Yr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rc.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pl(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return qu(this.persistence,new Xu,t.initialUser,this.serializer)}ja(t){return new Uu(zu.ei,this.serializer)}za(t){return new ol}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Hc extends zc{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){Kr(this.persistence.referenceDelegate instanceof Hu);const n=this.persistence.referenceDelegate.garbageCollector;return new Su(n,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?Cu.withCacheSize(this.cacheSizeBytes):Cu.DEFAULT;return new Uu((t=>Hu.ei(t,e)),this.serializer)}}class Gc{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Ic(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fc.bind(null,this.syncEngine),await ql(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new rc}createDatastore(t){const e=pl(t.databaseInfo.databaseId),n=function(t){return new fl(t)}(t.databaseInfo);return function(t,e,n,r){return new wl(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,o){return new Cl(t,e,n,r,o)}(this.localStore,this.datastore,t.asyncQueue,(t=>Ic(this.syncEngine,t,0)),al.p()?new al:new il)}createSyncEngine(t,e){return function(t,e,n,r,o,i,a){const s=new vc(t,e,n,r,o,i);return a&&(s.$a=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=Yr(t);Gr("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await bl(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}Gc.provider={build:()=>new Gc};class Wc{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):Wr("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class Xc{constructor(t,e,n,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Ur.UNAUTHENTICATED,this.clientId=lo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async t=>{Gr("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Gr("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Zl(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function $c(t,e){t.asyncQueue.verifyOperationInProgress(),Gr("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ku(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qc(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kc(t);Gr("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>$l(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>$l(e.remoteStore,n))),t._onlineComponents=e}async function Kc(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Gr("FirestoreClient","Using user provided OfflineComponentProvider");try{await $c(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Qr.FAILED_PRECONDITION||t.code===Qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await $c(t,new zc)}}else Gr("FirestoreClient","Using default OfflineComponentProvider"),await $c(t,new Hc(void 0));return t._offlineComponents}async function Yc(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Gr("FirestoreClient","Using user provided OnlineComponentProvider"),await qc(t,t._uninitializedComponentsProvider._online)):(Gr("FirestoreClient","Using default OnlineComponentProvider"),await qc(t,new Gc))),t._onlineComponents}function Qc(t){return Yc(t).then((t=>t.syncEngine))}async function Zc(t){const e=await Yc(t),n=e.eventManager;return n.onListen=wc.bind(null,e.syncEngine),n.onUnlisten=bc.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ec.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ac.bind(null,e.syncEngine),n}function Jc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Jr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,o){const i=new Wc({next:s=>{i.eu(),e.enqueueAndForget((()=>ac(t,a)));const u=s.docs.has(n);!u&&s.fromCache?o.reject(new Zr(Qr.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&s.fromCache&&r&&"server"===r.source?o.reject(new Zr(Qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:t=>o.reject(t)}),a=new fc(ia(n.path),i,{includeMetadataChanges:!0,ua:!0});return ic(t,a)}(await Zc(t),t.asyncQueue,e,n,r))),r.promise}function th(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Jr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,o){const i=new Wc({next:n=>{i.eu(),e.enqueueAndForget((()=>ac(t,a))),n.fromCache&&"server"===r.source?o.reject(new Zr(Qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:t=>o.reject(t)}),a=new fc(n,i,{includeMetadataChanges:!0,ua:!0});return ic(t,a)}(await Zc(t),t.asyncQueue,e,n,r))),r.promise}function eh(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const nh=new Map;function rh(t,e,n){if(!n)throw new Zr(Qr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oh(t){if(!wo.isDocumentKey(t))throw new Zr(Qr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ih(t){if(wo.isDocumentKey(t))throw new Zr(Qr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ah(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":qr()}function sh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zr(Qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new Zr(Qr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class uh{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Zr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new Zr(Qr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eh(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Zr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Zr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Zr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Zr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uh(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new eo;switch(t.type){case"firstParty":return new io(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Zr(Qr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=nh.get(t);e&&(Gr("ComponentProvider","Removing Datastore"),nh.delete(t),e.terminate())}(this),Promise.resolve()}}function ch(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o;const i=(t=sh(t,lh))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Ur.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Zr(Qr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ur(i)}t._authCredentials=new no(new to(e,n))}}class hh{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new hh(this.firestore,t,this._query)}}class fh{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fh(this.firestore,t,this._key)}}class dh extends hh{constructor(t,e,n){super(t,e,ia(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fh(this.firestore,null,new wo(t))}withConverter(t){return new dh(this.firestore,t,this._path)}}function ph(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(t=Ze(t),rh("collection","path",e),t instanceof lh){const n=mo.fromString(e,...r);return ih(n),new dh(t,null,n)}{if(!(t instanceof fh||t instanceof dh))throw new Zr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mo.fromString(e,...r));return ih(n),new dh(t.firestore,null,n)}}function gh(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(t=Ze(t),1===arguments.length&&(e=lo.newId()),rh("doc","path",e),t instanceof lh){const n=mo.fromString(e,...r);return oh(n),new fh(t,null,new wo(n))}{if(!(t instanceof fh||t instanceof dh))throw new Zr(Qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mo.fromString(e,...r));return oh(n),new fh(t.firestore,t instanceof dh?t.converter:null,new wo(n))}}class mh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new gl(this,"async_queue_retry"),this.fu=()=>{const t=dl();t&&Gr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=dl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=dl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new Jr;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(IC){if(!Oo(IC))throw IC;Gr("AsyncQueue","Operation failed with retryable error: "+IC)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Wr("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,n){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const r=Ql.createAndSchedule(this,t,e,n,(t=>this.Su(t)));return this.du.push(r),r}pu(){this.Au&&qr()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}function yh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class vh extends lh{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new mh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mh(t),this._firestoreClient=void 0,await t}}}function wh(t){if(t._terminated)throw new Zr(Qr.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Eh(t),t._firestoreClient}function Eh(t){var e,n,r;const o=t._freezeSettings(),i=function(t,e,n,r){return new ai(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,eh(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new Xc(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Ch{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ch(Zo.fromBase64String(t))}catch(t){throw new Zr(Qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ch(Zo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class _h{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Zr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vo(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bh{constructor(t){this._methodName=t}}class Ah{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return co(this._lat,t._lat)||co(this._long,t._long)}}class Sh{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const Ih=/^__.*__$/;class Th{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new as(t,this.data,this.fieldMask,e,this.fieldTransforms):new is(t,this.data,e,this.fieldTransforms)}}class Nh{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new as(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Rh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qr()}}class Oh{constructor(t,e,n,r,o,i){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Oh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Lu(t),r}Bu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return $h(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if(Rh(this.Mu)&&Ih.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class Dh{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||pl(t)}$u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Oh({Mu:t,methodName:e,Ku:n,path:vo.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(t){const e=t._freezeSettings(),n=pl(t._databaseId);return new Dh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mh(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=t.$u(i.merge||i.mergeFields?2:0,e,n,o);Hh("Data must be an object, but it was:",a,r);const s=jh(r,a);let u,l;if(i.merge)u=new Yo(a.fieldMask),l=a.fieldTransforms;else if(i.mergeFields){const t=[];for(const r of i.mergeFields){const o=Gh(e,r,n);if(!a.contains(o))throw new Zr(Qr.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);qh(t,o)||t.push(o)}u=new Yo(t),l=a.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,l=a.fieldTransforms;return new Th(new Ti(s),u,l)}class kh extends bh{_toFieldTransform(t){if(2!==t.Mu)throw 1===t.Mu?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}function Ph(t,e,n){return new Oh({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lh extends bh{constructor(t,e){super(t),this.Uu=e}_toFieldTransform(t){const e=Ph(this,t,!0),n=this.Uu.map((t=>Uh(t,e))),r=new za(n);return new Ka(t.path,r)}isEqual(t){return t instanceof Lh&&Ye(this.Uu,t.Uu)}}function Bh(t,e,n,r){const o=t.$u(1,e,n);Hh("Data must be an object, but it was:",o,r);const i=[],a=Ti.empty();Ho(r,((t,r)=>{const s=Xh(e,t,n);r=Ze(r);const u=o.Bu(s);if(r instanceof kh)i.push(s);else{const t=Uh(r,u);null!=t&&(i.push(s),a.set(s,t))}}));const s=new Yo(i);return new Nh(a,s,o.fieldTransforms)}function Fh(t,e,n,r,o,i){const a=t.$u(1,e,n),s=[Gh(e,r,n)],u=[o];if(i.length%2!=0)throw new Zr(Qr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)s.push(Gh(e,i[f])),u.push(i[f+1]);const l=[],c=Ti.empty();for(let f=s.length-1;f>=0;--f)if(!qh(l,s[f])){const t=s[f];let e=u[f];e=Ze(e);const n=a.Bu(t);if(e instanceof kh)l.push(t);else{const r=Uh(e,n);null!=r&&(l.push(t),c.set(t,r))}}const h=new Yo(l);return new Nh(c,h,a.fieldTransforms)}function Vh(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Uh(n,t.$u(r?4:3,e))}function Uh(t,e){if(zh(t=Ze(t)))return Hh("Unsupported field value:",e,t),jh(t,e);if(t instanceof bh)return function(t,e){if(!Rh(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const o of t){let t=Uh(o,e.ku(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Ze(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return La(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=fo.fromDate(t);return{timestampValue:js(e.serializer,n)}}if(t instanceof fo){const n=new fo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:js(e.serializer,n)}}if(t instanceof Ah)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ch)return{bytesValue:zs(e.serializer,t._byteString)};if(t instanceof fh){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ws(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Sh)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return ka(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${ah(t)}`)}(t,e)}function jh(t,e){const n={};return Go(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,((t,r)=>{const o=Uh(r,e.Ou(t));null!=o&&(n[t]=o)})),{mapValue:{fields:n}}}function zh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fo||t instanceof Ah||t instanceof Ch||t instanceof fh||t instanceof bh||t instanceof Sh)}function Hh(t,e,n){if(!zh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=ah(n);throw"an object"===r?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Gh(t,e,n){if((e=Ze(e))instanceof _h)return e._internalPath;if("string"==typeof e)return Xh(t,e);throw $h("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wh=new RegExp("[~\\*/\\[\\]]");function Xh(t,e,n){if(e.search(Wh)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch(r){throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $h(t,e,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${o}`),u+=")"),new Zr(Qr.INVALID_ARGUMENT,s+t+u)}function qh(t,e){return t.some((t=>t.isEqual(e)))}class Kh{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Yh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Yh extends Kh{data(){return super.data()}}function Qh(t,e){return"string"==typeof e?Xh(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}function Zh(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Zr(Qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jh{}class tf extends Jh{}function ef(t,e){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e instanceof Jh&&n.push(e),n=n.concat(o),function(t){const e=t.filter((t=>t instanceof of)).length,n=t.filter((t=>t instanceof nf)).length;if(e>1||e>0&&n>0)throw new Zr(Qr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class nf extends tf{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new nf(t,e,n)}_apply(t){const e=this._parse(t);return uf(t._query,e),new hh(t.firestore,t.converter,ha(t._query,e))}_parse(t){const e=xh(t.firestore),n=function(t,e,n,r,o,i,a){let s;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Zr(Qr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){sf(a,i);const e=[];for(const n of a)e.push(af(r,t,n));s={arrayValue:{values:e}}}else s=af(r,t,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||sf(a,i),s=Vh(n,e,a,"in"===i||"not-in"===i);return Li.create(o,i,s)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function rf(t,e,n){const r=e,o=Qh("where",t);return nf._create(o,r,n)}class of extends Jh{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new of(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Bi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const o of r)uf(n,o),n=ha(n,o)}(t._query,e),new hh(t.firestore,t.converter,ha(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function af(t,e,n){if("string"==typeof(n=Ze(n))){if(""===n)throw new Zr(Qr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sa(e)&&-1!==n.indexOf("/"))throw new Zr(Qr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mo.fromString(n));if(!wo.isDocumentKey(r))throw new Zr(Qr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vi(t,new wo(r))}if(n instanceof fh)return vi(t,n._key);throw new Zr(Qr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function sf(t,e){if(!Array.isArray(t)||0===t.length)throw new Zr(Qr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uf(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Zr(Qr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Zr(Qr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lf{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(li(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw qr()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ho(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e,n,r;const o=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((t=>ei(t.doubleValue)));return new Sh(o)}convertGeoPoint(t){return new Ah(ei(t.latitude),ei(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=oi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ii(t));default:return null}}convertTimestamp(t){const e=ti(t);return new fo(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=mo.fromString(t);Kr(du(n));const r=new si(n.get(1),n.get(3)),o=new wo(n.popFirst(5));return r.isEqual(e)||Wr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function cf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ff extends Kh{constructor(t,e,n,r,o,i){super(t,e,n,r,i),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class df extends ff{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class pf{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new df(this._firestore,this._userDataWriter,n.key,n,new hf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new df(t._firestore,t._userDataWriter,n.doc.key,n.doc,new hf(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new df(t._firestore,t._userDataWriter,e.doc.key,e.doc,new hf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let o=-1,i=-1;return 0!==e.type&&(o=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),i=n.indexOf(e.doc.key)),{type:gf(e.type),doc:r,oldIndex:o,newIndex:i}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qr()}}class mf extends lf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ch(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fh(this.firestore,null,e)}}function yf(t){t=sh(t,hh);const e=sh(t.firestore,vh),n=wh(e),r=new mf(e);return Zh(t._query),th(n,t._query).then((n=>new pf(e,r,t,n)))}function vf(t,e){const n=sh(t.firestore,vh),r=gh(t),o=cf(t.converter,e);return wf(n,[Mh(xh(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,Qa.exists(!1))]).then((()=>r))}function wf(t,e){return function(t,e){const n=new Jr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=jc(t);try{const t=await function(t,e){const n=Yr(t),r=fo.now(),o=e.reduce(((t,e)=>t.add(e.key)),Da());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let s=_a(),u=Da();return n.hs.getEntries(t,o).next((t=>{s=t,s.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,s))).next((o=>{i=o;const a=[];for(const t of e){const e=rs(t,i.get(t.key).overlayedDocument);null!=e&&a.push(new as(t.key,e,Ni(e.value.mapValue),Qa.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)})).next((e=>{a=e;const r=e.applyToLocalDocumentSet(i,u);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Sa(i)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qa[t.currentUser.toKey()];r||(r=new Wo(co)),r=r.insert(e,n),t.qa[t.currentUser.toKey()]=r}(r,t.batchId,n),await Bc(r,t.changes),await Fl(r.remoteStore)}catch(t){const e=Zl(t,"Failed to persist write");n.reject(e)}}(await Qc(t),e,n))),n.promise}(wh(t),e)}function Ef(t,e,n){const r=n.docs.get(e._key),o=new mf(t);return new ff(t,o,e._key,r,new hf(n.hasPendingWrites,n.fromCache),e.converter)}function Cf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Lh("arrayUnion",e)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){jr=t}("11.0.2"),lr(new Je("firestore",((t,n)=>{let{instanceIdentifier:r,options:o}=n;const i=t.getProvider("app").getImmediate(),a=new vh(new ro(t.getProvider("auth-internal")),new so(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new si(t.options.projectId,e)}(i,r),i);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a}),"PUBLIC").setMultipleInstances(!0)),pr(Vr,"4.7.5",t),pr(Vr,"4.7.5","esm2017")}();const _f=function(t,e){const n="object"==typeof t?t:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;const e=ir.get(t);if(!e&&t===rr&&ze())return dr();if(!e)throw hr.create("no-app",{appName:t});return e}(),r="string"==typeof t?t:e||"(default)",o=cr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const t=je("firestore");t&&ch(o,...t)}return o}(dr({apiKey:"AIzaSyC7AyGz_yKZPMcBUgqWCs6oV6-yvklFws0",authDomain:"attendance-app-7aefe.firebaseapp.com",projectId:"attendance-app-7aefe",storageBucket:"attendance-app-7aefe.appspot.com",messagingSenderId:"71551212270",appId:"1:71551212270:web:52bbfc06c6993de1abb1ff",measurementId:"G-P3B2Z8FWVF"})),bf=async t=>{await vf(ph(_f,"courses"),t)},Af=async(t,e)=>{const n=gh(_f,"courses",t);await function(t,e,n){t=sh(t,fh);const r=sh(t.firestore,vh),o=xh(r);let i;for(var a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];return i="string"==typeof(e=Ze(e))||e instanceof _h?Fh(o,"updateDoc",t._key,e,n,s):Bh(o,"updateDoc",t._key,e),wf(r,[i.toMutation(t._key,Qa.exists(!0))])}(n,{students:Cf(e)})},Sf=async()=>(await yf(ph(_f,"courses"))).docs.map((t=>({...t.data(),id:t.id}))),If=t=>function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o,i,a;t=Ze(t);let s={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof n[u]||yh(n[u])||(s=n[u],u++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yh(n[u])){const t=n[u];n[u]=null===(o=t.next)||void 0===o?void 0:o.bind(t),n[u+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),n[u+2]=null===(a=t.complete)||void 0===a?void 0:a.bind(t)}let c,h,f;if(t instanceof fh)h=sh(t.firestore,vh),f=ia(t._key.path),c={next:e=>{n[u]&&n[u](Ef(h,t,e))},error:n[u+1],complete:n[u+2]};else{const e=sh(t,hh);h=sh(e.firestore,vh),f=e._query;const r=new mf(h);c={next:t=>{n[u]&&n[u](new pf(h,r,e,t))},error:n[u+1],complete:n[u+2]},Zh(t._query)}return function(t,e,n,r){const o=new Wc(r),i=new fc(e,o,n);return t.asyncQueue.enqueueAndForget((async()=>ic(await Zc(t),i))),()=>{o.eu(),t.asyncQueue.enqueueAndForget((async()=>ac(await Zc(t),i)))}}(wh(h),f,l,c)}(ph(_f,"courses"),(e=>{const n=e.docs.map((t=>({id:t.id,...t.data()})));t(n)})),Tf=async(t,e,n)=>{const r="admins"===t?"staffID":"studentID",o=ef(ph(_f,t),rf(r,"==",e),rf("password","==",n)),i=await yf(o);if(i.empty)throw new Error("Invalid credentials.");return i.docs[0].data()},Nf=async(t,e)=>{const n=gh(_f,"courses",t),r=await function(t){t=sh(t,fh);const e=sh(t.firestore,vh);return Jc(wh(e),t._key).then((n=>Ef(e,t,n)))}(n);if(r.exists){return r.data().students.some((t=>t.studentID===e))}return!1};const Rf=function(t){let{onLogin:e}=t;const n=tt(),[o,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,l]=(0,r.useState)({}),[c,h]=(0,r.useState)(!1);return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Student Login"}),(0,xe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return o||(t.studentID="Student ID is required."),a||(t.password="Password is required."),l(t),0===Object.keys(t).length})())try{await Tf("students",o,a),e(o),n("/studentDashboard")}catch(r){"Invalid credentials."===r.message?h(!0):console.error(r)}},children:[(0,xe.jsxs)("label",{children:["Student ID",(0,xe.jsx)("input",{type:"text",value:o,onChange:t=>i(t.target.value),className:"input-field",required:!0})]}),u.studentID&&(0,xe.jsx)("p",{className:"error",children:u.studentID}),(0,xe.jsxs)("label",{children:["Password",(0,xe.jsx)("input",{type:"password",value:a,onChange:t=>s(t.target.value),className:"input-field",required:!0})]}),u.password&&(0,xe.jsx)("p",{className:"error",children:u.password}),(0,xe.jsx)("button",{type:"submit",className:"button",children:"Login"}),(0,xe.jsx)("button",{type:"button",className:"button",onClick:()=>{n("/passwordReset")},children:"Reset Password"})]}),c&&(0,xe.jsx)("p",{className:"error",children:"Invalid credentials. Please try again."})]})})};const Of=function(t){let{onLogin:e}=t;const n=tt(),[o,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,l]=(0,r.useState)({}),[c,h]=(0,r.useState)(!1);return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Admin Login"}),(0,xe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return o||(t.staffID="Staff ID is required."),a||(t.password="Password is required."),l(t),0===Object.keys(t).length})())try{await Tf("admins",o,a),e(o),n("/dashboard")}catch(r){"Invalid credentials."===r.message?h(!0):console.error(r)}},children:[(0,xe.jsxs)("label",{children:["Staff ID",(0,xe.jsx)("input",{type:"text",value:o,onChange:t=>i(t.target.value),className:"input-field",required:!0})]}),u.staffID&&(0,xe.jsx)("p",{className:"error",children:u.staffID}),(0,xe.jsxs)("label",{children:["Password",(0,xe.jsx)("input",{type:"password",value:a,onChange:t=>s(t.target.value),className:"input-field",required:!0})]}),u.password&&(0,xe.jsx)("p",{className:"error",children:u.password}),(0,xe.jsx)("button",{type:"submit",className:"button",children:"Login"}),(0,xe.jsx)("button",{type:"button",className:"button",onClick:()=>{n("/passwordReset")},children:"Reset Password"})]}),c&&(0,xe.jsx)("p",{className:"error",children:"Invalid credentials. Please try again."}),(0,xe.jsx)("button",{className:"button",onClick:()=>n("/"),children:"Previous"})]})})};const Df=function(){const t=tt(),[e,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[f,d]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[m,y]=(0,r.useState)({}),[v,w]=(0,r.useState)(!1);return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Create Student Account"}),(0,xe.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),(()=>{const t={};return/^\d{10}$/.test(e)||(t.studentID="Student ID must be 10 digits long."),(!/^(?=.*[0-9])(?=.*[!@#$%^&*])/.test(c)||c.length<8)&&(t.password="Password must be at least 8 characters long and contain at least one number or symbol."),c!==f&&(t.confirmPassword="Passwords do not match."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(t.email="Invalid email format."),y(t),0===Object.keys(t).length})()){const n={studentID:e,surname:o,firstname:a,email:u,password:c,level:p};try{await(async t=>{const e=ef(ph(_f,"students"),rf("studentID","==",t.studentID));if(!(await yf(e)).empty)throw new Error("Student ID already exists.");await vf(ph(_f,"students"),t)})(n),t("/studentLogin")}catch(r){"Student ID already exists."===r.message?w(!0):console.error(r)}}},children:[(0,xe.jsxs)("label",{children:["Student ID",(0,xe.jsx)("input",{type:"text",value:e,onChange:t=>n(t.target.value),className:"input-field",required:!0})]}),m.studentID&&(0,xe.jsx)("p",{className:"error",children:m.studentID}),(0,xe.jsxs)("label",{children:["Surname",(0,xe.jsx)("input",{type:"text",value:o,onChange:t=>i(t.target.value),className:"input-field",required:!0})]}),(0,xe.jsxs)("label",{children:["First Name",(0,xe.jsx)("input",{type:"text",value:a,onChange:t=>s(t.target.value),className:"input-field",required:!0})]}),(0,xe.jsxs)("label",{children:["Email",(0,xe.jsx)("input",{type:"email",value:u,onChange:t=>l(t.target.value),className:"input-field",required:!0})]}),m.email&&(0,xe.jsx)("p",{className:"error",children:m.email}),(0,xe.jsxs)("label",{children:["Password",(0,xe.jsx)("input",{type:"password",value:c,onChange:t=>h(t.target.value),className:"input-field",required:!0})]}),m.password&&(0,xe.jsx)("p",{className:"error",children:m.password}),(0,xe.jsxs)("label",{children:["Confirm Password",(0,xe.jsx)("input",{type:"password",value:f,onChange:t=>d(t.target.value),className:"input-field",required:!0})]}),m.confirmPassword&&(0,xe.jsx)("p",{className:"error",children:m.confirmPassword}),(0,xe.jsxs)("label",{children:["Level",(0,xe.jsx)("input",{type:"text",value:p,onChange:t=>g(t.target.value),className:"input-field",required:!0})]}),(0,xe.jsx)("button",{type:"submit",className:"button",children:"Create Account"})]}),v&&(0,xe.jsx)("p",{className:"error",children:"Account with this Student ID already exists."}),(0,xe.jsx)("button",{className:"button",onClick:()=>t("/studentLogin"),children:"Back to Login"})]})})};const xf=function(){const t=tt(),[e,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[u,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[f,d]=(0,r.useState)(""),[p,g]=(0,r.useState)({}),[m,y]=(0,r.useState)(!1);return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Create Admin Account"}),(0,xe.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),(()=>{const t={};return/^\d{10}$/.test(e)||(t.staffID="Staff ID must be 10 digits long."),(!/^(?=.*[0-9])(?=.*[!@#$%^&*])/.test(c)||c.length<8)&&(t.password="Password must be at least 8 characters long and contain at least one number or symbol."),c!==f&&(t.confirmPassword="Passwords do not match."),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(t.email="Invalid email format."),g(t),0===Object.keys(t).length})()){const n={staffID:e,surname:o,firstname:a,email:u,password:c};try{await(async t=>{const e=ef(ph(_f,"admins"),rf("staffID","==",t.staffID));if(!(await yf(e)).empty)throw new Error("Staff ID already exists.");await vf(ph(_f,"admins"),t)})(n),t("/adminLogin")}catch(r){"Staff ID already exists."===r.message?y(!0):console.error(r)}}},children:[(0,xe.jsxs)("label",{children:["Staff ID",(0,xe.jsx)("input",{type:"text",value:e,onChange:t=>n(t.target.value),className:"input-field",required:!0})]}),p.staffID&&(0,xe.jsx)("p",{className:"error",children:p.staffID}),(0,xe.jsxs)("label",{children:["Surname",(0,xe.jsx)("input",{type:"text",value:o,onChange:t=>i(t.target.value),className:"input-field",required:!0})]}),(0,xe.jsxs)("label",{children:["First Name",(0,xe.jsx)("input",{type:"text",value:a,onChange:t=>s(t.target.value),className:"input-field",required:!0})]}),(0,xe.jsxs)("label",{children:["Email",(0,xe.jsx)("input",{type:"email",value:u,onChange:t=>l(t.target.value),className:"input-field",required:!0})]}),p.email&&(0,xe.jsx)("p",{className:"error",children:p.email}),(0,xe.jsxs)("label",{children:["Password",(0,xe.jsx)("input",{type:"password",value:c,onChange:t=>h(t.target.value),className:"input-field",required:!0})]}),p.password&&(0,xe.jsx)("p",{className:"error",children:p.password}),(0,xe.jsxs)("label",{children:["Confirm Password",(0,xe.jsx)("input",{type:"password",value:f,onChange:t=>d(t.target.value),className:"input-field",required:!0})]}),p.confirmPassword&&(0,xe.jsx)("p",{className:"error",children:p.confirmPassword}),(0,xe.jsx)("button",{type:"submit",className:"button",children:"Create Account"})]}),m&&(0,xe.jsx)("p",{className:"error",children:"Account with this Staff ID already exists."}),(0,xe.jsx)("button",{className:"button",onClick:()=>t("/adminLogin"),children:"Back to Login"})]})})};const Mf=function(){const[t,e]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{const t=await(async()=>(await yf(ph(_f,"students"))).docs.map((t=>({...t.data(),id:t.id}))))();e(t)})()}),[]),(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Student Accounts"}),(0,xe.jsxs)("table",{className:"student-table",children:[(0,xe.jsx)("thead",{children:(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("th",{children:"Student ID"}),(0,xe.jsx)("th",{children:"Surname"}),(0,xe.jsx)("th",{children:"Firstname"}),(0,xe.jsx)("th",{children:"Email"}),(0,xe.jsx)("th",{children:"Level"})]})}),(0,xe.jsx)("tbody",{children:t.map(((t,e)=>(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:t.studentID}),(0,xe.jsx)("td",{children:t.surname}),(0,xe.jsx)("td",{children:t.firstname}),(0,xe.jsx)("td",{children:t.email}),(0,xe.jsx)("td",{children:t.level})]},e)))})]})]})})};const kf=function(t){let{courses:e}=t;const n=tt();return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form",children:[(0,xe.jsx)("h2",{children:"Course List"}),(0,xe.jsx)("div",{children:e.map(((t,e)=>(0,xe.jsxs)("div",{className:"course-card",children:[(0,xe.jsx)("h4",{children:t.courseName}),(0,xe.jsx)("p",{children:t.description}),(0,xe.jsx)("button",{onClick:()=>{return e=t.id,void n(`/course/${e}`);var e},className:"button",children:"View Course"})]},e)))}),(0,xe.jsx)("button",{className:"button",onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]})})};var Pf,Lf=Object.defineProperty,Bf=Object.getOwnPropertySymbols,Ff=Object.prototype.hasOwnProperty,Vf=Object.prototype.propertyIsEnumerable,Uf=(t,e,n)=>e in t?Lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jf=(t,e)=>{for(var n in e||(e={}))Ff.call(e,n)&&Uf(t,n,e[n]);if(Bf)for(var n of Bf(e))Vf.call(e,n)&&Uf(t,n,e[n]);return t},zf=(t,e)=>{var n={};for(var r in t)Ff.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Bf)for(var r of Bf(t))e.indexOf(r)<0&&Vf.call(t,r)&&(n[r]=t[r]);return n};(t=>{const e=class e{constructor(t,n,r,i){if(this.version=t,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*t+17;let a=[];for(let e=0;e<this.size;e++)a.push(!1);for(let e=0;e<this.size;e++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const s=this.addEccAndInterleave(r);if(this.drawCodewords(s),-1==i){let t=1e9;for(let e=0;e<8;e++){this.applyMask(e),this.drawFormatBits(e);const n=this.getPenaltyScore();n<t&&(i=e,t=n),this.applyMask(e)}}o(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const o=t.QrSegment.makeSegments(n);return e.encodeSegments(o,r)}static encodeBinary(n,r){const o=t.QrSegment.makeBytes(n);return e.encodeSegments([o],r)}static encodeSegments(t,r){let i,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(e.MIN_VERSION<=u&&u<=l&&l<=e.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");for(i=u;;i++){const n=8*e.getNumDataCodewords(i,r),o=a.getTotalBits(t,i);if(o<=n){s=o;break}if(i>=l)throw new RangeError("Data too long")}for(const n of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])h&&s<=8*e.getNumDataCodewords(i,n)&&(r=n);let f=[];for(const e of t){n(e.mode.modeBits,4,f),n(e.numChars,e.mode.numCharCountBits(i),f);for(const t of e.getData())f.push(t)}o(f.length==s);const d=8*e.getNumDataCodewords(i,r);o(f.length<=d),n(0,Math.min(4,d-f.length),f),n(0,(8-f.length%8)%8,f),o(f.length%8==0);for(let e=236;f.length<d;e^=253)n(e,8,f);let p=[];for(;8*p.length<f.length;)p.push(0);return f.forEach(((t,e)=>p[e>>>3]|=t<<7-(7&e))),new e(i,r,p,c)}getModule(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),e=t.length;for(let n=0;n<e;n++)for(let r=0;r<e;r++)0==n&&0==r||0==n&&r==e-1||n==e-1&&0==r||this.drawAlignmentPattern(t[n],t[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const e=this.errorCorrectionLevel.formatBits<<3|t;let n=e;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const i=21522^(e<<10|n);o(i>>>15==0);for(let o=0;o<=5;o++)this.setFunctionModule(8,o,r(i,o));this.setFunctionModule(8,7,r(i,6)),this.setFunctionModule(8,8,r(i,7)),this.setFunctionModule(7,8,r(i,8));for(let o=9;o<15;o++)this.setFunctionModule(14-o,8,r(i,o));for(let o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,r(i,o));for(let o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,r(i,o));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let n=0;n<12;n++)t=t<<1^7973*(t>>>11);const e=this.version<<12|t;o(e>>>18==0);for(let n=0;n<18;n++){const t=r(e,n),o=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(o,i,t),this.setFunctionModule(i,o,t)}}drawFinderPattern(t,e){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const o=Math.max(Math.abs(r),Math.abs(n)),i=t+r,a=e+n;0<=i&&i<this.size&&0<=a&&a<this.size&&this.setFunctionModule(i,a,2!=o&&4!=o)}}drawAlignmentPattern(t,e){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(t+r,e+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(t,e,n){this.modules[e][t]=n,this.isFunction[e][t]=!0}addEccAndInterleave(t){const n=this.version,r=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(e.getNumRawDataModules(n)/8),u=i-s%i,l=Math.floor(s/i);let c=[];const h=e.reedSolomonComputeDivisor(a);for(let o=0,d=0;o<i;o++){let n=t.slice(d,d+l-a+(o<u?0:1));d+=n.length;const r=e.reedSolomonComputeRemainder(n,h);o<u&&n.push(0),c.push(n.concat(r))}let f=[];for(let e=0;e<c[0].length;e++)c.forEach(((t,n)=>{(e!=l-a||n>=u)&&f.push(t[e])}));return o(f.length==s),f}drawCodewords(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let e=this.size-1;e>=1;e-=2){6==e&&(e=5);for(let o=0;o<this.size;o++)for(let i=0;i<2;i++){const a=e-i,s=0==(e+1&2)?this.size-1-o:o;!this.isFunction[s][a]&&n<8*t.length&&(this.modules[s][a]=r(t[n>>>3],7-(7&n)),n++)}}o(n==8*t.length)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++){let r;switch(t){case 0:r=(n+e)%2==0;break;case 1:r=e%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+e)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(e/2))%2==0;break;case 5:r=n*e%2+n*e%3==0;break;case 6:r=(n*e%2+n*e%3)%2==0;break;case 7:r=((n+e)%2+n*e%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[e][n]&&r&&(this.modules[e][n]=!this.modules[e][n])}}getPenaltyScore(){let t=0;for(let o=0;o<this.size;o++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[o][a]==n?(r++,5==r?t+=e.PENALTY_N1:r>5&&t++):(this.finderPenaltyAddHistory(r,i),n||(t+=this.finderPenaltyCountPatterns(i)*e.PENALTY_N3),n=this.modules[o][a],r=1);t+=this.finderPenaltyTerminateAndCount(n,r,i)*e.PENALTY_N3}for(let o=0;o<this.size;o++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[a][o]==n?(r++,5==r?t+=e.PENALTY_N1:r>5&&t++):(this.finderPenaltyAddHistory(r,i),n||(t+=this.finderPenaltyCountPatterns(i)*e.PENALTY_N3),n=this.modules[a][o],r=1);t+=this.finderPenaltyTerminateAndCount(n,r,i)*e.PENALTY_N3}for(let o=0;o<this.size-1;o++)for(let n=0;n<this.size-1;n++){const r=this.modules[o][n];r==this.modules[o][n+1]&&r==this.modules[o+1][n]&&r==this.modules[o+1][n+1]&&(t+=e.PENALTY_N2)}let n=0;for(const e of this.modules)n=e.reduce(((t,e)=>t+(e?1:0)),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return o(0<=i&&i<=9),t+=i*e.PENALTY_N4,o(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(1==this.version)return[];{const t=Math.floor(this.version/7)+2,e=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*t-2));let n=[6];for(let r=this.size-7;n.length<t;r-=e)n.splice(1,0,r);return n}}static getNumRawDataModules(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*t+128)*t+64;if(t>=2){const e=Math.floor(t/7)+2;n-=(25*e-10)*e-55,t>=7&&(n-=36)}return o(208<=n&&n<=29648),n}static getNumDataCodewords(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let n=[];for(let e=0;e<t-1;e++)n.push(0);n.push(1);let r=1;for(let o=0;o<t;o++){for(let t=0;t<n.length;t++)n[t]=e.reedSolomonMultiply(n[t],r),t+1<n.length&&(n[t]^=n[t+1]);r=e.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(t,n){let r=n.map((t=>0));for(const o of t){const t=o^r.shift();r.push(0),n.forEach(((n,o)=>r[o]^=e.reedSolomonMultiply(n,t)))}return r}static reedSolomonMultiply(t,e){if(t>>>8!=0||e>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(e>>>r&1)*t;return o(n>>>8==0),n}finderPenaltyCountPatterns(t){const e=t[1];o(e<=3*this.size);const n=e>0&&t[2]==e&&t[3]==3*e&&t[4]==e&&t[5]==e;return(n&&t[0]>=4*e&&t[6]>=e?1:0)+(n&&t[6]>=4*e&&t[0]>=e?1:0)}finderPenaltyTerminateAndCount(t,e,n){return t&&(this.finderPenaltyAddHistory(e,n),e=0),e+=this.size,this.finderPenaltyAddHistory(e,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(t,e){0==e[0]&&(t+=this.size),e.pop(),e.unshift(t)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(t,e,n){if(e<0||e>31||t>>>e!=0)throw new RangeError("Value out of range");for(let r=e-1;r>=0;r--)n.push(t>>>r&1)}function r(t,e){return 0!=(t>>>e&1)}function o(t){if(!t)throw new Error("Assertion error")}t.QrCode=e;const i=class t{constructor(t,e,n){if(this.mode=t,this.numChars=e,this.bitData=n,e<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let r=[];for(const t of e)n(t,8,r);return new t(t.Mode.BYTE,e.length,r)}static makeNumeric(e){if(!t.isNumeric(e))throw new RangeError("String contains non-numeric characters");let r=[];for(let t=0;t<e.length;){const o=Math.min(e.length-t,3);n(parseInt(e.substring(t,t+o),10),3*o+1,r),t+=o}return new t(t.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(e){if(!t.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,o=[];for(r=0;r+2<=e.length;r+=2){let i=45*t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r));i+=t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r+1)),n(i,11,o)}return r<e.length&&n(t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r)),6,o),new t(t.Mode.ALPHANUMERIC,e.length,o)}static makeSegments(e){return""==e?[]:t.isNumeric(e)?[t.makeNumeric(e)]:t.isAlphanumeric(e)?[t.makeAlphanumeric(e)]:[t.makeBytes(t.toUtf8ByteArray(e))]}static makeEci(e){let r=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,r);else if(e<16384)n(2,2,r),n(e,14,r);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,r),n(e,21,r)}return new t(t.Mode.ECI,0,r)}static isNumeric(e){return t.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return t.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(t,e){let n=0;for(const r of t){const t=r.mode.numCharCountBits(e);if(r.numChars>=1<<t)return 1/0;n+=4+t+r.bitData.length}return n}static toUtf8ByteArray(t){t=encodeURI(t);let e=[];for(let n=0;n<t.length;n++)"%"!=t.charAt(n)?e.push(t.charCodeAt(n)):(e.push(parseInt(t.substring(n+1,n+3),16)),n+=2);return e}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(Pf||(Pf={})),(t=>{let e;(t=>{const e=class{constructor(t,e){this.ordinal=t,this.formatBits=e}};e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2);t.Ecc=e})(e=t.QrCode||(t.QrCode={}))})(Pf||(Pf={})),(t=>{let e;(t=>{const e=class{constructor(t,e){this.modeBits=t,this.numBitsCharCount=e}numCharCountBits(t){return this.numBitsCharCount[Math.floor((t+7)/17)]}};e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]);t.Mode=e})(e=t.QrSegment||(t.QrSegment={}))})(Pf||(Pf={}));var Hf=Pf,Gf={L:Hf.QrCode.Ecc.LOW,M:Hf.QrCode.Ecc.MEDIUM,Q:Hf.QrCode.Ecc.QUARTILE,H:Hf.QrCode.Ecc.HIGH},Wf=128,Xf="L",$f="#FFFFFF",qf="#000000",Kf=!1,Yf=1;function Qf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return t.forEach((function(t,r){let o=null;t.forEach((function(i,a){if(!i&&null!==o)return n.push(`M${o+e} ${r+e}h${a-o}v1H${o+e}z`),void(o=null);if(a!==t.length-1)i&&null===o&&(o=a);else{if(!i)return;null===o?n.push(`M${a+e},${r+e} h1v1H${a+e}z`):n.push(`M${o+e},${r+e} h${a+1-o}v1H${o+e}z`)}}))})),n.join("")}function Zf(t,e){return t.slice().map(((t,n)=>n<e.y||n>=e.y+e.h?t:t.map(((t,n)=>(n<e.x||n>=e.x+e.w)&&t))))}function Jf(t){let{value:e,level:n,minVersion:o,includeMargin:i,marginSize:a,imageSettings:s,size:u,boostLevel:l}=t,c=r.useMemo((()=>{const t=(Array.isArray(e)?e:[e]).reduce(((t,e)=>(t.push(...Hf.QrSegment.makeSegments(e)),t)),[]);return Hf.QrCode.encodeSegments(t,Gf[n],o,void 0,void 0,l)}),[e,n,o,l]);const{cells:h,margin:f,numCells:d,calculatedImageSettings:p}=r.useMemo((()=>{let t=c.getModules();const e=function(t,e){return null!=e?Math.max(Math.floor(e),0):t?4:0}(i,a),n=t.length+2*e,r=function(t,e,n,r){if(null==r)return null;const o=t.length+2*n,i=Math.floor(.1*e),a=o/e,s=(r.width||i)*a,u=(r.height||i)*a,l=null==r.x?t.length/2-s/2:r.x*a,c=null==r.y?t.length/2-u/2:r.y*a,h=null==r.opacity?1:r.opacity;let f=null;if(r.excavate){let t=Math.floor(l),e=Math.floor(c);f={x:t,y:e,w:Math.ceil(s+l-t),h:Math.ceil(u+c-e)}}return{x:l,y:c,h:u,w:s,excavation:f,opacity:h,crossOrigin:r.crossOrigin}}(t,u,e,s);return{cells:t,margin:e,numCells:n,calculatedImageSettings:r}}),[c,u,s,i,a]);return{qrcode:c,margin:f,cells:h,numCells:d,calculatedImageSettings:p}}var td=function(){try{(new Path2D).addPath(new Path2D)}catch(IC){return!1}return!0}(),ed=r.forwardRef((function(t,e){const n=t,{value:o,size:i=Wf,level:a=Xf,bgColor:s=$f,fgColor:u=qf,includeMargin:l=Kf,minVersion:c=Yf,boostLevel:h,marginSize:f,imageSettings:d}=n,p=zf(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=p,m=zf(p,["style"]),y=null==d?void 0:d.src,v=r.useRef(null),w=r.useRef(null),E=r.useCallback((t=>{v.current=t,"function"===typeof e?e(t):e&&(e.current=t)}),[e]),[C,_]=r.useState(!1),{margin:b,cells:A,numCells:S,calculatedImageSettings:I}=Jf({value:o,level:a,minVersion:c,boostLevel:h,includeMargin:l,marginSize:f,imageSettings:d,size:i});r.useEffect((()=>{if(null!=v.current){const t=v.current,e=t.getContext("2d");if(!e)return;let n=A;const r=w.current,o=null!=I&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;o&&null!=I.excavation&&(n=Zf(A,I.excavation));const a=window.devicePixelRatio||1;t.height=t.width=i*a;const l=i/S*a;e.scale(l,l),e.fillStyle=s,e.fillRect(0,0,S,S),e.fillStyle=u,td?e.fill(new Path2D(Qf(n,b))):A.forEach((function(t,n){t.forEach((function(t,r){t&&e.fillRect(r+b,n+b,1,1)}))})),I&&(e.globalAlpha=I.opacity),o&&e.drawImage(r,I.x+b,I.y+b,I.w,I.h)}})),r.useEffect((()=>{_(!1)}),[y]);const T=jf({height:i,width:i},g);let N=null;return null!=y&&(N=r.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{_(!0)},ref:w,crossOrigin:null==I?void 0:I.crossOrigin})),r.createElement(r.Fragment,null,r.createElement("canvas",jf({style:T,height:i,width:i,ref:E,role:"img"},m)),N)}));ed.displayName="QRCodeCanvas";var nd=r.forwardRef((function(t,e){const n=t,{value:o,size:i=Wf,level:a=Xf,bgColor:s=$f,fgColor:u=qf,includeMargin:l=Kf,minVersion:c=Yf,boostLevel:h,title:f,marginSize:d,imageSettings:p}=n,g=zf(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:m,cells:y,numCells:v,calculatedImageSettings:w}=Jf({value:o,level:a,minVersion:c,boostLevel:h,includeMargin:l,marginSize:d,imageSettings:p,size:i});let E=y,C=null;null!=p&&null!=w&&(null!=w.excavation&&(E=Zf(y,w.excavation)),C=r.createElement("image",{href:p.src,height:w.h,width:w.w,x:w.x+m,y:w.y+m,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const _=Qf(E,m);return r.createElement("svg",jf({height:i,width:i,viewBox:`0 0 ${v} ${v}`,ref:e,role:"img"},g),!!f&&r.createElement("title",null,f),r.createElement("path",{fill:s,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),r.createElement("path",{fill:u,d:_,shapeRendering:"crispEdges"}),C)}));nd.displayName="QRCodeSVG";const rd=function(){const t=tt(),[e,n]=(0,r.useState)((()=>"dark"===localStorage.getItem("theme"))),[o,i]=(0,r.useState)([]),[a,s]=(0,r.useState)({}),[u,l]=(0,r.useState)(null),[c,h]=(0,r.useState)({courseName:"",level:"",classGroup:"A"}),[f,d]=(0,r.useState)({show:!1,courseName:""});(0,r.useEffect)((()=>{const t=If((t=>{i(t)}));return document.body.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light"),()=>{t()}}),[e]);const p=t=>{const e=document.getElementById(t);"block"===e.style.display?e.style.display="none":e.style.display="block"},g=t=>{if(!t.students||!Array.isArray(t.students))return null;return[...new Set(t.students.map((t=>t.classGroup)))].map(((e,n)=>(0,xe.jsxs)("div",{children:[(0,xe.jsxs)("h4",{children:["Class Group: ",e]}),(0,xe.jsxs)("table",{className:"student-table",children:[(0,xe.jsx)("thead",{children:(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("th",{children:"Student ID"}),(0,xe.jsx)("th",{children:"Name"}),Array.from({length:15}).map(((t,e)=>(0,xe.jsxs)("th",{children:["Week ",e+1]},e)))]})}),(0,xe.jsx)("tbody",{children:t.students.filter((t=>t.classGroup===e)).map(((t,e)=>(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:t.studentID}),(0,xe.jsx)("td",{children:`${t.surname} ${t.firstname}`}),Array.from({length:15}).map(((n,r)=>{var o;return(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{type:"checkbox",name:`attendance-${e}-week${r+1}`,checked:(null===(o=t.attendance)||void 0===o?void 0:o[r])||!1,readOnly:!0})},r)}))]},e)))})]})]},n)))};return(0,xe.jsxs)("div",{className:"dashboard-container full-page",children:[(0,xe.jsxs)("div",{className:"sidebar",children:[(0,xe.jsx)("h2",{children:"HiTech University"}),(0,xe.jsxs)("div",{className:"menu-container",children:[(0,xe.jsx)("button",{className:"menu-btn",onClick:()=>p("view-courses"),children:"View Courses"}),(0,xe.jsx)("button",{className:"menu-btn",onClick:()=>p("add-course-form"),children:"Add Course"}),(0,xe.jsx)("button",{className:"menu-btn",onClick:()=>n(!e),children:"\ud83c\udf19 Toggle Dark Mode"}),(0,xe.jsx)("div",{id:"view-courses",style:{display:"none"},children:o.map((t=>(0,xe.jsx)("div",{className:"course-section square-tile",style:{padding:"10px",margin:"5px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onClick:()=>{var e;e=t.courseName,l(u===e?null:e),p("view-courses")},children:(0,xe.jsx)("h3",{children:t.courseName})},t.id)))})]})]}),(0,xe.jsxs)("div",{className:"dashboard-content",style:{marginLeft:"260px",padding:"20px"},children:[(0,xe.jsx)("h2",{children:"Admin Dashboard"}),(0,xe.jsxs)("div",{id:"add-course-form",style:{display:"none"},children:[(0,xe.jsx)("h3",{children:"Add a New Course"}),(0,xe.jsx)("input",{type:"text",placeholder:"Course Name",value:c.courseName,onChange:t=>h({...c,courseName:t.target.value}),className:"input-field"}),(0,xe.jsx)("input",{type:"text",placeholder:"Level",value:c.level,onChange:t=>h({...c,level:t.target.value}),className:"input-field"}),(0,xe.jsx)("select",{value:c.classGroup,onChange:t=>h({...c,classGroup:t.target.value}),className:"input-field",children:[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"].map((t=>(0,xe.jsx)("option",{value:t,children:t},t)))}),(0,xe.jsx)("button",{onClick:async()=>{try{await bf(c),h({courseName:"",level:"",classGroup:"A"}),p("add-course-form")}catch(t){console.error("Failed to add course:",t)}},className:"button",children:"Add Course"})]}),u&&(0,xe.jsxs)("div",{className:"course-details",style:{marginTop:"20px"},children:[(0,xe.jsx)("div",{className:"attendance-sheet",style:{marginRight:"20px"},children:o.filter((t=>t.courseName===u)).map((t=>(0,xe.jsx)("div",{children:g(t)},t.id)))}),(0,xe.jsxs)("div",{className:"qr-code-section",style:{display:"inline-block",verticalAlign:"top"},children:[(0,xe.jsx)("button",{onClick:()=>(t=>{const e=`${t}-attendance-${Date.now()}`;s((n=>({...n,[t]:e})))})(u),className:"button",children:"Generate QR Code"}),a[u]&&(0,xe.jsx)("div",{onClick:()=>{d({show:!0,courseName:u})},style:{cursor:"pointer"},children:(0,xe.jsx)(ed,{value:a[u],size:256})})]})]})]}),(0,xe.jsxs)("div",{className:"navigation-buttons",children:[(0,xe.jsx)("button",{onClick:()=>t("/"),className:"nav-button",children:"Back"}),(0,xe.jsx)("button",{onClick:()=>t("/dashboard"),className:"nav-button previous-button",children:"Previous"})]}),f.show&&(0,xe.jsx)("div",{className:"qr-popup",children:(0,xe.jsxs)("div",{className:"qr-popup-content",children:[(0,xe.jsx)("button",{className:"close-button",onClick:()=>{d({show:!1,courseName:""})},children:"Close"}),(0,xe.jsx)(ed,{value:a[f.courseName],size:256})]})})]})};const od=function(){const[t,e]=(0,r.useState)((()=>"dark"===localStorage.getItem("theme"))),[n,o]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{document.body.classList.toggle("dark",t),localStorage.setItem("theme",t?"dark":"light")}),[t]),(0,xe.jsxs)("div",{className:"homepage-container",children:[(0,xe.jsxs)("button",{onClick:()=>e(!t),className:"toggle-button",children:["\ud83c\udf19 ",t?"Light Mode":"Dark Mode"]}),(0,xe.jsxs)("div",{className:"glass-effect",children:[(0,xe.jsx)("h1",{className:"title",children:"GCTU ATTENDANCE SYSTEM"}),(0,xe.jsx)("div",{className:"top-banner"})," ",(0,xe.jsx)("div",{className:"form-container",children:n||i?(0,xe.jsx)(xe.Fragment,{children:n?(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)(Jt,{to:"/studentLogin",children:(0,xe.jsx)("button",{className:"button",children:"Student Login"})}),(0,xe.jsx)(Jt,{to:"/adminLogin",children:(0,xe.jsx)("button",{className:"button",children:"Admin Login"})}),(0,xe.jsx)("button",{className:"button",onClick:()=>o(!1),children:"Back"})]}):(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)(Jt,{to:"/createStudentAccount",children:(0,xe.jsx)("button",{className:"button",children:"Create Student Account"})}),(0,xe.jsx)(Jt,{to:"/createAdminAccount",children:(0,xe.jsx)("button",{className:"button",children:"Create Admin Account"})}),(0,xe.jsx)("button",{className:"button",onClick:()=>a(!1),children:"Back"})]})}):(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)("button",{className:"button",onClick:()=>o(!0),children:"Login"}),(0,xe.jsx)("button",{className:"button",onClick:()=>a(!0),children:"Signup"})]})})]})]})};function id(t,e){void 0===e&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var ad=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sd=function(t){function e(e,n){var r=this.constructor,o=t.call(this,e,n)||this;return Object.defineProperty(o,"name",{value:r.name,enumerable:!1,configurable:!0}),function(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}(o,r.prototype),id(o),o}return ad(e,t),e}(Error);var ud=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ld=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this,e)||this;return n.message=e,n}return ud(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(sd);var cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cd(e,t),e.kind="ArgumentException",e}(ld);var fd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const dd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fd(e,t),e.kind="IllegalArgumentException",e}(ld);const pd=function(){function t(t){if(this.binarizer=t,null===t)throw new dd("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},t.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,o){var i=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(IC){return""}},t}();var gd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gd(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(ld);const yd=function(){function t(t){this.source=t}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}();const vd=function(){function t(){}return t.arraycopy=function(t,e,n,r,o){for(;o--;)n[r++]=t[e++]},t.currentTimeMillis=function(){return Date.now()},t}();var wd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wd(e,t),e.kind="IndexOutOfBoundsException",e}(ld);var Cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _d=function(t){function e(e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0);var r=t.call(this,n)||this;return r.index=e,r.message=n,r}return Cd(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(Ed);var bd=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ad=function(){function t(){}return t.fill=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n]=e},t.fillWithin=function(e,n,r,o){t.rangeCheck(e.length,n,r);for(var i=n;i<r;i++)e[i]=o},t.rangeCheck=function(t,e,n){if(e>n)throw new dd("fromIndex("+e+") > toIndex("+n+")");if(e<0)throw new _d(e);if(n>t)throw new _d(n)},t.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},t.create=function(t,e,n){return Array.from({length:t}).map((function(t){return Array.from({length:e}).fill(n)}))},t.createInt32Array=function(t,e,n){return Array.from({length:t}).map((function(t){return Int32Array.from({length:e}).fill(n)}))},t.equals=function(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},t.hashCode=function(t){var e,n;if(null===t)return 0;var r=1;try{for(var o=bd(t),i=o.next();!i.done;i=o.next()){r=31*r+i.value}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.fillUint8Array=function(t,e){for(var n=0;n!==t.length;n++)t[n]=e},t.copyOf=function(t,e){return t.slice(0,e)},t.copyOfUint8Array=function(t,e){if(t.length<=e){var n=new Uint8Array(e);return n.set(t),n}return t.slice(0,e)},t.copyOfRange=function(t,e,n){var r=n-e,o=new Int32Array(r);return vd.arraycopy(t,e,o,0,r),o},t.binarySearch=function(e,n,r){void 0===r&&(r=t.numberComparator);for(var o=0,i=e.length-1;o<=i;){var a=i+o>>1,s=r(n,e[a]);if(s>0)o=a+1;else{if(!(s<0))return a;i=a-1}}return-o-1},t.numberComparator=function(t,e){return t-e},t}();const Sd=Ad;var Id=function(){function t(){}return t.numberOfTrailingZeros=function(t){var e;if(0===t)return 32;var n=31;return 0!==(e=t<<16)&&(n-=16,t=e),0!==(e=t<<8)&&(n-=8,t=e),0!==(e=t<<4)&&(n-=4,t=e),0!==(e=t<<2)&&(n-=2,t=e),n-(t<<1>>>31)},t.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16===0&&(e+=16,t<<=16),t>>>24===0&&(e+=8,t<<=8),t>>>28===0&&(e+=4,t<<=4),t>>>30===0&&(e+=2,t<<=2),e-=t>>>31},t.toHexString=function(t){return t.toString(16)},t.toBinaryString=function(t){return String(parseInt(String(t),2))},t.bitCount=function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,t+=t>>>8,63&(t+=t>>>16)},t.truncDivision=function(t,e){return Math.trunc(t/e)},t.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();const Td=Id;var Nd=function(){function t(e,n){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===n||null===n?t.makeArray(e):n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=t.makeArray(e);vd.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(t){return 0!==(this.bits[Math.floor(t/32)]&1<<(31&t))},t.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},t.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},t.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),o=n[r];o&=~((1<<(31&t))-1);for(var i=n.length;0===o;){if(++r===i)return e;o=n[r]}var a=32*r+Td.numberOfTrailingZeros(o);return a>e?e:a},t.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),o=~n[r];o&=~((1<<(31&t))-1);for(var i=n.length;0===o;){if(++r===i)return e;o=~n[r]}var a=32*r+Td.numberOfTrailingZeros(o);return a>e?e:a},t.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},t.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new dd;if(e!==t){e--;for(var n=Math.floor(t/32),r=Math.floor(e/32),o=this.bits,i=n;i<=r;i++){var a=(2<<(i<r?31:31&e))-(1<<(i>n?0:31&t));o[i]|=a}}},t.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,n=0;n<t;n++)e[n]=0},t.prototype.isRange=function(t,e,n){if(e<t||t<0||e>this.size)throw new dd;if(e===t)return!0;e--;for(var r=Math.floor(t/32),o=Math.floor(e/32),i=this.bits,a=r;a<=o;a++){var s=(2<<(a<o?31:31&e))-(1<<(a>r?0:31&t))&4294967295;if((i[a]&s)!==(n?s:0))return!1}return!0},t.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(t,e){if(e<0||e>32)throw new dd("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var n=e;n>0;n--)this.appendBit(1===(t>>n-1&1))},t.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var n=0;n<e;n++)this.appendBit(t.get(n))},t.prototype.xor=function(t){if(this.size!==t.size)throw new dd("Sizes don't match");for(var e=this.bits,n=0,r=e.length;n<r;n++)e[n]^=t.bits[n]},t.prototype.toBytes=function(t,e,n,r){for(var o=0;o<r;o++){for(var i=0,a=0;a<8;a++)this.get(t)&&(i|=1<<7-a),t++;e[n+o]=i}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),n=e+1,r=this.bits,o=0;o<n;o++){var i=r[o];i=(i=(i=(i=(i=i>>1&1431655765|(1431655765&i)<<1)>>2&858993459|(858993459&i)<<2)>>4&252645135|(252645135&i)<<4)>>8&16711935|(16711935&i)<<8)>>16&65535|(65535&i)<<16,t[e-o]=i}if(this.size!==32*n){var a=32*n-this.size,s=t[0]>>>a;for(o=1;o<n;o++){var u=t[o];s|=u<<32-a,t[o-1]=s,s=u>>>a}t[n-1]=s}this.bits=t},t.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&Sd.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+Sd.hashCode(this.bits)},t.prototype.toString=function(){for(var t="",e=0,n=this.size;e<n;e++)0===(7&e)&&(t+=" "),t+=this.get(e)?"X":".";return t},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var t=[],e=0,n=this.size;e<n;e++)t.push(this.get(e));return t},t}();const Rd=Nd;var Od;!function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"}(Od||(Od={}));const Dd=Od;var xd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xd(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(ld);var kd,Pd=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"}(kd||(kd={}));var Ld=function(){function t(e,n,r){for(var o,i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,this.values="number"===typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var h=u[l];t.VALUES_TO_ECI.set(h,this)}try{for(var f=Pd(a),d=f.next();!d.done;d=f.next()){var p=d.value;t.NAME_TO_ECI.set(p,this)}}catch(g){o={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Md("incorect value");var n=t.VALUES_TO_ECI.get(e);if(void 0===n)throw new Md("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(void 0===n)throw new Md("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(kd.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(kd.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(kd.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(kd.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(kd.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(kd.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(kd.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(kd.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(kd.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(kd.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(kd.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(kd.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(kd.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(kd.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(kd.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(kd.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(kd.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(kd.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(kd.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(kd.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(kd.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(kd.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(kd.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(kd.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(kd.Big5,28,"Big5"),t.GB18030=new t(kd.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(kd.EUC_KR,30,"EUC_KR","EUC-KR"),t}();const Bd=Ld;var Fd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fd(e,t),e.kind="UnsupportedOperationException",e}(ld);const Ud=function(){function t(){}return t.decode=function(t,e){var n=this.encodingName(e);return this.customDecoder?this.customDecoder(t,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&"ISO-8859-1"===e},t.encode=function(t,e){var n=this.encodingName(e);return this.customEncoder?this.customEncoder(t,n):"undefined"===typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)},t.isBrowser=function(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)},t.encodingName=function(t){return"string"===typeof t?t:t.getName()},t.encodingCharacterSet=function(t){return t instanceof Bd?t:Bd.getCharacterSetECIByName(t)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var o="",i=0,a=e.length;i<a;i++){var s=e[i].toString(16);s.length<2&&(s="0"+s),o+="%"+s}return decodeURIComponent(o)}if(r.equals(Bd.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Vd("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(t){return t.equals(Bd.UTF8)||t.equals(Bd.ISO8859_1)||t.equals(Bd.ASCII)},t.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),n=[],r=0;r<e.length;r++)n.push(e[r].charCodeAt(0));return new Uint8Array(n)},t}();const jd=function(){function t(){}return t.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var n=e?e.getName():this.ISO88591;return Ud.decode(new Uint8Array([t]),n)},t.guessEncoding=function(e,n){if(null!==n&&void 0!==n&&void 0!==n.get(Dd.CHARACTER_SET))return n.get(Dd.CHARACTER_SET).toString();for(var r=e.length,o=!0,i=!0,a=!0,s=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=0,y=0,v=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],w=0;w<r&&(o||i||a);w++){var E=255&e[w];a&&(s>0?0===(128&E)?a=!1:s--:0!==(128&E)&&(0===(64&E)?a=!1:(s++,0===(32&E)?u++:(s++,0===(16&E)?l++:(s++,0===(8&E)?c++:a=!1))))),o&&(E>127&&E<160?o=!1:E>159&&(E<192||215===E||247===E)&&y++),i&&(h>0?E<64||127===E||E>252?i=!1:h--:128===E||160===E||E>239?i=!1:E>160&&E<224?(f++,p=0,++d>g&&(g=d)):E>127?(h++,d=0,++p>m&&(m=p)):(d=0,p=0))}return a&&s>0&&(a=!1),i&&h>0&&(i=!1),a&&(v||u+l+c>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||g>=3||m>=3)?t.SHIFT_JIS:o&&i?2===g&&2===f||10*y>=r?t.SHIFT_JIS:t.ISO88591:o?t.ISO88591:i?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,n,o,i,a,s){if("%%"===t)return"%";if(void 0!==e[++r]){t=i?parseInt(i.substr(1)):void 0;var u,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=e[r];break;case"c":u=e[r][0];break;case"f":u=parseFloat(e[r]).toFixed(t);break;case"p":u=parseFloat(e[r]).toPrecision(t);break;case"e":u=parseFloat(e[r]).toExponential(t);break;case"x":u=parseInt(e[r]).toString(l||16);break;case"d":u=parseFloat(parseInt(e[r],l||10).toPrecision(t)).toFixed(0)}u="object"===typeof u?JSON.stringify(u):(+u).toString(l);for(var c=parseInt(o),h=o&&o[0]+""==="0"?"0":" ";u.length<c;)u=void 0!==n?u+h:h+u;return u}}))},t.getBytes=function(t,e){return Ud.encode(t,e)},t.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},t.getCharAt=function(t){return String.fromCharCode(t)},t.SHIFT_JIS=Bd.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Bd.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Bd.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}();const zd=function(){function t(t){void 0===t&&(t=""),this.value=t}return t.prototype.enableDecoding=function(t){return this.encoding=t,this},t.prototype.append=function(t){return"string"===typeof t?this.value+=t.toString():this.encoding?this.value+=jd.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},t.prototype.appendChars=function(t,e,n){for(var r=e;e<e+n;r++)this.append(t[r]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(t){return this.value.charAt(t)},t.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},t.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},t.prototype.substring=function(t,e){return this.value.substring(t,e)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(t,e){this.value=this.value.substring(0,t)+e+this.value.substring(t)},t}();var Hd=function(){function t(t,e,n,r){if(this.width=t,this.height=e,this.rowSize=n,this.bits=r,void 0!==e&&null!==e||(e=t),this.height=e,t<1||e<1)throw new dd("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((t+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,o=new t(r,n),i=0;i<n;i++)for(var a=e[i],s=0;s<r;s++)a[s]&&o.set(s,i);return o},t.parseFromString=function(e,n,r){if(null===e)throw new dd("stringRepresentation cannot be null");for(var o=new Array(e.length),i=0,a=0,s=-1,u=0,l=0;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new dd("row lengths do not match");a=i,u++}l++}else if(e.substring(l,l+n.length)===n)l+=n.length,o[i]=!0,i++;else{if(e.substring(l,l+r.length)!==r)throw new dd("illegal character encountered: "+e.substring(l));l+=r.length,o[i]=!1,i++}if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new dd("row lengths do not match");u++}for(var c=new t(s,u),h=0;h<i;h++)o[h]&&c.set(Math.floor(h%s),Math.floor(h/s));return c},t.prototype.get=function(t,e){var n=e*this.rowSize+Math.floor(t/32);return 0!==(this.bits[n]>>>(31&t)&1)},t.prototype.set=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(31&t)&4294967295},t.prototype.unset=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(31&t)&4294967295)},t.prototype.flip=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(31&t)&4294967295},t.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new dd("input matrix dimensions do not match");for(var e=new Rd(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,o=0,i=this.height;o<i;o++)for(var a=o*n,s=t.getRow(o,e).getBitArray(),u=0;u<n;u++)r[a+u]^=s[u]},t.prototype.clear=function(){for(var t=this.bits,e=t.length,n=0;n<e;n++)t[n]=0},t.prototype.setRegion=function(t,e,n,r){if(e<0||t<0)throw new dd("Left and top must be nonnegative");if(r<1||n<1)throw new dd("Height and width must be at least 1");var o=t+n,i=e+r;if(i>this.height||o>this.width)throw new dd("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,u=e;u<i;u++)for(var l=u*a,c=t;c<o;c++)s[l+Math.floor(c/32)]|=1<<(31&c)&4294967295},t.prototype.getRow=function(t,e){null===e||void 0===e||e.getSize()<this.width?e=new Rd(this.width):e.clear();for(var n=this.rowSize,r=this.bits,o=t*n,i=0;i<n;i++)e.setBulk(32*i,r[o+i]);return e},t.prototype.setRow=function(t,e){vd.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),n=new Rd(t),r=new Rd(t),o=0,i=Math.floor((e+1)/2);o<i;o++)n=this.getRow(o,n),r=this.getRow(e-1-o,r),n.reverse(),r.reverse(),this.setRow(o,r),this.setRow(e-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var t=this.width,e=this.height,n=this.rowSize,r=this.bits,o=t,i=e,a=-1,s=-1,u=0;u<e;u++)for(var l=0;l<n;l++){var c=r[u*n+l];if(0!==c){if(u<i&&(i=u),u>s&&(s=u),32*l<o){for(var h=0;0===(c<<31-h&4294967295);)h++;32*l+h<o&&(o=32*l+h)}if(32*l+31>a){for(h=31;c>>>h===0;)h--;32*l+h>a&&(a=32*l+h)}}}return a<o||s<i?null:Int32Array.from([o,i,a-o+1,s-i+1])},t.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,n=0;n<e.length&&0===e[n];)n++;if(n===e.length)return null;for(var r=n/t,o=n%t*32,i=e[n],a=0;0===(i<<31-a&4294967295);)a++;return o+=a,Int32Array.from([o,r])},t.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,n=e.length-1;n>=0&&0===e[n];)n--;if(n<0)return null;for(var r=Math.floor(n/t),o=32*Math.floor(n%t),i=e[n],a=31;i>>>a===0;)a--;return o+=a,Int32Array.from([o,r])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Sd.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var t=this.width;return t=31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+Sd.hashCode(this.bits)},t.prototype.toString=function(t,e,n){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===n&&(n="\n"),this.buildToString(t,e,n)},t.prototype.buildToString=function(t,e,n){for(var r=new zd,o=0,i=this.height;o<i;o++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,o)?t:e);r.append(n)}return r.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}();const Gd=Hd;var Wd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wd(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(ld);var $d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(t){function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return $d(e,t),e.prototype.getBlackRow=function(t,n){var r=this.getLuminanceSource(),o=r.getWidth();void 0===n||null===n||n.getSize()<o?n=new Rd(o):n.clear(),this.initArrays(o);for(var i=r.getRow(t,this.luminances),a=this.buckets,s=0;s<o;s++)a[(255&i[s])>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(a);if(o<3)for(s=0;s<o;s++)(255&i[s])<u&&n.set(s);else{var l=255&i[0],c=255&i[1];for(s=1;s<o-1;s++){var h=255&i[s+1];(4*c-l-h)/2<u&&n.set(s),l=c,c=h}}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),r=t.getHeight(),o=new Gd(n,r);this.initArrays(n);for(var i=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),u=t.getRow(s,this.luminances),l=Math.floor(4*n/5),c=Math.floor(n/5);c<l;c++){i[(255&u[c])>>e.LUMINANCE_SHIFT]++}var h=e.estimateBlackPoint(i),f=t.getMatrix();for(a=0;a<r;a++){var d=a*n;for(c=0;c<n;c++){(255&f[d+c])<h&&o.set(c,a)}}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,r=0;r<e.LUMINANCE_BUCKETS;r++)n[r]=0},e.estimateBlackPoint=function(t){for(var n=t.length,r=0,o=0,i=0,a=0;a<n;a++)t[a]>i&&(o=a,i=t[a]),t[a]>r&&(r=t[a]);var s=0,u=0;for(a=0;a<n;a++){var l=a-o;(d=t[a]*l*l)>u&&(s=a,u=d)}if(o>s){var c=o;o=s,s=c}if(s-o<=n/16)throw new Xd;var h=s-1,f=-1;for(a=s-1;a>o;a--){var d,p=a-o;(d=p*p*(s-a)*(r-t[a]))>f&&(h=a,f=d)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(yd);const Kd=qd;var Yd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qd=function(t){function e(e){var n=t.call(this,e)||this;return n.matrix=null,n}return Yd(e,t),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&o>=e.MINIMUM_DIMENSION){var i=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;0!==(r&e.BLOCK_SIZE_MASK)&&a++;var s=o>>e.BLOCK_SIZE_POWER;0!==(o&e.BLOCK_SIZE_MASK)&&s++;var u=e.calculateBlackPoints(i,a,s,r,o),l=new Gd(r,o);e.calculateThresholdForBlock(i,a,s,r,o,u,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,r,o,i,a,s){for(var u=i-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,c=0;c<r;c++){var h=c<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var f=e.cap(c,2,r-3),d=0;d<n;d++){var p=d<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var g=e.cap(d,2,n-3),m=0,y=-2;y<=2;y++){var v=a[f+y];m+=v[g-2]+v[g-1]+v[g]+v[g+1]+v[g+2]}var w=m/25;e.thresholdBlock(t,p,h,w,o,s)}}},e.cap=function(t,e,n){return t<e?e:t>n?n:t},e.thresholdBlock=function(t,n,r,o,i,a){for(var s=0,u=r*i+n;s<e.BLOCK_SIZE;s++,u+=i)for(var l=0;l<e.BLOCK_SIZE;l++)(255&t[u+l])<=o&&a.set(n+l,r+s)},e.calculateBlackPoints=function(t,n,r,o,i){for(var a=i-e.BLOCK_SIZE,s=o-e.BLOCK_SIZE,u=new Array(r),l=0;l<r;l++){u[l]=new Int32Array(n);var c=l<<e.BLOCK_SIZE_POWER;c>a&&(c=a);for(var h=0;h<n;h++){var f=h<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0,p=255,g=0,m=0,y=c*o+f;m<e.BLOCK_SIZE;m++,y+=o){for(var v=0;v<e.BLOCK_SIZE;v++){var w=255&t[y+v];d+=w,w<p&&(p=w),w>g&&(g=w)}if(g-p>e.MIN_DYNAMIC_RANGE)for(m++,y+=o;m<e.BLOCK_SIZE;m++,y+=o)for(v=0;v<e.BLOCK_SIZE;v++)d+=255&t[y+v]}var E=d>>2*e.BLOCK_SIZE_POWER;if(g-p<=e.MIN_DYNAMIC_RANGE&&(E=p/2,l>0&&h>0)){var C=(u[l-1][h]+2*u[l][h-1]+u[l-1][h-1])/4;p<C&&(E=C)}u[l][h]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(Kd);const Zd=Qd;var Jd=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(t,e,n,r){throw new Vd("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Vd("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Vd("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new zd,n=0;n<this.height;n++){for(var r=this.getRow(n,t),o=0;o<this.width;o++){var i=255&r[o],a=void 0;a=i<64?"#":i<128?"+":i<192?".":" ",e.append(a)}e.append("\n")}return e.toString()},t}();const tp=Jd;var ep=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const np=function(t){function e(e){var n=t.call(this,e.getWidth(),e.getHeight())||this;return n.delegate=e,n}return ep(e,t),e.prototype.getRow=function(t,e){for(var n=this.delegate.getRow(t,e),r=this.getWidth(),o=0;o<r;o++)n[o]=255-(255&n[o]);return n},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(e),r=0;r<e;r++)n[r]=255-(255&t[r]);return n},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,r,o){return new e(this.delegate.crop(t,n,r,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(tp);var rp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),op=function(t){function e(n,r){void 0===r&&(r=!1);var o=t.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=e.makeBufferFromCanvasImageData(n,r),o}return rp(e,t),e.makeBufferFromCanvasImageData=function(t,n){void 0===n&&(n=!1);var r=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(r.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,r,o){void 0===o&&(o=!1);var i=new Uint8ClampedArray(n*r);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var a=0,s=0,u=t.length;a<u;a+=4,s++){var l=void 0;if(0===t[a+3])l=255;else l=306*t[a]+601*t[a+1]+117*t[a+2]+512>>10;i[s]=l}else{a=0,s=0;for(var c=t.length;a<c;a+=4,s++){l=void 0;if(0===t[a+3])l=255;else l=306*t[a]+601*t[a+1]+117*t[a+2]+512>>10;i[s]=255-l}}return i},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new dd("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,n,r,o){return t.prototype.crop.call(this,e,n,r,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),r=n.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(o))*i+Math.abs(Math.sin(o))*a),u=Math.ceil(Math.abs(Math.sin(o))*i+Math.abs(Math.cos(o))*a);return n.width=s,n.height=u,r.translate(s/2,u/2),r.rotate(o),r.drawImage(this.canvas,i/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new np(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(tp),ip=function(){function t(t,e,n){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ap=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(IC){i(IC)}}function s(t){try{u(r.throw(t))}catch(IC){i(IC)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},sp=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(IC){i=[6,IC],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},up=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lp=function(){function t(t,e,n){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return"undefined"!==typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ap(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,s,u,l,c,h;return sp(this,(function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=f.sent(),e=[];try{for(n=up(t),r=n.next();!r.done;r=n.next())o=r.value,"videoinput"===(i="video"===o.kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,s=o.label||"Video device "+(e.length+1),u=o.groupId,l={deviceId:a,label:s,kind:i,groupId:u},e.push(l))}catch(d){c={error:d}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}return[2,e]}}))}))},t.prototype.getVideoInputDevices=function(){return ap(this,void 0,void 0,(function(){return sp(this,(function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,t.sent().map((function(t){return new ip(t.deviceId,t.label)}))]}}))}))},t.prototype.findDeviceById=function(t){return ap(this,void 0,void 0,(function(){var e;return sp(this,(function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(e=n.sent())?[2,e.find((function(e){return e.deviceId===t}))]:[2,null]}}))}))},t.prototype.decodeFromInputVideoDevice=function(t,e){return ap(this,void 0,void 0,(function(){return sp(this,(function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.decodeOnceFromVideoDevice=function(t,e){return ap(this,void 0,void 0,(function(){var n;return sp(this,(function(r){switch(r.label){case 0:return this.reset(),n={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromConstraints=function(t,e){return ap(this,void 0,void 0,(function(){var n;return sp(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,e)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromStream=function(t,e){return ap(this,void 0,void 0,(function(){var n;return sp(this,(function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,n){return ap(this,void 0,void 0,(function(){return sp(this,(function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(t,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeFromVideoDevice=function(t,e,n){return ap(this,void 0,void 0,(function(){var r;return sp(this,(function(o){switch(o.label){case 0:return r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(r,e,n)];case 1:return[2,o.sent()]}}))}))},t.prototype.decodeFromConstraints=function(t,e,n){return ap(this,void 0,void 0,(function(){var r;return sp(this,(function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=o.sent(),[4,this.decodeFromStream(r,e,n)];case 2:return[2,o.sent()]}}))}))},t.prototype.decodeFromStream=function(t,e,n){return ap(this,void 0,void 0,(function(){var r;return sp(this,(function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=o.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,o.sent()]}}))}))},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(t,e){return ap(this,void 0,void 0,(function(){var n;return sp(this,(function(r){switch(r.label){case 0:return n=this.prepareVideoElement(e),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}}))}))},t.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise((function(n,r){return e.playVideoOnLoad(t,(function(){return n()}))}))},t.prototype.playVideoOnLoad=function(t,e){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},t.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},t.prototype.tryPlayVideo=function(t){return ap(this,void 0,void 0,(function(){return sp(this,(function(e){switch(e.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}}))}))},t.prototype.getMediaElement=function(t,e){var n=document.getElementById(t);if(!n)throw new hd("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new hd("element with id '"+t+"' must be an "+e+" element");return n},t.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new hd("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},t.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new hd("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},t.prototype.decodeFromVideoContinuously=function(t,e,n){if(void 0===t&&void 0===e)throw new hd("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,n):this.decodeFromVideoElementContinuously(t,n)},t.prototype.decodeFromImageElement=function(t){if(!t)throw new hd("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},t.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},t.prototype.decodeFromVideoElementContinuously=function(t,e){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,e)},t.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new hd("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},t.prototype.decodeFromImageUrl=function(t){if(!t)throw new hd("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var n=this._decodeOnLoadImage(e);return e.src=t,n},t.prototype.decodeFromVideoUrl=function(t){if(!t)throw new hd("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),n=this.decodeFromVideoElement(e);return e.src=t,n},t.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new hd("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,e);return n.src=t,r},t.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise((function(n,r){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(n,r)},t.addEventListener("load",e.imageLoadedListener)}))},t.prototype._decodeOnLoadVideo=function(t){return ap(this,void 0,void 0,(function(){return sp(this,(function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}}))}))},t.prototype._decodeOnLoadVideoContinuously=function(t,e){return ap(this,void 0,void 0,(function(){return sp(this,(function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,e),[2]}}))}))},t.prototype.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.prototype.prepareImageElement=function(t){var e;return"undefined"===typeof t&&((e=document.createElement("img")).width=200,e.height=200),"string"===typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},t.prototype.prepareVideoElement=function(t){var e;return t||"undefined"===typeof document||((e=document.createElement("video")).width=200,e.height=200),"string"===typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},t.prototype.decodeOnce=function(t,e,n){var r=this;void 0===e&&(e=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var o=function(i,a){if(r._stopAsyncDecode)return a(new Xd("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{i(r.decode(t))}catch(IC){if(e&&IC instanceof Xd||(IC instanceof md||IC instanceof Md)&&n)return setTimeout(o,r._timeBetweenDecodingAttempts,i,a);a(IC)}};return new Promise((function(t,e){return o(t,e)}))},t.prototype.decodeContinuously=function(t,e){var n=this;this._stopContinuousDecode=!1;var r=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var o=n.decode(t);e(o,null),setTimeout(r,n.timeBetweenScansMillis)}catch(IC){e(null,IC),(IC instanceof md||IC instanceof Md||IC instanceof Xd)&&setTimeout(r,n._timeBetweenDecodingAttempts)}};r()},t.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},t.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var e=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),e=!0):this.drawImageOnCanvas(t);var n=this.getCaptureCanvas(t),r=new op(n,e),o=new Zd(r);return new pd(o)},t.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t),n=void 0;try{n=e.getContext("2d",{willReadFrequently:!0})}catch(IC){n=e.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(t,e,n){void 0===e&&(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},t.prototype.drawImageOnCanvas=function(t,e,n){void 0===e&&(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),void 0===n&&(n=this.captureCanvasContext),n.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},t.prototype.createCaptureCanvas=function(t){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;var e,n,r=document.createElement("canvas");return"undefined"!==typeof t&&(t instanceof HTMLVideoElement?(e=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&&(e=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),r.style.width=e+"px",r.style.height=n+"px",r.width=e,r.height=n,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach((function(t){return t.stop()})),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch(n){t.src=URL.createObjectURL(e)}},t.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")},t}();const cp=function(){function t(t,e,n,r,o,i){void 0===n&&(n=null==e?0:8*e.length),void 0===i&&(i=vd.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=n,this.resultPoints=r,this.format=o,this.timestamp=i,this.text=t,this.rawBytes=e,this.numBits=void 0===n||null===n?null===e||void 0===e?0:8*e.length:n,this.resultPoints=r,this.format=o,this.resultMetadata=null,this.timestamp=void 0===i||null===i?vd.currentTimeMillis():i}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},t.prototype.putAllMetadata=function(t){null!==t&&(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))},t.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var n=new Array(e.length+t.length);vd.arraycopy(e,0,n,0,e.length),vd.arraycopy(t,0,n,e.length,t.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();var hp;!function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(hp||(hp={}));const fp=hp;var dp;!function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(dp||(dp={}));const pp=dp;const gp=function(){function t(t,e,n,r,o,i){void 0===o&&(o=-1),void 0===i&&(i=-1),this.rawBytes=t,this.text=e,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=i,this.numBits=void 0===t||null===t?0:8*t.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(t){this.numBits=t},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(t){this.erasures=t},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(t){this.other=t},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}();var mp=function(){function t(){}return t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new dd;return this.logTable[t]},t.addOrSubtract=function(t,e){return t^e},t}();const yp=mp;var vp=function(){function t(t,e){if(0===e.length)throw new dd;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),vd.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var e,n=this.coefficients;if(1===t){e=0;for(var r=0,o=n.length;r!==o;r++){var i=n[r];e=yp.addOrSubtract(e,i)}return e}e=n[0];var a=n.length,s=this.field;for(r=1;r<a;r++)e=yp.addOrSubtract(s.multiply(t,e),n[r]);return e},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new dd("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;vd.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=yp.addOrSubtract(n[s-a],r[s]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new dd("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=this.field,u=0;u<r;u++)for(var l=n[u],c=0;c<i;c++)a[u+c]=yp.addOrSubtract(a[u+c],s.multiply(l,o[c]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,r=this.field,o=new Int32Array(n),i=this.coefficients,a=0;a<n;a++)o[a]=r.multiply(i[a],e);return new t(r,o)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new dd;if(0===n)return this.field.getZero();for(var r=this.coefficients,o=r.length,i=new Int32Array(o+e),a=this.field,s=0;s<o;s++)i[s]=a.multiply(r[s],n);return new t(a,i)},t.prototype.divide=function(t){if(!this.field.equals(t.field))throw new dd("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new dd("Divide by 0");for(var e=this.field,n=e.getZero(),r=this,o=t.getCoefficient(t.getDegree()),i=e.inverse(o);r.getDegree()>=t.getDegree()&&!r.isZero();){var a=r.getDegree()-t.getDegree(),s=e.multiply(r.getCoefficient(r.getDegree()),i),u=t.multiplyByMonomial(a,s),l=e.buildMonomial(a,s);n=n.addOrSubtract(l),r=r.addOrSubtract(u)}return[n,r]},t.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);if(0!==n){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),0===e||1!==n){var r=this.field.log(n);0===r?t+="1":1===r?t+="a":(t+="a^",t+=r)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},t}();const wp=vp;var Ep=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ep(e,t),e.kind="ArithmeticException",e}(ld);var _p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=function(t){function e(e,n,r){var o=t.call(this)||this;o.primitive=e,o.size=n,o.generatorBase=r;for(var i=new Int32Array(n),a=1,s=0;s<n;s++)i[s]=a,(a*=2)>=n&&(a^=e,a&=n-1);o.expTable=i;var u=new Int32Array(n);for(s=0;s<n-1;s++)u[i[s]]=s;return o.logTable=u,o.zero=new wp(o,Int32Array.from([0])),o.one=new wp(o,Int32Array.from([1])),o}return _p(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new dd;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new wp(this,n)},e.prototype.inverse=function(t){if(0===t)throw new Cp;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Td.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(yp);const Ap=bp;var Sp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sp(e,t),e.kind="ReedSolomonException",e}(ld);var Tp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.kind="IllegalStateException",e}(ld);var Rp=function(){function t(t){this.field=t}return t.prototype.decode=function(t,e){for(var n=this.field,r=new wp(n,t),o=new Int32Array(e),i=!0,a=0;a<e;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));o[o.length-1-a]=s,0!==s&&(i=!1)}if(!i){var u=new wp(n,o),l=this.runEuclideanAlgorithm(n.buildMonomial(e,1),u,e),c=l[0],h=l[1],f=this.findErrorLocations(c),d=this.findErrorMagnitudes(h,f);for(a=0;a<f.length;a++){var p=t.length-1-n.log(f[a]);if(p<0)throw new Ip("Bad error location");t[p]=Ap.addOrSubtract(t[p],d[a])}}},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var o=this.field,i=t,a=e,s=o.getZero(),u=o.getOne();a.getDegree()>=(n/2|0);){var l=i,c=s;if(s=u,(i=a).isZero())throw new Ip("r_{i-1} was zero");a=l;for(var h=o.getZero(),f=i.getCoefficient(i.getDegree()),d=o.inverse(f);a.getDegree()>=i.getDegree()&&!a.isZero();){var p=a.getDegree()-i.getDegree(),g=o.multiply(a.getCoefficient(a.getDegree()),d);h=h.addOrSubtract(o.buildMonomial(p,g)),a=a.addOrSubtract(i.multiplyByMonomial(p,g))}if(u=h.multiply(s).addOrSubtract(c),a.getDegree()>=i.getDegree())throw new Np("Division algorithm failed to reduce polynomial?")}var m=u.getCoefficient(0);if(0===m)throw new Ip("sigmaTilde(0) was zero");var y=o.inverse(m);return[u.multiplyScalar(y),a.multiplyScalar(y)]},t.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(e),r=0,o=this.field,i=1;i<o.getSize()&&r<e;i++)0===t.evaluateAt(i)&&(n[r]=o.inverse(i),r++);if(r!==e)throw new Ip("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(t,e){for(var n=e.length,r=new Int32Array(n),o=this.field,i=0;i<n;i++){for(var a=o.inverse(e[i]),s=1,u=0;u<n;u++)if(i!==u){var l=o.multiply(e[u],a),c=0===(1&l)?1|l:-2&l;s=o.multiply(s,c)}r[i]=o.multiply(t.evaluateAt(a),o.inverse(s)),0!==o.getGeneratorBase()&&(r[i]=o.multiply(r[i],a))}return r},t}();const Op=Rp;var Dp;!function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"}(Dp||(Dp={}));var xp=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),i=t.convertBoolArrayToByteArray(o),a=t.getEncodedData(o),s=new gp(i,a,null,null);return s.setNumBits(o.length),s},t.highLevelDecode=function(t){return this.getEncodedData(t)},t.getEncodedData=function(e){for(var n=e.length,r=Dp.UPPER,o=Dp.UPPER,i="",a=0;a<n;)if(o===Dp.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,0===s){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var l=t.readCode(e,a,8);i+=jd.castAsNonUtf8Char(l),a+=8}o=r}else{var c=o===Dp.DIGIT?4:5;if(n-a<c)break;l=t.readCode(e,a,c);a+=c;var h=t.getCharacter(o,l);h.startsWith("CTRL_")?(r=o,o=t.getTable(h.charAt(5)),"L"===h.charAt(6)&&(r=o)):(i+=h,o=r)}return i},t.getTable=function(t){switch(t){case"L":return Dp.LOWER;case"P":return Dp.PUNCT;case"M":return Dp.MIXED;case"D":return Dp.DIGIT;case"B":return Dp.BINARY;default:return Dp.UPPER}},t.getCharacter=function(e,n){switch(e){case Dp.UPPER:return t.UPPER_TABLE[n];case Dp.LOWER:return t.LOWER_TABLE[n];case Dp.MIXED:return t.MIXED_TABLE[n];case Dp.PUNCT:return t.PUNCT_TABLE[n];case Dp.DIGIT:return t.DIGIT_TABLE[n];default:throw new Np("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Ap.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Ap.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Ap.AZTEC_DATA_10):(r=12,n=Ap.AZTEC_DATA_12);var o=this.ddata.getNbDatablocks(),i=e.length/r;if(i<o)throw new Md;for(var a=e.length%r,s=new Int32Array(i),u=0;u<i;u++,a+=r)s[u]=t.readCode(e,a,r);try{new Op(n).decode(s,i-o)}catch(g){throw new Md(g)}var l=(1<<r)-1,c=0;for(u=0;u<o;u++){if(0===(d=s[u])||d===l)throw new Md;1!==d&&d!==l-1||c++}var h=new Array(o*r-c),f=0;for(u=0;u<o;u++){var d;if(1===(d=s[u])||d===l-1)h.fill(d>1,f,f+r-1),f+=r-1;else for(var p=r-1;p>=0;--p)h[f++]=0!==(d&1<<p)}return h},t.prototype.extractBits=function(t){var e=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(e?11:14)+4*n,o=new Int32Array(r),i=new Array(this.totalBitsInLayer(n,e));if(e)for(var a=0;a<o.length;a++)o[a]=a;else{var s=r+1+2*Td.truncDivision(Td.truncDivision(r,2)-1,15),u=r/2,l=Td.truncDivision(s,2);for(a=0;a<u;a++){var c=a+Td.truncDivision(a,15);o[u-a-1]=l-c-1,o[u+a]=l+c+1}}a=0;for(var h=0;a<n;a++){for(var f=4*(n-a)+(e?9:12),d=2*a,p=r-1-d,g=0;g<f;g++)for(var m=2*g,y=0;y<2;y++)i[h+m+y]=t.get(o[d+y],o[d+g]),i[h+2*f+m+y]=t.get(o[d+g],o[p-y]),i[h+4*f+m+y]=t.get(o[p-y],o[p-g]),i[h+6*f+m+y]=t.get(o[p-g],o[d+y]);h+=8*f}return i},t.readCode=function(t,e,n){for(var r=0,o=e;o<e+n;o++)r<<=1,t[o]&&(r|=1);return r},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}();const Mp=xp;var kp=function(){function t(){}return t.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},t.distance=function(t,e,n,r){var o=t-n,i=e-r;return Math.sqrt(o*o+i*i)},t.sum=function(t){for(var e=0,n=0,r=t.length;n!==r;n++){e+=t[n]}return e},t}();const Pp=kp;const Lp=function(){function t(){}return t.floatToIntBits=function(t){return t},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();var Bp=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*Lp.floatToIntBits(this.x)+Lp.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(t){var e,n,r,o=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);if(i>=o&&i>=a?(n=t[0],e=t[1],r=t[2]):a>=i&&a>=o?(n=t[1],e=t[0],r=t[2]):(n=t[2],e=t[0],r=t[1]),this.crossProductZ(e,n,r)<0){var s=e;e=r,r=s}t[0]=e,t[1]=n,t[2]=r},t.distance=function(t,e){return Pp.distance(t.x,t.y,e.x,e.y)},t.crossProductZ=function(t,e,n){var r=e.x,o=e.y;return(n.x-r)*(t.y-o)-(n.y-o)*(t.x-r)},t}();const Fp=Bp;const Vp=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();var Up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jp=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n)||this;return a.compact=r,a.nbDatablocks=o,a.nbLayers=i,a}return Up(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Vp);var zp=function(){function t(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==n&&null!==n||(n=t.INIT_SIZE),void 0!==r&&null!==r||(r=e.getWidth()/2|0),void 0!==o&&null!==o||(o=e.getHeight()/2|0);var i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=o-i,this.downInit=o+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Xd}return t.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,n=this.upInit,r=this.downInit,o=!1,i=!0,a=!1,s=!1,u=!1,l=!1,c=!1,h=this.width,f=this.height;i;){i=!1;for(var d=!0;(d||!s)&&e<h;)(d=this.containsBlackPoint(n,r,e,!1))?(e++,i=!0,s=!0):s||e++;if(e>=h){o=!0;break}for(var p=!0;(p||!u)&&r<f;)(p=this.containsBlackPoint(t,e,r,!0))?(r++,i=!0,u=!0):u||r++;if(r>=f){o=!0;break}for(var g=!0;(g||!l)&&t>=0;)(g=this.containsBlackPoint(n,r,t,!1))?(t--,i=!0,l=!0):l||t--;if(t<0){o=!0;break}for(var m=!0;(m||!c)&&n>=0;)(m=this.containsBlackPoint(t,e,n,!0))?(n--,i=!0,c=!0):c||n--;if(n<0){o=!0;break}i&&(a=!0)}if(!o&&a){for(var y=e-t,v=null,w=1;null===v&&w<y;w++)v=this.getBlackPointOnSegment(t,r-w,t+w,r);if(null==v)throw new Xd;var E=null;for(w=1;null===E&&w<y;w++)E=this.getBlackPointOnSegment(t,n+w,t+w,n);if(null==E)throw new Xd;var C=null;for(w=1;null===C&&w<y;w++)C=this.getBlackPointOnSegment(e,n+w,e-w,n);if(null==C)throw new Xd;var _=null;for(w=1;null===_&&w<y;w++)_=this.getBlackPointOnSegment(e,r-w,e-w,r);if(null==_)throw new Xd;return this.centerEdges(_,v,C,E)}throw new Xd},t.prototype.getBlackPointOnSegment=function(t,e,n,r){for(var o=Pp.round(Pp.distance(t,e,n,r)),i=(n-t)/o,a=(r-e)/o,s=this.image,u=0;u<o;u++){var l=Pp.round(t+u*i),c=Pp.round(e+u*a);if(s.get(l,c))return new Fp(l,c)}return null},t.prototype.centerEdges=function(e,n,r,o){var i=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),l=r.getX(),c=r.getY(),h=o.getX(),f=o.getY(),d=t.CORR;return i<this.width/2?[new Fp(h-d,f+d),new Fp(s+d,u+d),new Fp(l-d,c-d),new Fp(i+d,a-d)]:[new Fp(h+d,f+d),new Fp(s+d,u-d),new Fp(l-d,c+d),new Fp(i-d,a-d)]},t.prototype.containsBlackPoint=function(t,e,n,r){var o=this.image;if(r){for(var i=t;i<=e;i++)if(o.get(i,n))return!0}else for(var a=t;a<=e;a++)if(o.get(n,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}();const Hp=zp;var Gp=function(){function t(){}return t.checkAndNudgePoints=function(t,e){for(var n=t.getWidth(),r=t.getHeight(),o=!0,i=0;i<e.length&&o;i+=2){var a=Math.floor(e[i]),s=Math.floor(e[i+1]);if(a<-1||a>n||s<-1||s>r)throw new Xd;o=!1,-1===a?(e[i]=0,o=!0):a===n&&(e[i]=n-1,o=!0),-1===s?(e[i+1]=0,o=!0):s===r&&(e[i+1]=r-1,o=!0)}o=!0;for(i=e.length-2;i>=0&&o;i-=2){a=Math.floor(e[i]),s=Math.floor(e[i+1]);if(a<-1||a>n||s<-1||s>r)throw new Xd;o=!1,-1===a?(e[i]=0,o=!0):a===n&&(e[i]=n-1,o=!0),-1===s?(e[i+1]=0,o=!0):s===r&&(e[i+1]=r-1,o=!0)}},t}();const Wp=Gp;var Xp=function(){function t(t,e,n,r,o,i,a,s,u){this.a11=t,this.a21=e,this.a31=n,this.a12=r,this.a22=o,this.a32=i,this.a13=a,this.a23=s,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,n,r,o,i,a,s,u,l,c,h,f,d,p,g,m){var y=t.quadrilateralToSquare(e,n,r,o,i,a,s,u);return t.squareToQuadrilateral(l,c,h,f,d,p,g,m).times(y)},t.prototype.transformPoints=function(t){for(var e=t.length,n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,u=this.a31,l=this.a32,c=this.a33,h=0;h<e;h+=2){var f=t[h],d=t[h+1],p=o*f+s*d+c;t[h]=(n*f+i*d+u)/p,t[h+1]=(r*f+a*d+l)/p}},t.prototype.transformPointsWithValues=function(t,e){for(var n=this.a11,r=this.a12,o=this.a13,i=this.a21,a=this.a22,s=this.a23,u=this.a31,l=this.a32,c=this.a33,h=t.length,f=0;f<h;f++){var d=t[f],p=e[f],g=o*d+s*p+c;t[f]=(n*d+i*p+u)/g,e[f]=(r*d+a*p+l)/g}},t.squareToQuadrilateral=function(e,n,r,o,i,a,s,u){var l=e-r+i-s,c=n-o+a-u;if(0===l&&0===c)return new t(r-e,i-r,e,o-n,a-o,n,0,0,1);var h=r-i,f=s-i,d=o-a,p=u-a,g=h*p-f*d,m=(l*p-f*c)/g,y=(h*c-l*d)/g;return new t(r-e+m*r,s-e+y*s,e,o-n+m*o,u-n+y*u,n,m,y,1)},t.quadrilateralToSquare=function(e,n,r,o,i,a,s,u){return t.squareToQuadrilateral(e,n,r,o,i,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}();const $p=Xp;var qp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qp(e,t),e.prototype.sampleGrid=function(t,e,n,r,o,i,a,s,u,l,c,h,f,d,p,g,m,y,v){var w=$p.quadrilateralToQuadrilateral(r,o,i,a,s,u,l,c,h,f,d,p,g,m,y,v);return this.sampleGridWithTransform(t,e,n,w)},e.prototype.sampleGridWithTransform=function(t,e,n,r){if(e<=0||n<=0)throw new Xd;for(var o=new Gd(e,n),i=new Float32Array(2*e),a=0;a<n;a++){for(var s=i.length,u=a+.5,l=0;l<s;l+=2)i[l]=l/2+.5,i[l+1]=u;r.transformPoints(i),Wp.checkAndNudgePoints(t,i);try{for(l=0;l<s;l+=2)t.get(Math.floor(i[l]),Math.floor(i[l+1]))&&o.set(l/2,a)}catch(c){throw new Xd}}return o},e}(Wp);const Yp=Kp;const Qp=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Yp,t}();var Zp=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toResultPoint=function(){return new Fp(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Jp=function(){function t(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),n=this.getBullsEyeCorners(e);if(t){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new jp(o,i,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Xd;var e=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(n,e);for(var r=0,o=0;o<4;o++){var i=n[(this.shift+o)%4];this.compact?(r<<=7,r+=i>>1&127):(r<<=10,r+=(i>>2&992)+(i>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},t.prototype.getRotation=function(t,e){var n=0;t.forEach((function(t,r,o){n=(n<<3)+((t>>e-2<<1)+(1&t))})),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(Td.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new Xd},t.prototype.getCorrectedParameterData=function(t,e){var n,r;e?(n=7,r=2):(n=10,r=4);for(var o=n-r,i=new Int32Array(n),a=n-1;a>=0;--a)i[a]=15&t,t>>=4;try{new Op(Ap.AZTEC_PARAM).decode(i,o)}catch(u){throw new Xd}var s=0;for(a=0;a<r;a++)s=(s<<4)+i[a];return s},t.prototype.getBullsEyeCorners=function(t){var e=t,n=t,r=t,o=t,i=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(e,i,1,-1),s=this.getFirstDifferent(n,i,1,1),u=this.getFirstDifferent(r,i,-1,1),l=this.getFirstDifferent(o,i,-1,-1);if(this.nbCenterLayers>2){var c=this.distancePoint(l,a)*this.nbCenterLayers/(this.distancePoint(o,e)*(this.nbCenterLayers+2));if(c<.75||c>1.25||!this.isWhiteOrBlackRectangle(a,s,u,l))break}e=a,n=s,r=u,o=l,i=!i}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Xd;this.compact=5===this.nbCenterLayers;var h=new Fp(e.getX()+.5,e.getY()-.5),f=new Fp(n.getX()+.5,n.getY()+.5),d=new Fp(r.getX()-.5,r.getY()+.5),p=new Fp(o.getX()-.5,o.getY()-.5);return this.expandSquare([h,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var t,e,n,r;try{t=(u=new Hp(this.image).detect())[0],e=u[1],n=u[2],r=u[3]}catch(IC){var o=this.image.getWidth()/2,i=this.image.getHeight()/2;t=this.getFirstDifferent(new Zp(o+7,i-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Zp(o+7,i+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Zp(o-7,i+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Zp(o-7,i-7),!1,-1,-1).toResultPoint()}var a=Pp.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=Pp.round((t.getY()+r.getY()+e.getY()+n.getY())/4);try{var u;t=(u=new Hp(this.image,15,a,s).detect())[0],e=u[1],n=u[2],r=u[3]}catch(IC){t=this.getFirstDifferent(new Zp(a+7,s-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Zp(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Zp(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Zp(a-7,s-7),!1,-1,-1).toResultPoint()}return a=Pp.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=Pp.round((t.getY()+r.getY()+e.getY()+n.getY())/4),new Zp(a,s)},t.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(t,e,n,r,o){var i=Qp.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return i.sampleGrid(t,a,a,s,s,u,s,u,u,s,u,e.getX(),e.getY(),n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(t,e,n){for(var r=0,o=this.distanceResultPoint(t,e),i=o/n,a=t.getX(),s=t.getY(),u=i*(e.getX()-t.getX())/o,l=i*(e.getY()-t.getY())/o,c=0;c<n;c++)this.image.get(Pp.round(a+c*u),Pp.round(s+c*l))&&(r|=1<<n-c-1);return r},t.prototype.isWhiteOrBlackRectangle=function(t,e,n,r){t=new Zp(t.getX()-3,t.getY()+3),e=new Zp(e.getX()-3,e.getY()-3),n=new Zp(n.getX()+3,n.getY()-3),r=new Zp(r.getX()+3,r.getY()+3);var o=this.getColor(r,t);if(0===o)return!1;var i=this.getColor(t,e);return i===o&&((i=this.getColor(e,n))===o&&(i=this.getColor(n,r))===o)},t.prototype.getColor=function(t,e){for(var n=this.distancePoint(t,e),r=(e.getX()-t.getX())/n,o=(e.getY()-t.getY())/n,i=0,a=t.getX(),s=t.getY(),u=this.image.get(t.getX(),t.getY()),l=Math.ceil(n),c=0;c<l;c++)a+=r,s+=o,this.image.get(Pp.round(a),Pp.round(s))!==u&&i++;var h=i/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(t,e,n,r){for(var o=t.getX()+n,i=t.getY()+r;this.isValid(o,i)&&this.image.get(o,i)===e;)o+=n,i+=r;for(o-=n,i-=r;this.isValid(o,i)&&this.image.get(o,i)===e;)o+=n;for(o-=n;this.isValid(o,i)&&this.image.get(o,i)===e;)i+=r;return new Zp(o,i-=r)},t.prototype.expandSquare=function(t,e,n){var r=n/(2*e),o=t[0].getX()-t[2].getX(),i=t[0].getY()-t[2].getY(),a=(t[0].getX()+t[2].getX())/2,s=(t[0].getY()+t[2].getY())/2,u=new Fp(a+r*o,s+r*i),l=new Fp(a-r*o,s-r*i);return o=t[1].getX()-t[3].getX(),i=t[1].getY()-t[3].getY(),a=(t[1].getX()+t[3].getX())/2,s=(t[1].getY()+t[3].getY())/2,[u,new Fp(a+r*o,s+r*i),l,new Fp(a-r*o,s-r*i)]},t.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},t.prototype.isValidPoint=function(t){var e=Pp.round(t.getX()),n=Pp.round(t.getY());return this.isValid(e,n)},t.prototype.distancePoint=function(t,e){return Pp.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.distanceResultPoint=function(t,e){return Pp.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Td.truncDivision(this.nbLayers-4,8)+1)+15},t}();const tg=Jp;const eg=function(){function t(){}return t.prototype.decode=function(t,e){void 0===e&&(e=null);var n=null,r=new tg(t.getBlackMatrix()),o=null,i=null;try{o=(a=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(e,o),i=(new Mp).decode(a)}catch(IC){n=IC}if(null==i)try{var a;o=(a=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(e,o),i=(new Mp).decode(a)}catch(IC){if(null!=n)throw n;throw IC}var s=new cp(i.getText(),i.getRawBytes(),i.getNumBits(),o,fp.AZTEC,vd.currentTimeMillis()),u=i.getByteSegments();null!=u&&s.putMetadata(pp.BYTE_SEGMENTS,u);var l=i.getECLevel();return null!=l&&s.putMetadata(pp.ERROR_CORRECTION_LEVEL,l),s},t.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var n=t.get(Dd.NEED_RESULT_POINT_CALLBACK);null!=n&&e.forEach((function(t,e,r){n.foundPossibleResultPoint(t)}))}},t.prototype.reset=function(){},t}();var ng=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rg=(function(t){function e(e){return void 0===e&&(e=500),t.call(this,new eg,e)||this}ng(e,t)}(lp),function(){function t(){}return t.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch(l){if(e&&!0===e.get(Dd.TRY_HARDER)&&t.isRotateSupported()){var n=t.rotateCounterClockwise(),r=this.doDecode(n,e),o=r.getResultMetadata(),i=270;null!==o&&!0===o.get(pp.ORIENTATION)&&(i+=o.get(pp.ORIENTATION)%360),r.putMetadata(pp.ORIENTATION,i);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),u=0;u<a.length;u++)a[u]=new Fp(s-a[u].getY()-1,a[u].getX());return r}throw new Xd}},t.prototype.reset=function(){},t.prototype.doDecode=function(t,e){var n,r=t.getWidth(),o=t.getHeight(),i=new Rd(r),a=e&&!0===e.get(Dd.TRY_HARDER),s=Math.max(1,o>>(a?8:5));n=a?o:15;for(var u=Math.trunc(o/2),l=0;l<n;l++){var c=Math.trunc((l+1)/2),h=u+s*(0===(1&l)?c:-c);if(h<0||h>=o)break;try{i=t.getBlackRow(h,i)}catch(m){continue}for(var f=function(t){if(1===t&&(i.reverse(),e&&!0===e.get(Dd.NEED_RESULT_POINT_CALLBACK))){var n=new Map;e.forEach((function(t,e){return n.set(e,t)})),n.delete(Dd.NEED_RESULT_POINT_CALLBACK),e=n}try{var o=d.decodeRow(h,i,e);if(1===t){o.putMetadata(pp.ORIENTATION,180);var a=o.getResultPoints();null!==a&&(a[0]=new Fp(r-a[0].getX()-1,a[0].getY()),a[1]=new Fp(r-a[1].getX()-1,a[1].getY()))}return{value:o}}catch(ui){}},d=this,p=0;p<2;p++){var g=f(p);if("object"===typeof g)return g.value}}throw new Xd},t.recordPattern=function(t,e,n){for(var r=n.length,o=0;o<r;o++)n[o]=0;var i=t.getSize();if(e>=i)throw new Xd;for(var a=!t.get(e),s=0,u=e;u<i;){if(t.get(u)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}u++}if(s!==r&&(s!==r-1||u!==i))throw new Xd},t.recordPatternInReverse=function(e,n,r){for(var o=r.length,i=e.get(n);n>0&&o>=0;)e.get(--n)!==i&&(o--,i=!i);if(o>=0)throw new Xd;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(t,e,n){for(var r=t.length,o=0,i=0,a=0;a<r;a++)o+=t[a],i+=e[a];if(o<i)return Number.POSITIVE_INFINITY;var s=o/i;n*=s;for(var u=0,l=0;l<r;l++){var c=t[l],h=e[l]*s,f=c>h?c-h:h-c;if(f>n)return Number.POSITIVE_INFINITY;u+=f}return u/o},t}());const og=rg;var ig=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ig(e,t),e.findStartPattern=function(t){for(var n=t.getSize(),r=t.getNextSet(0),o=0,i=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,u=r;u<n;u++)if(t.get(u)!==s)i[o]++;else{if(5===o){for(var l=e.MAX_AVG_VARIANCE,c=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var f=og.patternMatchVariance(i,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);f<l&&(l=f,c=h)}if(c>=0&&t.isRange(Math.max(0,a-(u-a)/2),a,!1))return Int32Array.from([a,u,c]);a+=i[0]+i[1],(i=i.slice(2,i.length))[o-1]=0,i[o]=0,o--}else o++;i[o]=1,s=!s}throw new Xd},e.decodeCode=function(t,n,r){og.recordPattern(t,r,n);for(var o=e.MAX_AVG_VARIANCE,i=-1,a=0;a<e.CODE_PATTERNS.length;a++){var s=e.CODE_PATTERNS[a],u=this.patternMatchVariance(n,s,e.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,i=a)}if(i>=0)return i;throw new Xd},e.prototype.decodeRow=function(t,n,r){var o,i=r&&!0===r.get(Dd.ASSUME_GS1),a=e.findStartPattern(n),s=a[2],u=0,l=new Uint8Array(20);switch(l[u++]=s,s){case e.CODE_START_A:o=e.CODE_CODE_A;break;case e.CODE_START_B:o=e.CODE_CODE_B;break;case e.CODE_START_C:o=e.CODE_CODE_C;break;default:throw new Md}for(var c=!1,h=!1,f="",d=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,y=0,v=s,w=0,E=!0,C=!1,_=!1;!c;){var b=h;switch(h=!1,m=y,y=e.decodeCode(n,g,p),l[u++]=y,y!==e.CODE_STOP&&(E=!0),y!==e.CODE_STOP&&(v+=++w*y),d=p,p+=g.reduce((function(t,e){return t+e}),0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Md}switch(o){case e.CODE_CODE_A:if(y<64)f+=_===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else if(y<96)f+=_===C?String.fromCharCode(y-64):String.fromCharCode(y+64),_=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&_?(C=!0,_=!1):C&&_?(C=!1,_=!1):_=!0;break;case e.CODE_SHIFT:h=!0,o=e.CODE_CODE_B;break;case e.CODE_CODE_B:o=e.CODE_CODE_B;break;case e.CODE_CODE_C:o=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0}break;case e.CODE_CODE_B:if(y<96)f+=_===C?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),_=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&_?(C=!0,_=!1):C&&_?(C=!1,_=!1):_=!0;break;case e.CODE_SHIFT:h=!0,o=e.CODE_CODE_A;break;case e.CODE_CODE_A:o=e.CODE_CODE_A;break;case e.CODE_CODE_C:o=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0}break;case e.CODE_CODE_C:if(y<100)y<10&&(f+="0"),f+=y;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:i&&(0===f.length?f+="]C1":f+=String.fromCharCode(29));break;case e.CODE_CODE_A:o=e.CODE_CODE_A;break;case e.CODE_CODE_B:o=e.CODE_CODE_B;break;case e.CODE_STOP:c=!0}}b&&(o=o===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var A=p-d;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-d)/2),!1))throw new Xd;if((v-=w*m)%103!==m)throw new md;var S=f.length;if(0===S)throw new Xd;S>0&&E&&(f=o===e.CODE_CODE_C?f.substring(0,S-2):f.substring(0,S-1));for(var I=(a[1]+a[0])/2,T=d+A/2,N=l.length,R=new Uint8Array(N),O=0;O<N;O++)R[O]=l[O];var D=[new Fp(I,t),new Fp(T,t)];return new cp(f,R,0,D,fp.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(og);var sg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ug=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lg=function(t){function e(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.call(this)||this;return r.usingCheckDigit=e,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return sg(e,t),e.prototype.decodeRow=function(t,n,r){var o,i,a,s,u=this.counters;u.fill(0),this.decodeRowResult="";var l,c,h=e.findAsteriskPattern(n,u),f=n.getNextSet(h[1]),d=n.getSize();do{e.recordPattern(n,f,u);var p=e.toNarrowWidePattern(u);if(p<0)throw new Xd;l=e.patternToChar(p),this.decodeRowResult+=l,c=f;try{for(var g=(o=void 0,ug(u)),m=g.next();!m.done;m=g.next()){f+=m.value}}catch(I){o={error:I}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while("*"!==l);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y,v=0;try{for(var w=ug(u),E=w.next();!E.done;E=w.next()){v+=E.value}}catch(T){a={error:T}}finally{try{E&&!E.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}if(f!==d&&2*(f-c-v)<v)throw new Xd;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,_=0,b=0;b<C;b++)_+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(b));if(this.decodeRowResult.charAt(C)!==e.ALPHABET_STRING.charAt(_%43))throw new md;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(0===this.decodeRowResult.length)throw new Xd;y=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var A=(h[1]+h[0])/2,S=c+v/2;return new cp(y,null,0,[new Fp(A,t),new Fp(S,t)],fp.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(t,n){for(var r=t.getSize(),o=t.getNextSet(0),i=0,a=o,s=!1,u=n.length,l=o;l<r;l++)if(t.get(l)!==s)n[i]++;else{if(i===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=n[0]+n[1],n.copyWithin(0,2,2+i-1),n[i-1]=0,n[i]=0,i--}else i++;n[i]=1,s=!s}throw new Xd},e.toNarrowWidePattern=function(t){var e,n,r,o=t.length,i=0;do{var a=2147483647;try{for(var s=(e=void 0,ug(t)),u=s.next();!u.done;u=s.next()){(f=u.value)<a&&f>i&&(a=f)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}i=a,r=0;for(var l=0,c=0,h=0;h<o;h++){(f=t[h])>i&&(c|=1<<o-1-h,r++,l+=f)}if(3===r){for(h=0;h<o&&r>0;h++){var f;if((f=t[h])>i&&(r--,2*f>=l))return-1}return c}}while(r>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new Xd},e.decodeExtended=function(t){for(var e=t.length,n="",r=0;r<e;r++){var o=t.charAt(r);if("+"===o||"$"===o||"%"===o||"/"===o){var i=t.charAt(r+1),a="\0";switch(o){case"+":if(!(i>="A"&&i<="Z"))throw new Md;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new Md;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new Md;a="\x7f"}break;case"/":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new Md;a=":"}}n+=a,r++}else n+=o}return n},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(og);const cg=lg;var hg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dg=function(t){function e(){var e=t.call(this)||this;return e.decodeRowResult="",e.counters=new Int32Array(6),e}return hg(e,t),e.prototype.decodeRow=function(t,n,r){var o,i,a,s,u,l,c=this.findAsteriskPattern(n),h=n.getNextSet(c[1]),f=n.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";do{e.recordPattern(n,h,d);var p=this.toPattern(d);if(p<0)throw new Xd;u=this.patternToChar(p),this.decodeRowResult+=u,l=h;try{for(var g=(o=void 0,fg(d)),m=g.next();!m.done;m=g.next()){h+=m.value}}catch(b){o={error:b}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}h=n.getNextSet(h)}while("*"!==u);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var v=fg(d),w=v.next();!w.done;w=v.next()){y+=w.value}}catch(A){a={error:A}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(h===f||!n.get(h))throw new Xd;if(this.decodeRowResult.length<2)throw new Xd;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),C=(c[1]+c[0])/2,_=l+y/2;return new cp(E,null,0,[new Fp(C,t),new Fp(_,t)],fp.CODE_93,(new Date).getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),r=t.getNextSet(0);this.counters.fill(0);for(var o=this.counters,i=r,a=!1,s=o.length,u=0,l=r;l<n;l++)if(t.get(l)!==a)o[u]++;else{if(u===s-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([i,l]);i+=o[0]+o[1],o.copyWithin(0,2,2+u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,a=!a}throw new Xd},e.prototype.toPattern=function(t){var e,n,r=0;try{for(var o=fg(t),i=o.next();!i.done;i=o.next()){r+=i.value}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}for(var a=0,s=t.length,u=0;u<s;u++){var l=Math.round(9*t[u]/r);if(l<1||l>4)return-1;if(0===(1&u))for(var c=0;c<l;c++)a=a<<1|1;else a<<=l}return a},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new Xd},e.prototype.decodeExtended=function(t){for(var e=t.length,n="",r=0;r<e;r++){var o=t.charAt(r);if(o>="a"&&o<="d"){if(r>=e-1)throw new Md;var i=t.charAt(r+1),a="\0";switch(o){case"d":if(!(i>="A"&&i<="Z"))throw new Md;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"a":if(!(i>="A"&&i<="Z"))throw new Md;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"b":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if(!(i>="X"&&i<="Z"))throw new Md;a=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new Md;a=":"}}n+=a,r++}else n+=o}return n},e.prototype.checkChecksums=function(t){var e=t.length;this.checkOneChecksum(t,e-2,20),this.checkOneChecksum(t,e-1,15)},e.prototype.checkOneChecksum=function(t,n,r){for(var o=1,i=0,a=n-1;a>=0;a--)i+=o*e.ALPHABET_STRING.indexOf(t.charAt(a)),++o>r&&(o=1);if(t.charAt(n)!==e.ALPHABET_STRING[i%47])throw new md},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(og);const pg=dg;var gg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return gg(e,t),e.prototype.decodeRow=function(t,n,r){var o,i,a=this.decodeStart(n),s=this.decodeEnd(n),u=new zd;e.decodeMiddle(n,a[1],s[0],u);var l=u.toString(),c=null;null!=r&&(c=r.get(Dd.ALLOWED_LENGTHS)),null==c&&(c=e.DEFAULT_ALLOWED_LENGTHS);var h=l.length,f=!1,d=0;try{for(var p=mg(c),g=p.next();!g.done;g=p.next()){var m=g.value;if(h===m){f=!0;break}m>d&&(d=m)}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}if(!f&&h>d&&(f=!0),!f)throw new Md;var y=[new Fp(a[1],t),new Fp(s[0],t)];return new cp(l,null,0,y,fp.ITF,(new Date).getTime())},e.decodeMiddle=function(t,n,r,o){var i=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(i.fill(0),a.fill(0),s.fill(0);n<r;){og.recordPattern(t,n,i);for(var u=0;u<5;u++){var l=2*u;a[u]=i[l],s[u]=i[l+1]}var c=e.decodeDigit(a);o.append(c.toString()),c=this.decodeDigit(s),o.append(c.toString()),i.forEach((function(t){n+=t}))}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),r=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r},e.prototype.validateQuietZone=function(t,e){var n=10*this.narrowLineWidth;n=n<e?n:e;for(var r=e-1;n>0&&r>=0&&!t.get(r);r--)n--;if(0!==n)throw new Xd},e.skipWhiteSpace=function(t){var e=t.getSize(),n=t.getNextSet(0);if(n===e)throw new Xd;return n},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),r=void 0;try{r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(i){i instanceof Xd&&(r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);var o=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-o,r}finally{t.reverse()}},e.findGuardPattern=function(t,n,r){var o=r.length,i=new Int32Array(o),a=t.getSize(),s=!1,u=0,l=n;i.fill(0);for(var c=n;c<a;c++)if(t.get(c)!==s)i[u]++;else{if(u===o-1){if(og.patternMatchVariance(i,r,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[l,c];l+=i[0]+i[1],vd.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,s=!s}throw new Xd},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,r=-1,o=e.PATTERNS.length,i=0;i<o;i++){var a=e.PATTERNS[i],s=og.patternMatchVariance(t,a,e.MAX_INDIVIDUAL_VARIANCE);s<n?(n=s,r=i):s===n&&(r=-1)}if(r>=0)return r%10;throw new Xd},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(og);const vg=yg;var wg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return wg(e,t),e.findStartGuardPattern=function(t){for(var n,r=!1,o=0,i=Int32Array.from([0,0,0]);!r;){i=Int32Array.from([0,0,0]);var a=(n=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,i))[0],s=a-((o=n[1])-a);s>=0&&(r=t.isRange(s,a,!1))}return n},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((o=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Md;n+=o}n*=3;for(r=e-2;r>=0;r-=2){var o;if((o=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Md;n+=o}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,e,n,r){return this.findGuardPattern(t,e,n,r,new Int32Array(r.length))},e.findGuardPattern=function(t,n,r,o,i){for(var a=t.getSize(),s=0,u=n=r?t.getNextUnset(n):t.getNextSet(n),l=o.length,c=r,h=n;h<a;h++)if(t.get(h)!==c)i[s]++;else{if(s===l-1){if(og.patternMatchVariance(i,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=i[0]+i[1];for(var f=i.slice(2,i.length),d=0;d<s-1;d++)i[d]=f[d];i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new Xd},e.decodeDigit=function(t,n,r,o){this.recordPattern(t,r,n);for(var i=this.MAX_AVG_VARIANCE,a=-1,s=o.length,u=0;u<s;u++){var l=o[u],c=og.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<i&&(i=c,a=u)}if(a>=0)return a;throw new Xd},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(og);const Cg=Eg;var _g=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bg=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new Fp((r[0]+r[1])/2,e),new Fp(i,e)],l=new cp(a,null,0,u,fp.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,n,r){var o,i,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],l=0,c=0;c<5&&u<s;c++){var h=Cg.decodeDigit(e,a,u,Cg.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(o=void 0,_g(a)),d=f.next();!d.done;d=f.next()){u+=d.value}}catch(g){o={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}h>=10&&(l|=1<<4-c),4!==c&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(5!==r.length)throw new Xd;var p=this.determineCheckDigit(l);if(t.extensionChecksum(r.toString())!==p)throw new Xd;return u},t.extensionChecksum=function(t){for(var e=t.length,n=0,r=e-2;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(r=e-1;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},t.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new Xd},t.parseExtensionString=function(e){if(5!==e.length)return null;var n=t.parseExtension5String(e);return null==n?null:new Map([[pp.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var n=parseInt(t.substring(1)),r=n%100;return e+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},t}();const Ag=bg;var Sg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ig=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var o=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,o),a=o.toString(),s=t.parseExtensionString(a),u=[new Fp((r[0]+r[1])/2,e),new Fp(i,e)],l=new cp(a,null,0,u,fp.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(t,e,n){var r,o,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=e[1],u=0,l=0;l<2&&s<a;l++){var c=Cg.decodeDigit(t,i,s,Cg.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);try{for(var h=(r=void 0,Sg(i)),f=h.next();!f.done;f=h.next()){s+=f.value}}catch(d){r={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}c>=10&&(u|=1<<1-l),1!==l&&(s=t.getNextSet(s),s=t.getNextUnset(s))}if(2!==n.length)throw new Xd;if(parseInt(n.toString())%4!==u)throw new Xd;return s},t.parseExtensionString=function(t){return 2!==t.length?null:new Map([[pp.ISSUE_NUMBER,parseInt(t)]])},t}();const Tg=Ig;const Ng=function(){function t(){}return t.decodeRow=function(t,e,n){var r=Cg.findGuardPattern(e,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ag).decodeRow(t,e,r)}catch(o){return(new Tg).decodeRow(t,e,r)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}();var Rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Og=function(t){function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map((function(t){return Int32Array.from(t)}));for(var r=10;r<20;r++){for(var o=e.L_PATTERNS[r-10],i=new Int32Array(o.length),a=0;a<o.length;a++)i[a]=o[o.length-a-1];e.L_AND_G_PATTERNS[r]=i}return n}return Rg(e,t),e.prototype.decodeRow=function(t,n,r){var o=e.findStartGuardPattern(n),i=null==r?null:r.get(Dd.NEED_RESULT_POINT_CALLBACK);if(null!=i){var a=new Fp((o[0]+o[1])/2,t);i.foundPossibleResultPoint(a)}var s=this.decodeMiddle(n,o,this.decodeRowStringBuffer),u=s.rowOffset,l=s.resultString;if(null!=i){var c=new Fp(u,t);i.foundPossibleResultPoint(c)}var h=e.decodeEnd(n,u);if(null!=i){var f=new Fp((h[0]+h[1])/2,t);i.foundPossibleResultPoint(f)}var d=h[1],p=d+(d-h[0]);if(p>=n.getSize()||!n.isRange(d,p,!1))throw new Xd;var g=l.toString();if(g.length<8)throw new Md;if(!e.checkChecksum(g))throw new md;var m=(o[1]+o[0])/2,y=(h[1]+h[0])/2,v=this.getBarcodeFormat(),w=[new Fp(m,t),new Fp(y,t)],E=new cp(g,null,0,w,v,(new Date).getTime()),C=0;try{var _=Ng.decodeRow(t,n,h[1]);E.putMetadata(pp.UPC_EAN_EXTENSION,_.getText()),E.putAllMetadata(_.getResultMetadata()),E.addResultPoints(_.getResultPoints()),C=_.getText().length}catch(I){}var b=null==r?null:r.get(Dd.ALLOWED_EAN_EXTENSIONS);if(null!=b){var A=!1;for(var S in b)if(C.toString()===S){A=!0;break}if(!A)throw new Xd}return v===fp.EAN_13||fp.UPC_A,E},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((o=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Md;n+=o}n*=3;for(r=e-2;r>=0;r-=2){var o;if((o=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||o>9)throw new Md;n+=o}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Cg);const Dg=Og;var xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kg=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return xg(e,t),e.prototype.decodeMiddle=function(t,n,r){var o,i,a,s,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var l=t.getSize(),c=n[1],h=0,f=0;f<6&&c<l;f++){var d=Dg.decodeDigit(t,u,c,Dg.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var p=(o=void 0,Mg(u)),g=p.next();!g.done;g=p.next()){c+=g.value}}catch(v){o={error:v}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}d>=10&&(h|=1<<5-f)}r=e.determineFirstDigit(r,h),c=Dg.findGuardPattern(t,c,!0,Dg.MIDDLE_PATTERN,new Int32Array(Dg.MIDDLE_PATTERN.length).fill(0))[1];for(f=0;f<6&&c<l;f++){d=Dg.decodeDigit(t,u,c,Dg.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var m=(a=void 0,Mg(u)),y=m.next();!y.done;y=m.next()){c+=y.value}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}return{rowOffset:c,resultString:r}},e.prototype.getBarcodeFormat=function(){return fp.EAN_13},e.determineFirstDigit=function(t,e){for(var n=0;n<10;n++)if(e===this.FIRST_DIGIT_ENCODINGS[n])return t=String.fromCharCode("0".charCodeAt(0)+n)+t;throw new Xd},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Dg);const Pg=kg;var Lg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fg=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return Lg(e,t),e.prototype.decodeMiddle=function(t,e,n){var r,o,i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),l=e[1],c=0;c<4&&l<u;c++){var h=Dg.decodeDigit(t,s,l,Dg.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var f=(r=void 0,Bg(s)),d=f.next();!d.done;d=f.next()){l+=d.value}}catch(m){r={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}l=Dg.findGuardPattern(t,l,!0,Dg.MIDDLE_PATTERN,new Int32Array(Dg.MIDDLE_PATTERN.length).fill(0))[1];for(c=0;c<4&&l<u;c++){h=Dg.decodeDigit(t,s,l,Dg.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(i=void 0,Bg(s)),g=p.next();!g.done;g=p.next()){l+=g.value}}catch(y){i={error:y}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}return{rowOffset:l,resultString:n}},e.prototype.getBarcodeFormat=function(){return fp.EAN_8},e}(Dg);const Vg=Fg;var Ug=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ean13Reader=new Pg,e}return Ug(e,t),e.prototype.getBarcodeFormat=function(){return fp.UPC_A},e.prototype.decode=function(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,e,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,n))},e.prototype.decodeMiddle=function(t,e,n){return this.ean13Reader.decodeMiddle(t,e,n)},e.prototype.maybeReturnResult=function(t){var e=t.getText();if("0"===e.charAt(0)){var n=new cp(e.substring(1),null,null,t.getResultPoints(),fp.UPC_A);return null!=t.getResultMetadata()&&n.putAllMetadata(t.getResultMetadata()),n}throw new Xd},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Dg);var zg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gg=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return zg(e,t),e.prototype.decodeMiddle=function(t,n,r){var o,i,a=this.decodeMiddleCounters.map((function(t){return t}));a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),u=n[1],l=0,c=0;c<6&&u<s;c++){var h=e.decodeDigit(t,a,u,e.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(o=void 0,Hg(a)),d=f.next();!d.done;d=f.next()){u+=d.value}}catch(p){o={error:p}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}h>=10&&(l|=1<<5-c)}return e.determineNumSysAndCheckDigit(new zd(r),l),u},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Dg.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,e){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return t.insert(0,"0"+n),void t.append("0"+r);throw Xd.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return fp.UPC_E},e.convertUPCEtoUPCA=function(t){var e=t.slice(1,7).split("").map((function(t){return t.charCodeAt(0)})),n=new zd;n.append(t.charAt(0));var r=e[5];switch(r){case 0:case 1:case 2:n.appendChars(e,0,2),n.append(r),n.append("0000"),n.appendChars(e,2,3);break;case 3:n.appendChars(e,0,3),n.append("00000"),n.appendChars(e,3,2);break;case 4:n.appendChars(e,0,4),n.append("00000"),n.append(e[4]);break;default:n.appendChars(e,0,5),n.append("0000"),n.append(r)}return t.length>=8&&n.append(t.charAt(7)),n.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Dg);const Wg=Gg;var Xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$g=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qg=function(t){function e(e){var n=t.call(this)||this,r=null==e?null:e.get(Dd.POSSIBLE_FORMATS),o=[];return null!=r&&(r.indexOf(fp.EAN_13)>-1&&o.push(new Pg),r.indexOf(fp.UPC_A)>-1&&o.push(new jg),r.indexOf(fp.EAN_8)>-1&&o.push(new Vg),r.indexOf(fp.UPC_E)>-1&&o.push(new Wg)),0===o.length&&(o.push(new Pg),o.push(new jg),o.push(new Vg),o.push(new Wg)),n.readers=o,n}return Xg(e,t),e.prototype.decodeRow=function(t,e,n){var r,o;try{for(var i=$g(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{var u=s.decodeRow(t,e,n),l=u.getBarcodeFormat()===fp.EAN_13&&"0"===u.getText().charAt(0),c=null==n?null:n.get(Dd.POSSIBLE_FORMATS),h=null==c||c.includes(fp.UPC_A);if(l&&h){var f=u.getRawBytes(),d=new cp(u.getText().substring(1),f,f?f.length:null,u.getResultPoints(),fp.UPC_A);return d.putAllMetadata(u.getResultMetadata()),d}return u}catch(p){}}}catch(g){r={error:g}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new Xd},e.prototype.reset=function(){var t,e;try{for(var n=$g(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e}(og);const Kg=qg;var Yg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Qg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},e}return Yg(e,t),e.prototype.decodeRow=function(t,e,n){var r=this.getValidRowData(e);if(!r)throw new Xd;var o=this.codaBarDecodeRow(r.row);if(!o)throw new Xd;return new cp(o,null,0,[new Fp(r.left,t),new Fp(r.right,t)],fp.CODABAR,(new Date).getTime())},e.prototype.getValidRowData=function(t){var e=t.toArray(),n=e.indexOf(!0);if(-1===n)return null;var r=e.lastIndexOf(!0);if(r<=n)return null;for(var o=[],i=(e=e.slice(n,r+1))[0],a=1,s=1;s<e.length;s++)e[s]===i?a++:(i=e[s],o.push(a),a=1);return o.push(a),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:n,right:r}},e.prototype.codaBarDecodeRow=function(t){for(var e=[],n=Math.ceil(t.reduce((function(t,e){return(t+e)/2}),0));t.length>0;){var r=t.splice(0,8).splice(0,7).map((function(t){return t<n?"n":"w"})).join("");if(void 0===this.CODA_BAR_CHAR_SET[r])return null;e.push(this.CODA_BAR_CHAR_SET[r])}var o=e.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(t){return/^[A-D].{1,}[A-D]$/.test(t)},e}(og);var Zg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jg=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tm=function(t){function e(){var e=t.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return Zg(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var r=0;r<n.length;r++)if(og.patternMatchVariance(t,n[r],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return r;throw new Xd},e.count=function(t){return Pp.sum(new Int32Array(t))},e.increment=function(t,e){for(var n=0,r=e[0],o=1;o<t.length;o++)e[o]>r&&(r=e[o],n=o);t[n]++},e.decrement=function(t,e){for(var n=0,r=e[0],o=1;o<t.length;o++)e[o]<r&&(r=e[o],n=o);t[n]--},e.isFinderPattern=function(t){var n,r,o=t[0]+t[1],i=o/(o+t[2]+t[3]);if(i>=e.MIN_FINDER_PATTERN_RATIO&&i<=e.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var u=Jg(t),l=u.next();!l.done;l=u.next()){var c=l.value;c>s&&(s=c),c<a&&(a=c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s<10*a}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(og);const em=tm;const nm=function(){function t(t,e){this.value=t,this.checksumPortion=e}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}();const rm=function(){function t(t,e,n,r,o){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new Fp(n,o)),this.resultPoints.push(new Fp(r,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t}();var om=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},im=function(){function t(){}return t.getRSSvalue=function(e,n,r){var o,i,a=0;try{for(var s=om(e),u=s.next();!u.done;u=s.next()){a+=u.value}}catch(y){o={error:y}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}for(var l=0,c=0,h=e.length,f=0;f<h-1;f++){var d=void 0;for(d=1,c|=1<<f;d<e[f];d++,c&=~(1<<f)){var p=t.combins(a-d-1,h-f-2);if(r&&0===c&&a-d-(h-f-1)>=h-f-1&&(p-=t.combins(a-d-(h-f),h-f-2)),h-f-1>1){for(var g=0,m=a-d-(h-f-2);m>n;m--)g+=t.combins(a-d-m-1,h-f-3);p-=g*(h-1-f)}else a-d>n&&p--;l+=p}a-=d}return l},t.combins=function(t,e){var n,r;t-e>e?(r=e,n=t-e):(r=t-e,n=e);for(var o=1,i=1,a=t;a>n;a--)o*=a,i<=r&&(o/=i,i++);for(;i<=r;)o/=i,i++;return o},t}();const am=im;var sm=function(){function t(){}return t.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var n=new Rd(12*e),r=0,o=t[0].getRightChar().getValue(),i=11;i>=0;--i)0!==(o&1<<i)&&n.set(r),r++;for(i=1;i<t.length;++i){for(var a=t[i],s=a.getLeftChar().getValue(),u=11;u>=0;--u)0!==(s&1<<u)&&n.set(r),r++;if(null!==a.getRightChar()){var l=a.getRightChar().getValue();for(u=11;u>=0;--u)0!==(l&1<<u)&&n.set(r),r++}}return n},t}();const um=sm;const lm=function(){function t(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}();const cm=function(){function t(t){this.newPosition=t}return t.prototype.getNewPosition=function(){return this.newPosition},t}();var hm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return hm(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(cm);var dm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pm=function(t){function e(e,n,r){var o=t.call(this,e)||this;return r?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return dm(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(cm);var gm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const mm=function(t){function e(e,n,r){var o=t.call(this,e)||this;if(n<0||n>10||r<0||r>10)throw new Md;return o.firstDigit=n,o.secondDigit=r,o}return gm(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(cm);var ym=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vm=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,o,i,a,s,u,l;if(!e)return null;if(e.length<2)throw new Xd;var c=e.substring(0,2);try{for(var h=ym(t.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){if((C=f.value)[0]===c)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,C[2],e):t.processFixedAI(2,C[1],e)}}catch(_){n={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(e.length<3)throw new Xd;var d=e.substring(0,3);try{for(var p=ym(t.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){if((C=g.value)[0]===d)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,C[2],e):t.processFixedAI(3,C[1],e)}}catch(b){o={error:b}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}try{for(var m=ym(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){if((C=y.value)[0]===d)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,C[2],e):t.processFixedAI(4,C[1],e)}}catch(A){a={error:A}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(e.length<4)throw new Xd;var v=e.substring(0,4);try{for(var w=ym(t.FOUR_DIGIT_DATA_LENGTH),E=w.next();!E.done;E=w.next()){var C;if((C=E.value)[0]===v)return C[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,C[2],e):t.processFixedAI(4,C[1],e)}}catch(S){u={error:S}}finally{try{E&&!E.done&&(l=w.return)&&l.call(w)}finally{if(u)throw u.error}}throw new Xd},t.processFixedAI=function(e,n,r){if(r.length<e)throw new Xd;var o=r.substring(0,e);if(r.length<e+n)throw new Xd;var i=r.substring(e,e+n),a=r.substring(e+n),s="("+o+")"+i,u=t.parseFieldsInGeneralPurpose(a);return null==u?s:s+u},t.processVariableAI=function(e,n,r){var o,i=r.substring(0,e);o=r.length<e+n?r.length:e+n;var a=r.substring(e,o),s=r.substring(o),u="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(s);return null==l?u:u+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}();const wm=vm;const Em=function(){function t(t){this.buffer=new zd,this.information=t}return t.prototype.decodeAllCodes=function(t,e){for(var n=e,r=null;;){var o=this.decodeGeneralPurposeField(n,r),i=wm.parseFieldsInGeneralPurpose(o.getNewString());if(null!=i&&t.append(i),r=o.isRemaining()?""+o.getRemainingValue():null,n===o.getNewPosition())break;n=o.getNewPosition()}return t.toString()},t.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},t.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new mm(this.information.getSize(),0===e?mm.FNC1:e-1,mm.FNC1)}var n=this.extractNumericValueFromBitArray(t,7);return new mm(t+7,(n-8)/11,(n-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(t,e,n){for(var r=0,o=0;o<n;++o)t.get(e+o)&&(r|=1<<n-o-1);return r},t.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new pm(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new pm(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var t,e;do{var n=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),!(n!==this.current.getPosition())&&!t)break}while(!t);return e.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return e=t.isSecondDigitFNC1()?new pm(this.current.getPosition(),this.buffer.toString()):new pm(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new lm(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){e=new pm(this.current.getPosition(),this.buffer.toString());return new lm(!0,e)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new lm(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new pm(this.current.getPosition(),this.buffer.toString());return new lm(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new lm(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new pm(this.current.getPosition(),this.buffer.toString());return new lm(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new lm(!1)},t.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,8);return r>=232&&r<253},t.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new fm(t+5,fm.FNC1);if(e>=5&&e<15)return new fm(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new fm(t+7,""+(r+1));if(r>=90&&r<116)return new fm(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new Md}return new fm(t+8,n)},t.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new fm(t+5,fm.FNC1);if(e>=5&&e<15)return new fm(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new fm(t+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Np("Decoding invalid alphanumeric value: "+r)}return new fm(t+6,n)},t.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},t}();const Cm=function(){function t(t){this.information=t,this.generalDecoder=new Em(t)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}();var _m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const bm=function(t){function e(e){return t.call(this,e)||this}return _m(e,t),e.prototype.encodeCompressedGtin=function(t,e){t.append("(01)");var n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,n)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,r){for(var o=0;o<4;++o){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i)}e.appendCheckDigit(t,r)},e.appendCheckDigit=function(t,e){for(var n=0,r=0;r<13;r++){var o=t.charAt(r+e).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*o:o}10===(n=10-n%10)&&(n=0),t.append(n)},e.GTIN_SIZE=40,e}(Cm);var Am=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Sm=function(t){function e(e){return t.call(this,e)||this}return Am(e,t),e.prototype.parseInformation=function(){var t=new zd;t.append("(01)");var n=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(bm);var Im=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Tm=function(t){function e(e){return t.call(this,e)||this}return Im(e,t),e.prototype.parseInformation=function(){var t=new zd;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Cm);var Nm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Rm=function(t){function e(e){return t.call(this,e)||this}return Nm(e,t),e.prototype.encodeCompressedWeight=function(t,e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n);this.addWeightCode(t,r);for(var o=this.checkWeight(r),i=1e5,a=0;a<5;++a)o/i===0&&t.append("0"),i/=10;t.append(o)},e}(bm);var Om=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Dm=function(t){function e(e){return t.call(this,e)||this}return Om(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Rm.GTIN_SIZE+e.WEIGHT_SIZE)throw new Xd;var t=new zd;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Rm.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Rm);var xm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Mm=function(t){function e(e){return t.call(this,e)||this}return xm(e,t),e.prototype.addWeightCode=function(t,e){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Dm);var km=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Pm=function(t){function e(e){return t.call(this,e)||this}return km(e,t),e.prototype.addWeightCode=function(t,e){e<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Dm);var Lm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Bm=function(t){function e(e){return t.call(this,e)||this}return Lm(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+bm.GTIN_SIZE)throw new Xd;var t=new zd;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+bm.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+bm.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(bm);var Fm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Vm=function(t){function e(e){return t.call(this,e)||this}return Fm(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+bm.GTIN_SIZE)throw new Xd;var t=new zd;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+bm.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+bm.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);r/100===0&&t.append("0"),r/10===0&&t.append("0"),t.append(r);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+bm.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(bm);var Um=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jm=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.dateCode=r,o.firstAIdigits=n,o}return Um(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Xd;var t=new zd;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(38400!==r){t.append("("),t.append(this.dateCode),t.append(")");var o=r%32,i=(r/=32)%12+1,a=r/=12;a/10===0&&t.append("0"),t.append(a),i/10===0&&t.append("0"),t.append(i),o/10===0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Rm);const zm=function(){function t(t,e,n,r){this.leftchar=t,this.rightchar=e,this.finderpattern=n,this.maybeLast=r}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t&&(t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern))},t.equalsOrNull=function(e,n){return null===e?null===n:t.equals(e,n)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}();const Hm=function(){function t(t,e,n){this.pairs=t,this.rowNumber=e,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t&&(this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed)},t.prototype.checkEqualitity=function(t,e){var n;if(t&&e)return t.forEach((function(t,r){e.forEach((function(e){t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(n=!0)}))})),n},t}();var Gm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wm=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return Gm(e,t),e.prototype.decodeRow=function(t,n,r){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch(IC){}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,e){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(i){if(i instanceof Xd){if(!this.pairs.length)throw new Xd;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(t,!1),n){var o=this.checkRowsBoolean(!1);if(null!=o)return o;if(null!=(o=this.checkRowsBoolean(!0)))return o}throw new Xd},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var e=null;try{e=this.checkRows(new Array,0)}catch(IC){console.log(IC)}return t&&(this.rows=this.rows.reverse()),e},e.prototype.checkRows=function(t,n){for(var r,o,i=n;i<this.rows.length;i++){var a=this.rows[i];this.pairs.length=0;try{for(var s=(r=void 0,Wm(t)),u=s.next();!u.done;u=s.next()){var l=u.value;this.pairs.push(l.getPairs())}}catch(h){r={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(a.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var c=new Array(t);c.push(a);try{return this.checkRows(c,i+1)}catch(IC){console.log(IC)}}}throw new Xd},e.isValidSequence=function(t){var n,r;try{for(var o=Wm(e.FINDER_PATTERN_SEQUENCES),i=o.next();!i.done;i=o.next()){var a=i.value;if(!(t.length>a.length)){for(var s=!0,u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!==a[u]){s=!1;break}if(s)return!0}}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var r=0,o=!1,i=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>t){i=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),r++}i||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Hm(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,e){var n,r,o,i,a,s;try{for(var u=Wm(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(c.getPairs().length!==t.length){try{for(var h=(o=void 0,Wm(c.getPairs())),f=h.next();!f.done;f=h.next()){var d=f.value,p=!1;try{for(var g=(a=void 0,Wm(t)),m=g.next();!m.done;m=g.next()){var y=m.value;if(zm.equals(d,y)){p=!0;break}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}p||!1}}catch(w){o={error:w}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}}}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},e.isPartialRow=function(t,e){var n,r,o,i,a,s;try{for(var u=Wm(e),l=u.next();!l.done;l=u.next()){var c=l.value,h=!0;try{for(var f=(o=void 0,Wm(t)),d=f.next();!d.done;d=f.next()){var p=d.value,g=!1;try{for(var m=(a=void 0,Wm(c.getPairs())),y=m.next();!y.done;y=m.next()){var v=y.value;if(p.equals(v)){g=!0;break}}}catch(w){a={error:w}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!g){h=!1;break}}}catch(E){o={error:E}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}if(h)return!0}}catch(C){n={error:C}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var e=function(t){try{if(t.get(1))return new Sm(t);if(!t.get(2))return new Tm(t);switch(Em.extractNumericValueFromBitArray(t,1,4)){case 4:return new Mm(t);case 5:return new Pm(t)}switch(Em.extractNumericValueFromBitArray(t,1,5)){case 12:return new Bm(t);case 13:return new Vm(t)}switch(Em.extractNumericValueFromBitArray(t,1,7)){case 56:return new jm(t,"310","11");case 57:return new jm(t,"320","11");case 58:return new jm(t,"310","13");case 59:return new jm(t,"320","13");case 60:return new jm(t,"310","15");case 61:return new jm(t,"320","15");case 62:return new jm(t,"310","17");case 63:return new jm(t,"320","17")}}catch(IC){throw console.log(IC),new Np("unknown decoder: "+t)}}(um.buildBitArray(t)).parseInformation(),n=t[0].getFinderPattern().getResultPoints(),r=t[t.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],r[0],r[1]];return new cp(e,null,null,o,fp.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),e=t.getLeftChar(),n=t.getRightChar();if(null===n)return!1;for(var r=n.getChecksumPortion(),o=2,i=1;i<this.pairs.size();++i){var a=this.pairs.get(i);r+=a.getLeftChar().getChecksumPortion(),o++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),o++)}return 211*(o-4)+(r%=211)===e.getValue()},e.getNextSecondBar=function(t,e){var n;return t.get(e)?(n=t.getNextUnset(e),n=t.getNextSet(n)):(n=t.getNextSet(e),n=t.getNextUnset(n)),n},e.prototype.retrieveNextPair=function(t,n,r){var o,i=n.length%2===0;this.startFromEven&&(i=!i);var a=!0,s=-1;do{this.findNextPair(t,n,s),null===(o=this.parseFoundFinderPattern(t,r,i))?s=e.getNextSecondBar(t,this.startEnd[0]):a=!1}while(a);var u,l=this.decodeDataCharacter(t,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Xd;try{u=this.decodeDataCharacter(t,o,i,!1)}catch(IC){u=null,console.log(IC)}return new zm(l,u,o,!0)},e.prototype.isEmptyPair=function(t){return 0===t.length},e.prototype.findNextPair=function(t,n,r){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var i,a=t.getSize();if(r>=0)i=r;else if(this.isEmptyPair(n))i=0;else{i=n[n.length-1].getFinderPattern().getStartEnd()[1]}var s=n.length%2!==0;this.startFromEven&&(s=!s);for(var u=!1;i<a&&(u=!t.get(i));)i++;for(var l=0,c=i,h=i;h<a;h++)if(t.get(h)!==u)o[l]++;else{if(3===l){if(s&&e.reverseCounters(o),e.isFinderPattern(o))return this.startEnd[0]=c,void(this.startEnd[1]=h);s&&e.reverseCounters(o),c+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,l--}else l++;o[l]=1,u=!u}throw new Xd},e.reverseCounters=function(t){for(var e=t.length,n=0;n<e/2;++n){var r=t[n];t[n]=t[e-n-1],t[e-n-1]=r}},e.prototype.parseFoundFinderPattern=function(t,n,r){var o,i,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!t.get(s);)s--;s++,o=this.startEnd[0]-s,i=s,a=this.startEnd[1]}else i=this.startEnd[0],o=(a=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var u,l=this.getDecodeFinderCounters();vd.arraycopy(l,0,l,1,l.length-1),l[0]=o;try{u=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch(IC){return null}return new rm(u,[i,a],i,a,n)},e.prototype.decodeDataCharacter=function(t,n,r,o){for(var i=this.getDataCharacterCounters(),a=0;a<i.length;a++)i[a]=0;if(o)e.recordPatternInReverse(t,n.getStartEnd()[0],i);else{e.recordPattern(t,n.getStartEnd()[1],i);for(var s=0,u=i.length-1;s<u;s++,u--){var l=i[s];i[s]=i[u],i[u]=l}}var c=Pp.sum(new Int32Array(i))/17,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new Xd;var f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<i.length;s++){var m=1*i[s]/c,y=m+.5;if(y<1){if(m<.3)throw new Xd;y=1}else if(y>8){if(m>8.7)throw new Xd;y=8}var v=s/2;0===(1&s)?(f[v]=y,p[v]=m-y):(d[v]=y,g[v]=m-y)}this.adjustOddEvenCounts(17);var w=4*n.getValue()+(r?0:2)+(o?0:1)-1,E=0,C=0;for(s=f.length-1;s>=0;s--){if(e.isNotA1left(n,r,o)){var _=e.WEIGHTS[w][2*s];C+=f[s]*_}E+=f[s]}var b=0;for(s=d.length-1;s>=0;s--)if(e.isNotA1left(n,r,o)){_=e.WEIGHTS[w][2*s+1];b+=d[s]*_}var A=C+b;if(0!==(1&E)||E>13||E<4)throw new Xd;var S=(13-E)/2,I=e.SYMBOL_WIDEST[S],T=9-I,N=am.getRSSvalue(f,I,!0),R=am.getRSSvalue(d,T,!1),O=e.EVEN_TOTAL_SUBSET[S],D=e.GSUM[S];return new nm(N*O+R+D,A)},e.isNotA1left=function(t,e,n){return!(0===t.getValue()&&e&&n)},e.prototype.adjustOddEvenCounts=function(t){var n=Pp.sum(new Int32Array(this.getOddCounts())),r=Pp.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1;n>13?i=!0:n<4&&(o=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=n+r-t,l=1===(1&n),c=0===(1&r);if(1===u)if(l){if(c)throw new Xd;i=!0}else{if(!c)throw new Xd;s=!0}else if(-1===u)if(l){if(c)throw new Xd;o=!0}else{if(!c)throw new Xd;a=!0}else{if(0!==u)throw new Xd;if(l){if(!c)throw new Xd;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(c)throw new Xd}if(o){if(i)throw new Xd;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Xd;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(em);const $m=Xm;var qm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Km=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.count=0,o.finderPattern=r,o}return qm(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(nm);var Ym=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qm=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return Ym(e,t),e.prototype.decodeRow=function(t,n,r){var o,i,a,s,u=this.decodePair(n,!1,t,r);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var l=this.decodePair(n,!0,t,r);e.addOrTally(this.possibleRightPairs,l),n.reverse();try{for(var c=Qm(this.possibleLeftPairs),h=c.next();!h.done;h=c.next()){var f=h.value;if(f.getCount()>1)try{for(var d=(a=void 0,Qm(this.possibleRightPairs)),p=d.next();!p.done;p=d.next()){var g=p.value;if(g.getCount()>1&&e.checkChecksum(f,g))return e.constructResult(f,g)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}}}catch(y){o={error:y}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}throw new Xd},e.addOrTally=function(t,e){var n,r;if(null!=e){var o=!1;try{for(var i=Qm(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.getValue()===e.getValue()){s.incrementCount(),o=!0;break}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}o||t.push(e)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,e){for(var n=4537077*t.getValue()+e.getValue(),r=new String(n).toString(),o=new zd,i=13-r.length;i>0;i--)o.append("0");o.append(r);var a=0;for(i=0;i<13;i++){var s=o.charAt(i).charCodeAt(0)-"0".charCodeAt(0);a+=0===(1&i)?3*s:s}10===(a=10-a%10)&&(a=0),o.append(a.toString());var u=t.getFinderPattern().getResultPoints(),l=e.getFinderPattern().getResultPoints();return new cp(o.toString(),null,0,[u[0],u[1],l[0],l[1]],fp.RSS_14,(new Date).getTime())},e.checkChecksum=function(t,e){var n=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,r=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},e.prototype.decodePair=function(t,e,n,r){try{var o=this.findFinderPattern(t,e),i=this.parseFoundFinderPattern(t,n,e,o),a=null==r?null:r.get(Dd.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(o[0]+o[1])/2;e&&(s=t.getSize()-1-s),a.foundPossibleResultPoint(new Fp(s,n))}var u=this.decodeDataCharacter(t,i,!0),l=this.decodeDataCharacter(t,i,!1);return new Km(1597*u.getValue()+l.getValue(),u.getChecksumPortion()+4*l.getChecksumPortion(),i)}catch(c){return null}},e.prototype.decodeDataCharacter=function(t,n,r){for(var o=this.getDataCharacterCounters(),i=0;i<o.length;i++)o[i]=0;if(r)og.recordPatternInReverse(t,n.getStartEnd()[0],o);else{og.recordPattern(t,n.getStartEnd()[1]+1,o);for(var a=0,s=o.length-1;a<s;a++,s--){var u=o[a];o[a]=o[s],o[s]=u}}var l=r?16:15,c=Pp.sum(new Int32Array(o))/l,h=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<o.length;a++){var g=o[a]/c,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(a/2);0===(1&a)?(h[y]=m,d[y]=g-m):(f[y]=m,p[y]=g-m)}this.adjustOddEvenCounts(r,l);var v=0,w=0;for(a=h.length-1;a>=0;a--)w*=9,w+=h[a],v+=h[a];var E=0,C=0;for(a=f.length-1;a>=0;a--)E*=9,E+=f[a],C+=f[a];var _=w+3*E;if(r){if(0!==(1&v)||v>12||v<4)throw new Xd;var b=(12-v)/2,A=9-(R=e.OUTSIDE_ODD_WIDEST[b]),S=am.getRSSvalue(h,R,!1),I=am.getRSSvalue(f,A,!0),T=e.OUTSIDE_EVEN_TOTAL_SUBSET[b],N=e.OUTSIDE_GSUM[b];return new nm(S*T+I+N,_)}if(0!==(1&C)||C>10||C<4)throw new Xd;b=(10-C)/2,A=9-(R=e.INSIDE_ODD_WIDEST[b]),S=am.getRSSvalue(h,R,!0),I=am.getRSSvalue(f,A,!1);var R,O=e.INSIDE_ODD_TOTAL_SUBSET[b];N=e.INSIDE_GSUM[b];return new nm(I*O+S+N,_)},e.prototype.findFinderPattern=function(t,e){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=t.getSize(),o=!1,i=0;i<r&&e!==(o=!t.get(i));)i++;for(var a=0,s=i,u=i;u<r;u++)if(t.get(u)!==o)n[a]++;else{if(3===a){if(em.isFinderPattern(n))return[s,u];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,o=!o}throw new Xd},e.prototype.parseFoundFinderPattern=function(t,n,r,o){for(var i=t.get(o[0]),a=o[0]-1;a>=0&&i!==t.get(a);)a--;a++;var s=o[0]-a,u=this.getDecodeFinderCounters(),l=new Int32Array(u.length);vd.arraycopy(u,0,l,1,u.length-1),l[0]=s;var c=this.parseFinderValue(l,e.FINDER_PATTERNS),h=a,f=o[1];return r&&(h=t.getSize()-1-h,f=t.getSize()-1-f),new rm(c,[a,o[1]],h,f,n)},e.prototype.adjustOddEvenCounts=function(t,e){var n=Pp.sum(new Int32Array(this.getOddCounts())),r=Pp.sum(new Int32Array(this.getEvenCounts())),o=!1,i=!1,a=!1,s=!1;t?(n>12?i=!0:n<4&&(o=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?i=!0:n<5&&(o=!0),r>10?s=!0:r<4&&(a=!0));var u=n+r-e,l=(1&n)===(t?1:0),c=1===(1&r);if(1===u)if(l){if(c)throw new Xd;i=!0}else{if(!c)throw new Xd;s=!0}else if(-1===u)if(l){if(c)throw new Xd;o=!0}else{if(!c)throw new Xd;a=!0}else{if(0!==u)throw new Xd;if(l){if(!c)throw new Xd;n<r?(o=!0,s=!0):(i=!0,a=!0)}else if(c)throw new Xd}if(o){if(i)throw new Xd;em.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&em.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new Xd;em.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&em.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(em);const Jm=Zm;var ty=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ey=function(t){function e(e){var n=t.call(this)||this;n.readers=[];var r=e?e.get(Dd.POSSIBLE_FORMATS):null,o=e&&void 0!==e.get(Dd.ASSUME_CODE_39_CHECK_DIGIT),i=e&&void 0!==e.get(Dd.ENABLE_CODE_39_EXTENDED_MODE);return r&&((r.includes(fp.EAN_13)||r.includes(fp.UPC_A)||r.includes(fp.EAN_8)||r.includes(fp.UPC_E))&&n.readers.push(new Kg(e)),r.includes(fp.CODE_39)&&n.readers.push(new cg(o,i)),r.includes(fp.CODE_93)&&n.readers.push(new pg),r.includes(fp.CODE_128)&&n.readers.push(new ag),r.includes(fp.ITF)&&n.readers.push(new vg),r.includes(fp.CODABAR)&&n.readers.push(new Qg),r.includes(fp.RSS_14)&&n.readers.push(new Jm),r.includes(fp.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new $m))),0===n.readers.length&&(n.readers.push(new Kg(e)),n.readers.push(new cg),n.readers.push(new pg),n.readers.push(new Kg(e)),n.readers.push(new ag),n.readers.push(new vg),n.readers.push(new Jm)),n}return ty(e,t),e.prototype.decodeRow=function(t,e,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(t,e,n)}catch(ui){}throw new Xd},e.prototype.reset=function(){this.readers.forEach((function(t){return t.reset()}))},e}(og);var ny=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ry=(function(t){function e(e,n){return void 0===e&&(e=500),t.call(this,new ey(n),e,n)||this}ny(e,t)}(lp),function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),oy=function(){function t(t,e,n){this.ecCodewords=t,this.ecBlocks=[e],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),iy=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),ay=function(){function t(t,e,n,r,o,i){var a,s;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=o,this.ecBlocks=i;var u=0,l=i.getECCodewords(),c=i.getECBlocks();try{for(var h=ry(c),f=h.next();!f.done;f=h.next()){var d=f.value;u+=d.getCount()*(d.getDataCodewords()+l)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,o;if(0!==(1&e)||0!==(1&n))throw new Md;try{for(var i=ry(t.VERSIONS),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}throw new Md},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new oy(5,new iy(1,3))),new t(2,12,12,10,10,new oy(7,new iy(1,5))),new t(3,14,14,12,12,new oy(10,new iy(1,8))),new t(4,16,16,14,14,new oy(12,new iy(1,12))),new t(5,18,18,16,16,new oy(14,new iy(1,18))),new t(6,20,20,18,18,new oy(18,new iy(1,22))),new t(7,22,22,20,20,new oy(20,new iy(1,30))),new t(8,24,24,22,22,new oy(24,new iy(1,36))),new t(9,26,26,24,24,new oy(28,new iy(1,44))),new t(10,32,32,14,14,new oy(36,new iy(1,62))),new t(11,36,36,16,16,new oy(42,new iy(1,86))),new t(12,40,40,18,18,new oy(48,new iy(1,114))),new t(13,44,44,20,20,new oy(56,new iy(1,144))),new t(14,48,48,22,22,new oy(68,new iy(1,174))),new t(15,52,52,24,24,new oy(42,new iy(2,102))),new t(16,64,64,14,14,new oy(56,new iy(2,140))),new t(17,72,72,16,16,new oy(36,new iy(4,92))),new t(18,80,80,18,18,new oy(48,new iy(4,114))),new t(19,88,88,20,20,new oy(56,new iy(4,144))),new t(20,96,96,22,22,new oy(68,new iy(4,174))),new t(21,104,104,24,24,new oy(56,new iy(6,136))),new t(22,120,120,18,18,new oy(68,new iy(6,175))),new t(23,132,132,20,20,new oy(62,new iy(8,163))),new t(24,144,144,22,22,new oy(62,new iy(8,156),new iy(2,155))),new t(25,8,18,6,16,new oy(7,new iy(1,5))),new t(26,8,32,6,14,new oy(11,new iy(1,10))),new t(27,12,26,10,24,new oy(14,new iy(1,16))),new t(28,12,36,10,16,new oy(18,new iy(1,22))),new t(29,16,36,14,16,new oy(24,new iy(1,32))),new t(30,16,48,14,22,new oy(28,new iy(1,49)))]},t.VERSIONS=t.buildVersions(),t}();const sy=ay;var uy=function(){function t(e){var n=e.getHeight();if(n<8||n>144||0!==(1&n))throw new Md;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Gd(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(t){var e=t.getHeight(),n=t.getWidth();return sy.getVersionForDimensions(e,n)},t.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,n=4,r=0,o=this.mappingBitMatrix.getHeight(),i=this.mappingBitMatrix.getWidth(),a=!1,s=!1,u=!1,l=!1;do{if(n!==o||0!==r||a)if(n!==o-2||0!==r||0===(3&i)||s)if(n!==o+4||2!==r||0!==(7&i)||u)if(n!==o-2||0!==r||4!==(7&i)||l){do{n<o&&r>=0&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,o,i)),n-=2,r+=2}while(n>=0&&r<i);n+=1,r+=3;do{n>=0&&r<i&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,o,i)),n+=2,r-=2}while(n<o&&r>=0);n+=3,r+=1}else t[e++]=255&this.readCorner4(o,i),n-=2,r+=2,l=!0;else t[e++]=255&this.readCorner3(o,i),n-=2,r+=2,u=!0;else t[e++]=255&this.readCorner2(o,i),n-=2,r+=2,s=!0;else t[e++]=255&this.readCorner1(o,i),n-=2,r+=2,a=!0}while(n<o||r<i);if(e!==this.version.getTotalCodewords())throw new Md;return t},t.prototype.readModule=function(t,e,n,r){return t<0&&(t+=n,e+=4-(n+4&7)),e<0&&(e+=r,t+=4-(r+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},t.prototype.readUtah=function(t,e,n,r){var o=0;return this.readModule(t-2,e-2,n,r)&&(o|=1),o<<=1,this.readModule(t-2,e-1,n,r)&&(o|=1),o<<=1,this.readModule(t-1,e-2,n,r)&&(o|=1),o<<=1,this.readModule(t-1,e-1,n,r)&&(o|=1),o<<=1,this.readModule(t-1,e,n,r)&&(o|=1),o<<=1,this.readModule(t,e-2,n,r)&&(o|=1),o<<=1,this.readModule(t,e-1,n,r)&&(o|=1),o<<=1,this.readModule(t,e,n,r)&&(o|=1),o},t.prototype.readCorner1=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,1,t,e)&&(n|=1),n<<=1,this.readModule(t-1,2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.readCorner2=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-4,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner3=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-3,t,e)&&(n|=1),n<<=1,this.readModule(1,e-2,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner4=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new dd("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),i=e/r|0,a=n/o|0,s=new Gd(a*o,i*r),u=0;u<i;++u)for(var l=u*r,c=0;c<a;++c)for(var h=c*o,f=0;f<r;++f)for(var d=u*(r+2)+1+f,p=l+f,g=0;g<o;++g){var m=c*(o+2)+1+g;if(t.get(m,d)){var y=h+g;s.set(y,p)}}return s},t}();const ly=uy;var cy=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hy=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n){var r,o,i,a,s=n.getECBlocks(),u=0,l=s.getECBlocks();try{for(var c=cy(l),h=c.next();!h.done;h=c.next()){u+=(m=h.value).getCount()}}catch(R){r={error:R}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}var f=new Array(u),d=0;try{for(var p=cy(l),g=p.next();!g.done;g=p.next())for(var m=g.value,y=0;y<m.getCount();y++){var v=m.getDataCodewords(),w=s.getECCodewords()+v;f[d++]=new t(v,new Uint8Array(w))}}catch(O){i={error:O}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var E=f[0].codewords.length-s.getECCodewords(),C=E-1,_=0;for(y=0;y<C;y++)for(var b=0;b<d;b++)f[b].codewords[y]=e[_++];var A=24===n.getVersionNumber(),S=A?8:d;for(b=0;b<S;b++)f[b].codewords[E-1]=e[_++];var I=f[0].codewords.length;for(y=E;y<I;y++)for(b=0;b<d;b++){var T=A?(b+8)%d:b,N=A&&T>7?y-1:y;f[T].codewords[N]=e[_++]}if(_!==e.length)throw new dd;return f},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();const fy=hy;const dy=function(){function t(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new dd(""+t);var e=0,n=this.bitOffset,r=this.byteOffset,o=this.bytes;if(n>0){var i=8-n,a=t<i?t:i,s=255>>8-a<<(u=i-a);e=(o[r]&s)>>u,t-=a,8===(n+=a)&&(n=0,r++)}if(t>0){for(;t>=8;)e=e<<8|255&o[r],r++,t-=8;if(t>0){var u;s=255>>(u=8-t)<<u;e=e<<t|(o[r]&s)>>u,n+=t}}return this.bitOffset=n,this.byteOffset=r,e},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();var py;!function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"}(py||(py={}));var gy=function(){function t(){}return t.decode=function(t){var e=new dy(t),n=new zd,r=new zd,o=new Array,i=py.ASCII_ENCODE;do{if(i===py.ASCII_ENCODE)i=this.decodeAsciiSegment(e,n,r);else{switch(i){case py.C40_ENCODE:this.decodeC40Segment(e,n);break;case py.TEXT_ENCODE:this.decodeTextSegment(e,n);break;case py.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,n);break;case py.EDIFACT_ENCODE:this.decodeEdifactSegment(e,n);break;case py.BASE256_ENCODE:this.decodeBase256Segment(e,n,o);break;default:throw new Md}i=py.ASCII_ENCODE}}while(i!==py.PAD_ENCODE&&e.available()>0);return r.length()>0&&n.append(r.toString()),new gp(t,n.toString(),0===o.length?null:o,null)},t.decodeAsciiSegment=function(t,e,n){var r=!1;do{var o=t.readBits(8);if(0===o)throw new Md;if(o<=128)return r&&(o+=128),e.append(String.fromCharCode(o-1)),py.ASCII_ENCODE;if(129===o)return py.PAD_ENCODE;if(o<=229){var i=o-130;i<10&&e.append("0"),e.append(""+i)}else switch(o){case 230:return py.C40_ENCODE;case 231:return py.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:e.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return py.ANSIX12_ENCODE;case 239:return py.TEXT_ENCODE;case 240:return py.EDIFACT_ENCODE;default:if(254!==o||0!==t.available())throw new Md}}while(t.available()>0);return py.ASCII_ENCODE},t.decodeC40Segment=function(t,e){var n=!1,r=[],o=0;do{if(8===t.available())return;var i=t.readBits(8);if(254===i)return;this.parseTwoBytes(i,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new Md;var u=this.C40_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){u=this.C40_SHIFT2_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Md}o=0;break;case 3:n?(e.append(String.fromCharCode(s+224)),n=!1):e.append(String.fromCharCode(s+96)),o=0;break;default:throw new Md}}}while(t.available()>0)},t.decodeTextSegment=function(t,e){var n=!1,r=[],o=0;do{if(8===t.available())return;var i=t.readBits(8);if(254===i)return;this.parseTwoBytes(i,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(o){case 0:if(s<3)o=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new Md;var u=this.TEXT_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),o=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){u=this.TEXT_SHIFT2_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Md}o=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new Md;u=this.TEXT_SHIFT3_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u),o=0;break;default:throw new Md}}}while(t.available()>0)},t.decodeAnsiX12Segment=function(t,e){var n=[];do{if(8===t.available())return;var r=t.readBits(8);if(254===r)return;this.parseTwoBytes(r,t.readBits(8),n);for(var o=0;o<3;o++){var i=n[o];switch(i){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(i<14)e.append(String.fromCharCode(i+44));else{if(!(i<40))throw new Md;e.append(String.fromCharCode(i+51))}}}}while(t.available()>0)},t.parseTwoBytes=function(t,e,n){var r=(t<<8)+e-1,o=Math.floor(r/1600);n[0]=o,r-=1600*o,o=Math.floor(r/40),n[1]=o,n[2]=r-40*o},t.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var r=t.readBits(6);if(31===r){var o=8-t.getBitOffset();return void(8!==o&&t.readBits(o))}0===(32&r)&&(r|=64),e.append(String.fromCharCode(r))}}while(t.available()>0)},t.decodeBase256Segment=function(t,e,n){var r,o=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),o++);if((r=0===i?t.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(t.readBits(8),o++))<0)throw new Md;for(var a=new Uint8Array(r),s=0;s<r;s++){if(t.available()<8)throw new Md;a[s]=this.unrandomize255State(t.readBits(8),o++)}n.push(a);try{e.append(Ud.decode(a,jd.ISO88591))}catch(u){throw new Np("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(t,e){var n=t-(149*e%255+1);return n>=0?n:n+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}();const my=gy;var yy=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vy=function(){function t(){this.rsDecoder=new Op(Ap.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(t){var e,n,r=new ly(t),o=r.getVersion(),i=r.readCodewords(),a=fy.getDataBlocks(i,o),s=0;try{for(var u=yy(a),l=u.next();!l.done;l=u.next()){s+=l.value.getNumDataCodewords()}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}for(var c=new Uint8Array(s),h=a.length,f=0;f<h;f++){var d=a[f],p=d.getCodewords(),g=d.getNumDataCodewords();this.correctErrors(p,g);for(var m=0;m<g;m++)c[m*h+f]=p[m]}return my.decode(c)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(o){throw new md}for(var r=0;r<e;r++)t[r]=n[r]},t}();const wy=vy;var Ey=function(){function t(t){this.image=t,this.rectangleDetector=new Hp(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new Xd;var r=(n=this.shiftToModuleCenter(n))[0],o=n[1],i=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(i,a)+1;1===(1&s)&&(s+=1),1===(1&u)&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var l=t.sampleGrid(this.image,r,o,i,a,s,u);return new Vp(l,[r,o,i,a])},t.shiftPoint=function(t,e,n){var r=(e.getX()-t.getX())/(n+1),o=(e.getY()-t.getY())/(n+1);return new Fp(t.getX()+r,t.getY()+o)},t.moveAway=function(t,e,n){var r=t.getX(),o=t.getY();return r<e?r-=1:r+=1,o<n?o-=1:o+=1,new Fp(r,o)},t.prototype.detectSolid1=function(t){var e=t[0],n=t[1],r=t[3],o=t[2],i=this.transitionsBetween(e,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,o),u=this.transitionsBetween(o,e),l=i,c=[o,e,n,r];return l>a&&(l=a,c[0]=e,c[1]=n,c[2]=r,c[3]=o),l>s&&(l=s,c[0]=n,c[1]=r,c[2]=o,c[3]=e),l>u&&(c[0]=r,c[1]=o,c[2]=e,c[3]=n),c},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=t.shiftPoint(r,o,4*(a+1)),u=t.shiftPoint(o,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(u,i)?(e[0]=n,e[1]=r,e[2]=o,e[3]=i):(e[0]=r,e[1]=o,e[2]=i,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i),s=this.transitionsBetween(r,i),u=t.shiftPoint(n,r,4*(s+1)),l=t.shiftPoint(o,r,4*(a+1));a=this.transitionsBetween(u,i),s=this.transitionsBetween(l,i);var c=new Fp(i.getX()+(o.getX()-r.getX())/(a+1),i.getY()+(o.getY()-r.getY())/(a+1)),h=new Fp(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(c)?this.isValid(h)?this.transitionsBetween(u,c)+this.transitionsBetween(l,c)>this.transitionsBetween(u,h)+this.transitionsBetween(l,h)?c:h:c:this.isValid(h)?h:null},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],o=e[2],i=e[3],a=this.transitionsBetween(n,i)+1,s=this.transitionsBetween(o,i)+1,u=t.shiftPoint(n,r,4*s),l=t.shiftPoint(o,r,4*a);1===(1&(a=this.transitionsBetween(u,i)+1))&&(a+=1),1===(1&(s=this.transitionsBetween(l,i)+1))&&(s+=1);var c,h,f=(n.getX()+r.getX()+o.getX()+i.getX())/4,d=(n.getY()+r.getY()+o.getY()+i.getY())/4;return n=t.moveAway(n,f,d),r=t.moveAway(r,f,d),o=t.moveAway(o,f,d),i=t.moveAway(i,f,d),u=t.shiftPoint(n,r,4*s),u=t.shiftPoint(u,i,4*a),c=t.shiftPoint(r,n,4*s),c=t.shiftPoint(c,o,4*a),l=t.shiftPoint(o,i,4*s),l=t.shiftPoint(l,r,4*a),h=t.shiftPoint(i,o,4*s),[u,c,l,h=t.shiftPoint(h,n,4*a)]},t.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},t.sampleGrid=function(t,e,n,r,o,i,a){return Qp.getInstance().sampleGrid(t,i,a,.5,.5,i-.5,.5,i-.5,a-.5,.5,a-.5,e.getX(),e.getY(),o.getX(),o.getY(),r.getX(),r.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(t,e){var n=Math.trunc(t.getX()),r=Math.trunc(t.getY()),o=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.abs(i-r)>Math.abs(o-n);if(a){var s=n;n=r,r=s,s=o,o=i,i=s}for(var u=Math.abs(o-n),l=Math.abs(i-r),c=-u/2,h=r<i?1:-1,f=n<o?1:-1,d=0,p=this.image.get(a?r:n,a?n:r),g=n,m=r;g!==o;g+=f){var y=this.image.get(a?m:g,a?g:m);if(y!==p&&(d++,p=y),(c+=l)>0){if(m===i)break;m+=h,c-=u}}return d},t}();const Cy=Ey;var _y=function(){function t(){this.decoder=new wy}return t.prototype.decode=function(e,n){var r,o;if(void 0===n&&(n=null),null!=n&&n.has(Dd.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(i),o=t.NO_POINTS}else{var a=new Cy(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),o=a.getPoints()}var s=r.getRawBytes(),u=new cp(r.getText(),s,8*s.length,o,fp.DATA_MATRIX,vd.currentTimeMillis()),l=r.getByteSegments();null!=l&&u.putMetadata(pp.BYTE_SEGMENTS,l);var c=r.getECLevel();return null!=c&&u.putMetadata(pp.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null==e||null==n)throw new Xd;var r=this.moduleSize(e,t),o=e[1],i=n[1],a=e[0],s=(n[0]-a+1)/r,u=(i-o+1)/r;if(s<=0||u<=0)throw new Xd;var l=r/2;o+=l,a+=l;for(var c=new Gd(s,u),h=0;h<u;h++)for(var f=o+h*r,d=0;d<s;d++)t.get(a+d*r,f)&&c.set(d,h);return c},t.moduleSize=function(t,e){for(var n=e.getWidth(),r=t[0],o=t[1];r<n&&e.get(r,o);)r++;if(r===n)throw new Xd;var i=r-t[0];if(0===i)throw new Xd;return i},t.NO_POINTS=[],t}();const by=_y;var Ay,Sy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e){return void 0===e&&(e=500),t.call(this,new by,e)||this}Sy(e,t)}(lp);!function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(Ay||(Ay={}));const Iy=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new hd(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new dd;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ay.L,"L",1),t.M=new t(Ay.M,"M",0),t.Q=new t(Ay.Q,"Q",3),t.H=new t(Ay.H,"H",2),t}();var Ty=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ny=function(){function t(t){this.errorCorrectionLevel=Iy.forBits(t>>3&3),this.dataMask=7&t}return t.numBitsDiffering=function(t,e){return Td.bitCount(t^e)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return null!==r?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,o,i=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=Ty(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var l=u.value,c=l[0];if(c===e||c===n)return new t(l[1]);var h=t.numBitsDiffering(e,c);h<i&&(a=l[1],i=h),e!==n&&(h=t.numBitsDiffering(n,c))<i&&(a=l[1],i=h)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}();const Ry=Ny;var Oy=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dy=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var t,e,n=0,r=this.ecBlocks;try{for(var o=Oy(r),i=o.next();!i.done;i=o.next()){n+=i.value.getCount()}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}();const xy=Dy;var My=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}();const ky=My;var Py=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ly=function(){function t(t,e){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=o;var a=0,s=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();try{for(var l=Py(u),c=l.next();!c.done;c=l.next()){var h=c.value;a+=h.getCount()*(h.getDataCodewords()+s)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},t.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new Md;try{return this.getVersionForNumber((t-17)/4)}catch(e){throw new Md}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new dd;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,o=0;o<t.VERSION_DECODE_INFO.length;o++){var i=t.VERSION_DECODE_INFO[o];if(i===e)return t.getVersionForNumber(o+7);var a=Ry.numBitsDiffering(e,i);a<n&&(r=o+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new Gd(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var o=this.alignmentPatternCenters[r]-2,i=0;i<n;i++)0===r&&(0===i||i===n-1)||r===n-1&&0===i||e.setRegion(this.alignmentPatternCenters[i]-2,o,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new xy(7,new ky(1,19)),new xy(10,new ky(1,16)),new xy(13,new ky(1,13)),new xy(17,new ky(1,9))),new t(2,Int32Array.from([6,18]),new xy(10,new ky(1,34)),new xy(16,new ky(1,28)),new xy(22,new ky(1,22)),new xy(28,new ky(1,16))),new t(3,Int32Array.from([6,22]),new xy(15,new ky(1,55)),new xy(26,new ky(1,44)),new xy(18,new ky(2,17)),new xy(22,new ky(2,13))),new t(4,Int32Array.from([6,26]),new xy(20,new ky(1,80)),new xy(18,new ky(2,32)),new xy(26,new ky(2,24)),new xy(16,new ky(4,9))),new t(5,Int32Array.from([6,30]),new xy(26,new ky(1,108)),new xy(24,new ky(2,43)),new xy(18,new ky(2,15),new ky(2,16)),new xy(22,new ky(2,11),new ky(2,12))),new t(6,Int32Array.from([6,34]),new xy(18,new ky(2,68)),new xy(16,new ky(4,27)),new xy(24,new ky(4,19)),new xy(28,new ky(4,15))),new t(7,Int32Array.from([6,22,38]),new xy(20,new ky(2,78)),new xy(18,new ky(4,31)),new xy(18,new ky(2,14),new ky(4,15)),new xy(26,new ky(4,13),new ky(1,14))),new t(8,Int32Array.from([6,24,42]),new xy(24,new ky(2,97)),new xy(22,new ky(2,38),new ky(2,39)),new xy(22,new ky(4,18),new ky(2,19)),new xy(26,new ky(4,14),new ky(2,15))),new t(9,Int32Array.from([6,26,46]),new xy(30,new ky(2,116)),new xy(22,new ky(3,36),new ky(2,37)),new xy(20,new ky(4,16),new ky(4,17)),new xy(24,new ky(4,12),new ky(4,13))),new t(10,Int32Array.from([6,28,50]),new xy(18,new ky(2,68),new ky(2,69)),new xy(26,new ky(4,43),new ky(1,44)),new xy(24,new ky(6,19),new ky(2,20)),new xy(28,new ky(6,15),new ky(2,16))),new t(11,Int32Array.from([6,30,54]),new xy(20,new ky(4,81)),new xy(30,new ky(1,50),new ky(4,51)),new xy(28,new ky(4,22),new ky(4,23)),new xy(24,new ky(3,12),new ky(8,13))),new t(12,Int32Array.from([6,32,58]),new xy(24,new ky(2,92),new ky(2,93)),new xy(22,new ky(6,36),new ky(2,37)),new xy(26,new ky(4,20),new ky(6,21)),new xy(28,new ky(7,14),new ky(4,15))),new t(13,Int32Array.from([6,34,62]),new xy(26,new ky(4,107)),new xy(22,new ky(8,37),new ky(1,38)),new xy(24,new ky(8,20),new ky(4,21)),new xy(22,new ky(12,11),new ky(4,12))),new t(14,Int32Array.from([6,26,46,66]),new xy(30,new ky(3,115),new ky(1,116)),new xy(24,new ky(4,40),new ky(5,41)),new xy(20,new ky(11,16),new ky(5,17)),new xy(24,new ky(11,12),new ky(5,13))),new t(15,Int32Array.from([6,26,48,70]),new xy(22,new ky(5,87),new ky(1,88)),new xy(24,new ky(5,41),new ky(5,42)),new xy(30,new ky(5,24),new ky(7,25)),new xy(24,new ky(11,12),new ky(7,13))),new t(16,Int32Array.from([6,26,50,74]),new xy(24,new ky(5,98),new ky(1,99)),new xy(28,new ky(7,45),new ky(3,46)),new xy(24,new ky(15,19),new ky(2,20)),new xy(30,new ky(3,15),new ky(13,16))),new t(17,Int32Array.from([6,30,54,78]),new xy(28,new ky(1,107),new ky(5,108)),new xy(28,new ky(10,46),new ky(1,47)),new xy(28,new ky(1,22),new ky(15,23)),new xy(28,new ky(2,14),new ky(17,15))),new t(18,Int32Array.from([6,30,56,82]),new xy(30,new ky(5,120),new ky(1,121)),new xy(26,new ky(9,43),new ky(4,44)),new xy(28,new ky(17,22),new ky(1,23)),new xy(28,new ky(2,14),new ky(19,15))),new t(19,Int32Array.from([6,30,58,86]),new xy(28,new ky(3,113),new ky(4,114)),new xy(26,new ky(3,44),new ky(11,45)),new xy(26,new ky(17,21),new ky(4,22)),new xy(26,new ky(9,13),new ky(16,14))),new t(20,Int32Array.from([6,34,62,90]),new xy(28,new ky(3,107),new ky(5,108)),new xy(26,new ky(3,41),new ky(13,42)),new xy(30,new ky(15,24),new ky(5,25)),new xy(28,new ky(15,15),new ky(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new xy(28,new ky(4,116),new ky(4,117)),new xy(26,new ky(17,42)),new xy(28,new ky(17,22),new ky(6,23)),new xy(30,new ky(19,16),new ky(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new xy(28,new ky(2,111),new ky(7,112)),new xy(28,new ky(17,46)),new xy(30,new ky(7,24),new ky(16,25)),new xy(24,new ky(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new xy(30,new ky(4,121),new ky(5,122)),new xy(28,new ky(4,47),new ky(14,48)),new xy(30,new ky(11,24),new ky(14,25)),new xy(30,new ky(16,15),new ky(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new xy(30,new ky(6,117),new ky(4,118)),new xy(28,new ky(6,45),new ky(14,46)),new xy(30,new ky(11,24),new ky(16,25)),new xy(30,new ky(30,16),new ky(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new xy(26,new ky(8,106),new ky(4,107)),new xy(28,new ky(8,47),new ky(13,48)),new xy(30,new ky(7,24),new ky(22,25)),new xy(30,new ky(22,15),new ky(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new xy(28,new ky(10,114),new ky(2,115)),new xy(28,new ky(19,46),new ky(4,47)),new xy(28,new ky(28,22),new ky(6,23)),new xy(30,new ky(33,16),new ky(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new xy(30,new ky(8,122),new ky(4,123)),new xy(28,new ky(22,45),new ky(3,46)),new xy(30,new ky(8,23),new ky(26,24)),new xy(30,new ky(12,15),new ky(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new xy(30,new ky(3,117),new ky(10,118)),new xy(28,new ky(3,45),new ky(23,46)),new xy(30,new ky(4,24),new ky(31,25)),new xy(30,new ky(11,15),new ky(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new xy(30,new ky(7,116),new ky(7,117)),new xy(28,new ky(21,45),new ky(7,46)),new xy(30,new ky(1,23),new ky(37,24)),new xy(30,new ky(19,15),new ky(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new xy(30,new ky(5,115),new ky(10,116)),new xy(28,new ky(19,47),new ky(10,48)),new xy(30,new ky(15,24),new ky(25,25)),new xy(30,new ky(23,15),new ky(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new xy(30,new ky(13,115),new ky(3,116)),new xy(28,new ky(2,46),new ky(29,47)),new xy(30,new ky(42,24),new ky(1,25)),new xy(30,new ky(23,15),new ky(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new xy(30,new ky(17,115)),new xy(28,new ky(10,46),new ky(23,47)),new xy(30,new ky(10,24),new ky(35,25)),new xy(30,new ky(19,15),new ky(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new xy(30,new ky(17,115),new ky(1,116)),new xy(28,new ky(14,46),new ky(21,47)),new xy(30,new ky(29,24),new ky(19,25)),new xy(30,new ky(11,15),new ky(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new xy(30,new ky(13,115),new ky(6,116)),new xy(28,new ky(14,46),new ky(23,47)),new xy(30,new ky(44,24),new ky(7,25)),new xy(30,new ky(59,16),new ky(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new xy(30,new ky(12,121),new ky(7,122)),new xy(28,new ky(12,47),new ky(26,48)),new xy(30,new ky(39,24),new ky(14,25)),new xy(30,new ky(22,15),new ky(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new xy(30,new ky(6,121),new ky(14,122)),new xy(28,new ky(6,47),new ky(34,48)),new xy(30,new ky(46,24),new ky(10,25)),new xy(30,new ky(2,15),new ky(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new xy(30,new ky(17,122),new ky(4,123)),new xy(28,new ky(29,46),new ky(14,47)),new xy(30,new ky(49,24),new ky(10,25)),new xy(30,new ky(24,15),new ky(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new xy(30,new ky(4,122),new ky(18,123)),new xy(28,new ky(13,46),new ky(32,47)),new xy(30,new ky(48,24),new ky(14,25)),new xy(30,new ky(42,15),new ky(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new xy(30,new ky(20,117),new ky(4,118)),new xy(28,new ky(40,47),new ky(7,48)),new xy(30,new ky(43,24),new ky(22,25)),new xy(30,new ky(10,15),new ky(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new xy(30,new ky(19,118),new ky(6,119)),new xy(28,new ky(18,47),new ky(31,48)),new xy(30,new ky(34,24),new ky(34,25)),new xy(30,new ky(20,15),new ky(61,16)))],t}();const By=Ly;var Fy;!function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"}(Fy||(Fy={}));var Vy=function(){function t(t,e){this.value=t,this.isMasked=e}return t.prototype.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},t.values=new Map([[Fy.DATA_MASK_000,new t(Fy.DATA_MASK_000,(function(t,e){return 0===(t+e&1)}))],[Fy.DATA_MASK_001,new t(Fy.DATA_MASK_001,(function(t,e){return 0===(1&t)}))],[Fy.DATA_MASK_010,new t(Fy.DATA_MASK_010,(function(t,e){return e%3===0}))],[Fy.DATA_MASK_011,new t(Fy.DATA_MASK_011,(function(t,e){return(t+e)%3===0}))],[Fy.DATA_MASK_100,new t(Fy.DATA_MASK_100,(function(t,e){return 0===(Math.floor(t/2)+Math.floor(e/3)&1)}))],[Fy.DATA_MASK_101,new t(Fy.DATA_MASK_101,(function(t,e){return t*e%6===0}))],[Fy.DATA_MASK_110,new t(Fy.DATA_MASK_110,(function(t,e){return t*e%6<3}))],[Fy.DATA_MASK_111,new t(Fy.DATA_MASK_111,(function(t,e){return 0===(t+e+t*e%3&1)}))]]),t}();const Uy=Vy;var jy=function(){function t(t){var e=t.getHeight();if(e<21||1!==(3&e))throw new Md;this.bitMatrix=t}return t.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);var r=this.bitMatrix.getHeight(),o=0,i=r-7;for(n=r-1;n>=i;n--)o=this.copyBit(8,n,o);for(e=r-8;e<r;e++)o=this.copyBit(e,8,o);if(this.parsedFormatInfo=Ry.decodeFormatInformation(t,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Md},t.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return By.getVersionForNumber(e);for(var n=0,r=t-11,o=5;o>=0;o--)for(var i=t-9;i>=r;i--)n=this.copyBit(i,o,n);var a=By.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;n=0;for(i=5;i>=0;i--)for(o=t-9;o>=r;o--)n=this.copyBit(i,o,n);if(null!==(a=By.decodeVersionInformation(n))&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new Md},t.prototype.copyBit=function(t,e,n){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?n<<1|1:n<<1},t.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=Uy.values.get(t.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var o=e.buildFunctionPattern(),i=!0,a=new Uint8Array(e.getTotalCodewords()),s=0,u=0,l=0,c=r-1;c>0;c-=2){6===c&&c--;for(var h=0;h<r;h++)for(var f=i?r-1-h:h,d=0;d<2;d++)o.get(c-d,f)||(l++,u<<=1,this.bitMatrix.get(c-d,f)&&(u|=1),8===l&&(a[s++]=u,l=0,u=0));i=!i}if(s!==e.getTotalCodewords())throw new Md;return a},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=Uy.values.get(this.parsedFormatInfo.getDataMask()),e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},t.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},t.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,n=t.getWidth();e<n;e++)for(var r=e+1,o=t.getHeight();r<o;r++)t.get(e,r)!==t.get(r,e)&&(t.flip(r,e),t.flip(e,r))},t}();const zy=jy;var Hy=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gy=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n,r){var o,i,a,s;if(e.length!==n.getTotalCodewords())throw new dd;var u=n.getECBlocksForLevel(r),l=0,c=u.getECBlocks();try{for(var h=Hy(c),f=h.next();!f.done;f=h.next()){l+=(y=f.value).getCount()}}catch(N){o={error:N}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var d=new Array(l),p=0;try{for(var g=Hy(c),m=g.next();!m.done;m=g.next())for(var y=m.value,v=0;v<y.getCount();v++){var w=y.getDataCodewords(),E=u.getECCodewordsPerBlock()+w;d[p++]=new t(w,new Uint8Array(E))}}catch(R){a={error:R}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var C=d[0].codewords.length,_=d.length-1;_>=0;){if(d[_].codewords.length===C)break;_--}_++;var b=C-u.getECCodewordsPerBlock(),A=0;for(v=0;v<b;v++)for(var S=0;S<p;S++)d[S].codewords[v]=e[A++];for(S=_;S<p;S++)d[S].codewords[b]=e[A++];var I=d[0].codewords.length;for(v=b;v<I;v++)for(S=0;S<p;S++){var T=S<_?v:v+1;d[S].codewords[T]=e[A++]}return d},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();const Wy=Gy;var Xy;!function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"}(Xy||(Xy={}));var $y=function(){function t(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,t.FOR_BITS.set(o,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(void 0===n)throw new dd;return n},t.prototype.getCharacterCountBits=function(t){var e,n=t.getVersionNumber();return e=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[e]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Xy.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Xy.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Xy.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Xy.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Xy.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Xy.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Xy.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Xy.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Xy.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Xy.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}();const qy=$y;var Ky=function(){function t(){}return t.decode=function(e,n,r,o){var i=new dy(e),a=new zd,s=new Array,u=-1,l=-1;try{var c=null,h=!1,f=void 0;do{if(i.available()<4)f=qy.TERMINATOR;else{var d=i.readBits(4);f=qy.forBits(d)}switch(f){case qy.TERMINATOR:break;case qy.FNC1_FIRST_POSITION:case qy.FNC1_SECOND_POSITION:h=!0;break;case qy.STRUCTURED_APPEND:if(i.available()<16)throw new Md;u=i.readBits(8),l=i.readBits(8);break;case qy.ECI:var p=t.parseECIValue(i);if(null===(c=Bd.getCharacterSetECIByValue(p)))throw new Md;break;case qy.HANZI:var g=i.readBits(4),m=i.readBits(f.getCharacterCountBits(n));g===t.GB2312_SUBSET&&t.decodeHanziSegment(i,a,m);break;default:var y=i.readBits(f.getCharacterCountBits(n));switch(f){case qy.NUMERIC:t.decodeNumericSegment(i,a,y);break;case qy.ALPHANUMERIC:t.decodeAlphanumericSegment(i,a,y,h);break;case qy.BYTE:t.decodeByteSegment(i,a,y,c,s,o);break;case qy.KANJI:t.decodeKanjiSegment(i,a,y);break;default:throw new Md}}}while(f!==qy.TERMINATOR)}catch(v){throw new Md}return new gp(e,a.toString(),0===s.length?null:s,null===r?null:r.toString(),u,l)},t.decodeHanziSegment=function(t,e,n){if(13*n>t.available())throw new Md;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=t.readBits(13),a=i/96<<8&4294967295|i%96;a+=a<959?41377:42657,r[o]=a>>8&255,r[o+1]=255&a,o+=2,n--}try{e.append(Ud.decode(r,jd.GB2312))}catch(s){throw new Md(s)}},t.decodeKanjiSegment=function(t,e,n){if(13*n>t.available())throw new Md;for(var r=new Uint8Array(2*n),o=0;n>0;){var i=t.readBits(13),a=i/192<<8&4294967295|i%192;a+=a<7936?33088:49472,r[o]=a>>8,r[o+1]=a,o+=2,n--}try{e.append(Ud.decode(r,jd.SHIFT_JIS))}catch(s){throw new Md(s)}},t.decodeByteSegment=function(t,e,n,r,o,i){if(8*n>t.available())throw new Md;for(var a,s=new Uint8Array(n),u=0;u<n;u++)s[u]=t.readBits(8);a=null===r?jd.guessEncoding(s,i):r.getName();try{e.append(Ud.decode(s,a))}catch(l){throw new Md(l)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Md;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,o){for(var i=n.length();r>1;){if(e.available()<11)throw new Md;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(e.available()<6)throw new Md;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(o)for(var s=i;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new Md;var o=e.readBits(10);if(o>=1e3)throw new Md;n.append(t.toAlphaNumericChar(Math.floor(o/100))),n.append(t.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(t.toAlphaNumericChar(o%10)),r-=3}if(2===r){if(e.available()<7)throw new Md;var i=e.readBits(7);if(i>=100)throw new Md;n.append(t.toAlphaNumericChar(Math.floor(i/10))),n.append(t.toAlphaNumericChar(i%10))}else if(1===r){if(e.available()<4)throw new Md;var a=e.readBits(4);if(a>=10)throw new Md;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(t){var e=t.readBits(8);if(0===(128&e))return 127&e;if(128===(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192===(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new Md},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}();const Yy=Ky;const Qy=function(){function t(t){this.mirrored=t}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},t}();var Zy=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jy=function(){function t(){this.rsDecoder=new Op(Ap.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(Gd.parseFromBooleanArray(t),e)},t.prototype.decodeBitMatrix=function(t,e){var n=new zy(t),r=null;try{return this.decodeBitMatrixParser(n,e)}catch(IC){r=IC}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,e);return o.setOther(new Qy(!0)),o}catch(IC){if(null!==r)throw r;throw IC}},t.prototype.decodeBitMatrixParser=function(t,e){var n,r,o,i,a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),l=Wy.getDataBlocks(u,a,s),c=0;try{for(var h=Zy(l),f=h.next();!f.done;f=h.next()){c+=(y=f.value).getNumDataCodewords()}}catch(C){n={error:C}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var d=new Uint8Array(c),p=0;try{for(var g=Zy(l),m=g.next();!m.done;m=g.next()){var y,v=(y=m.value).getCodewords(),w=y.getNumDataCodewords();this.correctErrors(v,w);for(var E=0;E<w;E++)d[p++]=v[E]}}catch(_){o={error:_}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}return Yy.decode(d,a,s,e)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(o){throw new md}for(var r=0;r<e;r++)t[r]=n[r]},t}();const tv=Jy;var ev=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nv=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.estimatedModuleSize=r,o}return ev(e,t),e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){return new e((this.getX()+n)/2,(this.getY()+t)/2,(this.estimatedModuleSize+r)/2)},e}(Fp);const rv=nv;var ov=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iv=function(){function t(t,e,n,r,o,i,a){this.image=t,this.startX=e,this.startY=n,this.width=r,this.height=o,this.moduleSize=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var t=this.startX,e=this.height,n=t+this.width,r=this.startY+e/2,o=new Int32Array(3),i=this.image,a=0;a<e;a++){var s=r+(0===(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=t;u<n&&!i.get(u,s);)u++;for(var l=0;u<n;){if(i.get(u,s))if(1===l)o[1]++;else if(2===l){var c;if(this.foundPatternCross(o))if(null!==(c=this.handlePossibleCenter(o,s,u)))return c;o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else 1===l&&l++,o[l]++;u++}if(this.foundPatternCross(o))if(null!==(c=this.handlePossibleCenter(o,s,n)))return c}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Xd},t.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},t.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,o){var i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!i.get(n,u)&&s[2]<=r;)s[2]++,u++;if(s[2]>r)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-o)>=2*o?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var o,i,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(u)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=ov(this.possibleCenters),h=c.next();!h.done;h=c.next()){var f=h.value;if(f.aboutEquals(l,u,s))return f.combineEstimate(u,s,l)}}catch(p){o={error:p}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}var d=new rv(s,u,l);this.possibleCenters.push(d),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},t}();const av=iv;var sv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uv=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.estimatedModuleSize=r,i.count=o,void 0===o&&(i.count=1),i}return sv(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){var o=this.count+1;return new e((this.count*this.getX()+n)/o,(this.count*this.getY()+t)/o,(this.count*this.estimatedModuleSize+r)/o,o)},e}(Fp);const lv=uv;const cv=function(){function t(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}();var hv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fv=function(){function t(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=null!==e&&void 0!==e&&void 0!==e.get(Dd.TRY_HARDER),r=null!==e&&void 0!==e&&void 0!==e.get(Dd.PURE_BARCODE),o=this.image,i=o.getHeight(),a=o.getWidth(),s=Math.floor(3*i/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=s-1;c<i&&!u;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var h=0,f=0;f<a;f++)if(o.get(f,c))1===(1&h)&&h++,l[h]++;else if(0===(1&h))if(4===h)if(t.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,c,f,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;continue}if(s=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();d>l[2]&&(c+=d-l[2]-s,f=a-1)}h=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,h=3;else l[++h]++;else l[h]++;if(t.foundPatternCross(l))!0===this.handlePossibleCenter(l,c,a,r)&&(s=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return Fp.orderBestPatterns(p),new cv(p)},t.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},t.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0===r)return!1;e+=r}if(e<7)return!1;var o=e/7,i=o/2;return Math.abs(o-t[0])<i&&Math.abs(o-t[1])<i&&Math.abs(3*o-t[2])<3*i&&Math.abs(o-t[3])<i&&Math.abs(o-t[4])<i},t.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},t.prototype.crossCheckDiagonal=function(e,n,r,o){for(var i=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)i[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&i[1]<=r;)i[1]++,a++;if(e<a||n<a||i[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;var u=s.getHeight(),l=s.getWidth();for(a=1;e+a<u&&n+a<l&&s.get(n+a,e+a);)i[2]++,a++;if(e+a>=u||n+a>=l)return!1;for(;e+a<u&&n+a<l&&!s.get(n+a,e+a)&&i[3]<r;)i[3]++,a++;if(e+a>=u||n+a>=l||i[3]>=r)return!1;for(;e+a<u&&n+a<l&&s.get(n+a,e+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;var c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-o)<2*o&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,n,r,o){for(var i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(n,u)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-o)>=2*o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,o){for(var i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&i.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&i.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&i.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!i.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&i.get(u,n)&&s[4]<r;)s[4]++,u++;if(s[4]>=r)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-o)>=o?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,o){var i=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],i),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],i)))){for(var u=i/7,l=!1,c=this.possibleCenters,h=0,f=c.length;h<f;h++){var d=c[h];if(d.aboutEquals(u,s,a)){c[h]=d.combineEstimate(s,a,u),l=!0;break}}if(!l){var p=new lv(a,s,u);c.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var o=hv(this.possibleCenters),i=o.next();!i.done;i=o.next()){var a=i.value;if(a.getCount()>=t.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);r=a}}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,o,i=0,a=0,s=this.possibleCenters.length;try{for(var u=hv(this.possibleCenters),l=u.next();!l.done;l=u.next()){(p=l.value).getCount()>=t.CENTER_QUORUM&&(i++,a+=p.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(i<3)return!1;var c=a/s,h=0;try{for(var f=hv(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value;h+=Math.abs(p.getEstimatedModuleSize()-c)}}catch(m){r={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return h<=.05*a},t.prototype.selectBestPatterns=function(){var t,e,n,r,o=this.possibleCenters.length;if(o<3)throw new Xd;var i,a=this.possibleCenters;if(o>3){var s=0,u=0;try{for(var l=hv(this.possibleCenters),c=l.next();!c.done;c=l.next()){var h=c.value.getEstimatedModuleSize();s+=h,u+=h*h}}catch(v){t={error:v}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}i=s/o;var f=Math.sqrt(u/o-i*i);a.sort((function(t,e){var n=Math.abs(e.getEstimatedModuleSize()-i),r=Math.abs(t.getEstimatedModuleSize()-i);return n<r?-1:n>r?1:0}));for(var d=Math.max(.2*i,f),p=0;p<a.length&&a.length>3;p++){var g=a[p];Math.abs(g.getEstimatedModuleSize()-i)>d&&(a.splice(p,1),p--)}}if(a.length>3){s=0;try{for(var m=hv(a),y=m.next();!y.done;y=m.next()){s+=y.value.getEstimatedModuleSize()}}catch(w){n={error:w}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}i=s/a.length,a.sort((function(t,e){if(e.getCount()===t.getCount()){var n=Math.abs(e.getEstimatedModuleSize()-i),r=Math.abs(t.getEstimatedModuleSize()-i);return n<r?1:n>r?-1:0}return e.getCount()-t.getCount()})),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}();const dv=fv;var pv=function(){function t(t){this.image=t}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(t){this.resultPointCallback=null===t||void 0===t?null:t.get(Dd.NEED_RESULT_POINT_CALLBACK);var e=new dv(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),i=this.calculateModuleSize(n,r,o);if(i<1)throw new Xd("No pattern found in proccess finder.");var a=t.computeDimension(n,r,o,i),s=By.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),f=1-3/u,d=Math.floor(n.getX()+f*(c-n.getX())),p=Math.floor(n.getY()+f*(h-n.getY())),g=4;g<=16;g<<=1)try{l=this.findAlignmentInRegion(i,d,p,g);break}catch(ui){if(!(ui instanceof Xd))throw ui}var m=t.createTransform(n,r,o,l,a),y=t.sampleGrid(this.image,m,a);return new Vp(y,null===l?[o,n,r]:[o,n,r,l])},t.createTransform=function(t,e,n,r,o){var i,a,s,u,l=o-3.5;return null!==r?(i=r.getX(),a=r.getY(),u=s=l-3):(i=e.getX()-t.getX()+n.getX(),a=e.getY()-t.getY()+n.getY(),s=l,u=l),$p.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,s,u,3.5,l,t.getX(),t.getY(),e.getX(),e.getY(),i,a,n.getX(),n.getY())},t.sampleGrid=function(t,e,n){return Qp.getInstance().sampleGridWithTransform(t,n,n,e)},t.computeDimension=function(t,e,n,r){var o=Pp.round(Fp.distance(t,e)/r),i=Pp.round(Fp.distance(t,n)/r),a=Math.floor((o+i)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new Xd("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},t.prototype.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var o=this.sizeOfBlackWhiteBlackRun(t,e,n,r),i=1,a=t-(n-t);a<0?(i=t/(t-a),a=0):a>=this.image.getWidth()&&(i=(this.image.getWidth()-1-t)/(a-t),a=this.image.getWidth()-1);var s=Math.floor(e-(r-e)*i);return i=1,s<0?(i=e/(e-s),s=0):s>=this.image.getHeight()&&(i=(this.image.getHeight()-1-e)/(s-e),s=this.image.getHeight()-1),a=Math.floor(t+(a-t)*i),(o+=this.sizeOfBlackWhiteBlackRun(t,e,a,s))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var o=Math.abs(r-e)>Math.abs(n-t);if(o){var i=t;t=e,e=i,i=n,n=r,r=i}for(var a=Math.abs(n-t),s=Math.abs(r-e),u=-a/2,l=t<n?1:-1,c=e<r?1:-1,h=0,f=n+l,d=t,p=e;d!==f;d+=l){var g=o?p:d,m=o?d:p;if(1===h===this.image.get(g,m)){if(2===h)return Pp.distance(d,p,t,e);h++}if((u+=s)>0){if(p===r)break;p+=c,u-=a}}return 2===h?Pp.distance(n+l,r,t,e):NaN},t.prototype.findAlignmentInRegion=function(t,e,n,r){var o=Math.floor(r*t),i=Math.max(0,e-o),a=Math.min(this.image.getWidth()-1,e+o);if(a-i<3*t)throw new Xd("Alignment top exceeds estimated module size.");var s=Math.max(0,n-o),u=Math.min(this.image.getHeight()-1,n+o);if(u-s<3*t)throw new Xd("Alignment bottom exceeds estimated module size.");return new av(this.image,i,s,a-i,u-s,t,this.resultPointCallback).find()},t}();const gv=pv;var mv=function(){function t(){this.decoder=new tv}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,o;if(void 0!==n&&null!==n&&void 0!==n.get(Dd.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,n),o=t.NO_POINTS}else{var a=new gv(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),o=a.getPoints()}r.getOther()instanceof Qy&&r.getOther().applyMirroredCorrection(o);var s=new cp(r.getText(),r.getRawBytes(),void 0,o,fp.QR_CODE,void 0),u=r.getByteSegments();null!==u&&s.putMetadata(pp.BYTE_SEGMENTS,u);var l=r.getECLevel();return null!==l&&s.putMetadata(pp.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(s.putMetadata(pp.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(pp.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null===e||null===n)throw new Xd;var r=this.moduleSize(e,t),o=e[1],i=n[1],a=e[0],s=n[0];if(a>=s||o>=i)throw new Xd;if(i-o!==s-a&&(s=a+(i-o))>=t.getWidth())throw new Xd;var u=Math.round((s-a+1)/r),l=Math.round((i-o+1)/r);if(u<=0||l<=0)throw new Xd;if(l!==u)throw new Xd;var c=Math.floor(r/2);o+=c;var h=(a+=c)+Math.floor((u-1)*r)-s;if(h>0){if(h>c)throw new Xd;a-=h}var f=o+Math.floor((l-1)*r)-i;if(f>0){if(f>c)throw new Xd;o-=f}for(var d=new Gd(u,l),p=0;p<l;p++)for(var g=o+Math.floor(p*r),m=0;m<u;m++)t.get(a+Math.floor(m*r),g)&&d.set(m,p);return d},t.moduleSize=function(t,e){for(var n=e.getHeight(),r=e.getWidth(),o=t[0],i=t[1],a=!0,s=0;o<r&&i<n;){if(a!==e.get(o,i)){if(5===++s)break;a=!a}o++,i++}if(o===r||i===n)throw new Xd;return(o-t[0])/7},t.NO_POINTS=new Array,t}();const yv=mv;var vv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wv=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(t){return Pp.sum(t)},t.toIntArray=function(e){var n,r;if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var o=new Int32Array(e.length),i=0;try{for(var a=vv(e),s=a.next();!s.done;s=a.next()){var u=s.value;o[i++]=u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},t.getCodeword=function(e){var n=Sd.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}();const Ev=wv;const Cv=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();var _v=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bv=function(){function t(){}return t.detectMultiple=function(e,n,r){var o=e.getBlackMatrix(),i=t.detect(r,o);return i.length||((o=o.clone()).rotate180(),i=t.detect(r,o)),new Cv(o,i)},t.detect=function(e,n){for(var r,o,i=new Array,a=0,s=0,u=!1;a<n.getHeight();){var l=t.findVertices(n,a,s);if(null!=l[0]||null!=l[3]){if(u=!0,i.push(l),!e)break;null!=l[2]?(s=Math.trunc(l[2].getX()),a=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY()))}else{if(!u)break;u=!1,s=0;try{for(var c=(r=void 0,_v(i)),h=c.next();!h.done;h=c.next()){var f=h.value;null!=f[1]&&(a=Math.trunc(Math.max(a,f[1].getY()))),null!=f[3]&&(a=Math.max(a,Math.trunc(f[3].getY())))}}catch(d){r={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}a+=t.ROW_STEP}}return i},t.findVertices=function(e,n,r){var o=e.getHeight(),i=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,o,i,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r]},t.findRowsWithPattern=function(e,n,r,o,i,a){for(var s=new Array(4),u=!1,l=new Int32Array(a.length);o<n;o+=t.ROW_STEP){if(null!=(d=t.findGuardPattern(e,i,o,r,!1,a,l))){for(;o>0;){if(null==(f=t.findGuardPattern(e,i,--o,r,!1,a,l))){o++;break}d=f}s[0]=new Fp(d[0],o),s[1]=new Fp(d[1],o),u=!0;break}}var c=o+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);c<n;c++){var d;if(null!=(d=t.findGuardPattern(e,f[0],c,r,!1,a,l))&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}c-=h+1,s[2]=new Fp(f[0],c),s[3]=new Fp(f[1],c)}return c-o<t.BARCODE_MIN_HEIGHT&&Sd.fill(s,null),s},t.findGuardPattern=function(e,n,r,o,i,a,s){Sd.fillWithin(s,0,s.length,0);for(var u=n,l=0;e.get(u,r)&&u>0&&l++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,h=0,f=a.length,d=i;c<o;c++){if(e.get(c,r)!==d)s[h]++;else{if(h===f-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],vd.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,d=!d}}return h===f-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(t,e,n){for(var r=t.length,o=0,i=0,a=0;a<r;a++)o+=t[a],i+=e[a];if(o<i)return 1/0;var s=o/i;n*=s;for(var u=0,l=0;l<r;l++){var c=t[l],h=e[l]*s,f=c>h?c-h:h-c;if(f>n)return 1/0;u+=f}return u/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}();const Av=bv;var Sv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iv=function(){function t(t,e){if(0===e.length)throw new dd;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),vd.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){var e,n;if(0===t)return this.getCoefficient(0);if(1===t){var r=0;try{for(var o=Sv(this.coefficients),i=o.next();!i.done;i=o.next()){var a=i.value;r=this.field.add(r,a)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}for(var s=this.coefficients[0],u=this.coefficients.length,l=1;l<u;l++)s=this.field.add(this.field.multiply(t,s),this.coefficients[l]);return s},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new dd("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var o=n;n=r,r=o}var i=new Int32Array(r.length),a=r.length-n.length;vd.arraycopy(r,0,i,0,a);for(var s=a;s<r.length;s++)i[s]=this.field.add(n[s-a],r[s]);return new t(this.field,i)},t.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new dd("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new dd("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,o=e.coefficients,i=o.length,a=new Int32Array(r+i-1),s=0;s<r;s++)for(var u=n[s],l=0;l<i;l++)a[s+l]=this.field.add(a[s+l],this.field.multiply(u,o[l]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,r=new Int32Array(n),o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new dd;if(0===n)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,o=new Int32Array(r+e),i=0;i<r;i++)o[i]=this.field.multiply(this.coefficients[i],n);return new t(this.field,o)},t.prototype.toString=function(){for(var t=new zd,e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);0!==n&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),0!==e&&1===n||t.append(n),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},t}();const Tv=Iv;var Nv=function(){function t(){}return t.prototype.add=function(t,e){return(t+e)%this.modulus},t.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new dd;return this.logTable[t]},t.prototype.inverse=function(t){if(0===t)throw new Cp;return this.expTable[this.modulus-this.logTable[t]-1]},t.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(t){return t===this},t}();const Rv=Nv;var Ov=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dv=function(t){function e(e,n){var r=t.call(this)||this;r.modulus=e,r.expTable=new Int32Array(e),r.logTable=new Int32Array(e);for(var o=1,i=0;i<e;i++)r.expTable[i]=o,o=o*n%e;for(i=0;i<e-1;i++)r.logTable[r.expTable[i]]=i;return r.zero=new Tv(r,new Int32Array([0])),r.one=new Tv(r,new Int32Array([1])),r}return Ov(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new dd;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new Tv(this,n)},e.PDF417_GF=new e(Ev.NUMBER_OF_CODEWORDS,3),e}(Rv);const xv=Dv;var Mv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kv=function(){function t(){this.field=xv.PDF417_GF}return t.prototype.decode=function(t,e,n){for(var r,o,i=new Tv(this.field,t),a=new Int32Array(e),s=!1,u=e;u>0;u--){var l=i.evaluateAt(this.field.exp(u));a[e-u]=l,0!==l&&(s=!0)}if(!s)return 0;var c=this.field.getOne();if(null!=n)try{for(var h=Mv(n),f=h.next();!f.done;f=h.next()){var d=f.value,p=this.field.exp(t.length-1-d),g=new Tv(this.field,new Int32Array([this.field.subtract(0,p),1]));c=c.multiply(g)}}catch(b){r={error:b}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var m=new Tv(this.field,a),y=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),m,e),v=y[0],w=y[1],E=this.findErrorLocations(v),C=this.findErrorMagnitudes(w,v,E);for(u=0;u<E.length;u++){var _=t.length-1-this.field.log(E[u]);if(_<0)throw md.getChecksumInstance();t[_]=this.field.subtract(t[_],C[u])}return E.length},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var o=t,i=e,a=this.field.getZero(),s=this.field.getOne();i.getDegree()>=Math.round(n/2);){var u=o,l=a;if(a=s,(o=i).isZero())throw md.getChecksumInstance();i=u;for(var c=this.field.getZero(),h=o.getCoefficient(o.getDegree()),f=this.field.inverse(h);i.getDegree()>=o.getDegree()&&!i.isZero();){var d=i.getDegree()-o.getDegree(),p=this.field.multiply(i.getCoefficient(i.getDegree()),f);c=c.add(this.field.buildMonomial(d,p)),i=i.subtract(o.multiplyByMonomial(d,p))}s=c.multiply(a).subtract(l).negative()}var g=s.getCoefficient(0);if(0===g)throw md.getChecksumInstance();var m=this.field.inverse(g);return[s.multiply(m),i.multiply(m)]},t.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),n=new Int32Array(e),r=0,o=1;o<this.field.getSize()&&r<e;o++)0===t.evaluateAt(o)&&(n[r]=this.field.inverse(o),r++);if(r!==e)throw md.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(t,e,n){for(var r=e.getDegree(),o=new Int32Array(r),i=1;i<=r;i++)o[r-i]=this.field.multiply(i,e.getCoefficient(i));var a=new Tv(this.field,o),s=n.length,u=new Int32Array(s);for(i=0;i<s;i++){var l=this.field.inverse(n[i]),c=this.field.subtract(0,t.evaluateAt(l)),h=this.field.inverse(a.evaluateAt(l));u[i]=this.field.multiply(c,h)}return u},t}();const Pv=kv;const Lv=function(){function t(e,n,r,o,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,o,i)}return t.prototype.constructor_1=function(t,e,n,r,o){var i=null==e||null==n,a=null==r||null==o;if(i&&a)throw new Xd;i?(e=new Fp(0,r.getY()),n=new Fp(0,o.getY())):a&&(r=new Fp(t.getWidth()-1,e.getY()),o=new Fp(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=e,this.bottomLeft=n,this.topRight=r,this.bottomRight=o,this.minX=Math.trunc(Math.min(e.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),o.getX())),this.minY=Math.trunc(Math.min(e.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},t.merge=function(e,n){return null==e?n:null==n?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var o=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,l=Math.trunc(u.getY()-e);l<0&&(l=0);var c=new Fp(u.getX(),l);r?o=c:a=c}if(n>0){var h=r?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var d=new Fp(h.getX(),f);r?i=d:s=d}return new t(this.image,o,i,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}();const Bv=function(){function t(t,e,n,r){this.columnCount=t,this.errorCorrectionLevel=r,this.rowCountUpperPart=e,this.rowCountLowerPart=n,this.rowCount=e+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}();const Fv=function(){function t(){this.buffer=""}return t.form=function(t,e){var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,r,o,i,a,s){if("%%"===t)return"%";if(void 0!==e[++n]){t=i?parseInt(i.substr(1)):void 0;var u,l=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=e[n];break;case"c":u=e[n][0];break;case"f":u=parseFloat(e[n]).toFixed(t);break;case"p":u=parseFloat(e[n]).toPrecision(t);break;case"e":u=parseFloat(e[n]).toExponential(t);break;case"x":u=parseInt(e[n]).toString(l||16);break;case"d":u=parseFloat(parseInt(e[n],l||10).toPrecision(t)).toFixed(0)}u="object"===typeof u?JSON.stringify(u):(+u).toString(l);for(var c=parseInt(o),h=o&&o[0]+""==="0"?"0":" ";u.length<c;)u=void 0!==r?u+h:h+u;return u}}))},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}();var Vv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uv=function(){function t(t){this.boundingBox=new Lv(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&null!=(n=this.codewords[o]))return n;if((o=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(n=this.codewords[o]))return n}return null},t.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},t.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},t.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var t,e,n=new Fv,r=0;try{for(var o=Vv(this.codewords),i=o.next();!i.done;i=o.next()){var a=i.value;null!=a?n.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue()):n.format("%3d:    |   %n",r++)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}();const jv=Uv;var zv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hv=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Gv=function(){function t(){this.values=new Map}return t.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},t.prototype.getValue=function(){var t,e,n=-1,r=new Array,o=function(t,e){var o=function(){return t},i=function(){return e};i()>n?(n=i(),(r=[]).push(o())):i()===n&&r.push(o())};try{for(var i=zv(this.values.entries()),a=i.next();!a.done;a=i.next()){var s=Hv(a.value,2);o(s[0],s[1])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return Ev.toIntArray(r)},t.prototype.getConfidence=function(t){return this.values.get(t)},t}();const Wv=Gv;var Xv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$v=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qv=function(t){function e(e,n){var r=t.call(this,e)||this;return r._isLeft=n,r}return Xv(e,t),e.prototype.setRowNumbers=function(){var t,e;try{for(var n=$v(this.getCodewords()),r=n.next();!r.done;r=n.next()){var o=r.value;null!=o&&o.setRowNumberAsRowIndicatorColumn()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),s=-1,u=1,l=0,c=i;c<a;c++)if(null!=e[c]){var h=e[c],f=h.getRowNumber()-s;if(0===f)l++;else if(1===f)u=Math.max(u,l),l=1,s=h.getRowNumber();else if(f<0||h.getRowNumber()>=t.getRowCount()||f>c)e[c]=null;else{for(var d=void 0,p=(d=u>2?(u-2)*f:f)>=c,g=1;g<=d&&!p;g++)p=null!=e[c-g];p?e[c]=null:(s=h.getRowNumber(),l=1)}}},e.prototype.getRowHeights=function(){var t,e,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var o=$v(this.getCodewords()),i=o.next();!i.done;i=o.next()){var a=i.value;if(null!=a){var s=a.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var e=this.getBoundingBox(),n=this._isLeft?e.getTopLeft():e.getTopRight(),r=this._isLeft?e.getBottomLeft():e.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,u=1,l=0,c=o;c<i;c++)if(null!=a[c]){var h=a[c];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-s;0===f?l++:1===f?(u=Math.max(u,l),l=1,s=h.getRowNumber()):h.getRowNumber()>=t.getRowCount()?a[c]=null:(s=h.getRowNumber(),l=1)}},e.prototype.getBarcodeMetadata=function(){var t,e,n=this.getCodewords(),r=new Wv,o=new Wv,i=new Wv,a=new Wv;try{for(var s=$v(n),u=s.next();!u.done;u=s.next()){var l=u.value;if(null!=l){l.setRowNumberAsRowIndicatorColumn();var c=l.getValue()%30,h=l.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(3*c+1);break;case 1:a.setValue(c/3),i.setValue(c%3);break;case 2:r.setValue(c+1)}}}}catch(d){t={error:d}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}if(0===r.getValue().length||0===o.getValue().length||0===i.getValue().length||0===a.getValue().length||r.getValue()[0]<1||o.getValue()[0]+i.getValue()[0]<Ev.MIN_ROWS_IN_BARCODE||o.getValue()[0]+i.getValue()[0]>Ev.MAX_ROWS_IN_BARCODE)return null;var f=new Bv(r.getValue()[0],o.getValue()[0],i.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(n,f),f},e.prototype.removeIncorrectCodewords=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(null!=t[n]){var o=r.getValue()%30,i=r.getRowNumber();if(i>e.getRowCount())t[n]=null;else switch(this._isLeft||(i+=2),i%3){case 0:3*o+1!==e.getRowCountUpperPart()&&(t[n]=null);break;case 1:Math.trunc(o/3)===e.getErrorCorrectionLevel()&&o%3===e.getRowCountLowerPart()||(t[n]=null);break;case 2:o+1!==e.getColumnCount()&&(t[n]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+t.prototype.toString.call(this)},e}(jv);const Kv=qv;var Yv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qv=function(){function t(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=Ev.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var n=this.detectionResultColumns[e].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,n));return t},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(null!=t[n]&&null!=e[n]&&t[n].getRowNumber()===e[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o&&(o.setRowNumber(t[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=this.barcodeColumnCount+1;a>0&&i<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var o=n[r].getRowNumber(),i=0,a=1;a<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(i=t.adjustRowNumberIfValid(o,i,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(t,e,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),e=0):++e),e},t.prototype.adjustRowNumbers=function(e,n,r){var o,i;if(null!=this.detectionResultColumns[e-1]){var a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),u=s;null!=this.detectionResultColumns[e+1]&&(u=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[n],l[3]=u[n],n>0&&(l[0]=r[n-1],l[4]=s[n-1],l[5]=u[n-1]),n>1&&(l[8]=r[n-2],l[10]=s[n-2],l[11]=u[n-2]),n<r.length-1&&(l[1]=r[n+1],l[6]=s[n+1],l[7]=u[n+1]),n<r.length-2&&(l[9]=r[n+2],l[12]=s[n+2],l[13]=u[n+2]);try{for(var c=Yv(l),h=c.next();!h.done;h=c.next()){var f=h.value;if(t.adjustRowNumber(a,f))return}}catch(d){o={error:d}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}},t.adjustRowNumber=function(t,e){return null!=e&&(!(!e.hasValidRowNumber()||e.getBucket()!==t.getBucket())&&(t.setRowNumber(e.getRowNumber()),!0))},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(t){this.boundingBox=t},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},t.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},t.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new Fv,n=0;n<t.getCodewords().length;n++){e.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var o=this.detectionResultColumns[r].getCodewords()[n];null!=o?e.format(" %3d|%3d",o.getRowNumber(),o.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()},t}();const Zv=Qv;const Jv=function(){function t(e,n,r,o){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(t){this.rowNumber=t},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}();var tw=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ev.SYMBOL_TABLE.length;e++)for(var n=Ev.SYMBOL_TABLE[e],r=1&n,o=0;o<Ev.BARS_IN_MODULE;o++){for(var i=0;(1&n)===r;)i+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ev.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ev.BARS_IN_MODULE-o-1]=Math.fround(i/Ev.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return-1!==n?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(t){for(var e=Pp.sum(t),n=new Int32Array(Ev.BARS_IN_MODULE),r=0,o=0,i=0;i<Ev.MODULES_IN_CODEWORD;i++){var a=e/(2*Ev.MODULES_IN_CODEWORD)+i*e/Ev.MODULES_IN_CODEWORD;o+t[r]<=a&&(o+=t[r],r++),n[r]++}return n},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return-1===Ev.getCodeword(n)?-1:n},t.getBitValue=function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n];r++)e=e<<1|(n%2===0?1:0);return Math.trunc(e)},t.getClosestDecodedValue=function(e){var n=Pp.sum(e),r=new Array(Ev.BARS_IN_MODULE);if(n>1)for(var o=0;o<r.length;o++)r[o]=Math.fround(e[o]/n);var i=Lp.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,l=t.RATIOS_TABLE[s],c=0;c<Ev.BARS_IN_MODULE;c++){var h=Math.fround(l[c]-r[c]);if((u+=Math.fround(h*h))>=i)break}u<i&&(i=u,a=Ev.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ev.SYMBOL_TABLE.length).map((function(t){return new Array(Ev.BARS_IN_MODULE)})),t}();const ew=tw;const nw=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(t){this.segmentIndex=t},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(t){this.fileId=t},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(t){this.optionalData=t},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(t){this.lastSegment=t},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(t){this.segmentCount=t},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(t){this.sender=t},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(t){this.addressee=t},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(t){this.fileName=t},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(t){this.fileSize=t},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(t){this.checksum=t},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(t){this.timestamp=t},t}();const rw=function(){function t(){}return t.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t}();var ow=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ow(e,t),e.kind="NullPointerException",e}(ld);var aw=function(){function t(){}return t.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},t.prototype.writeBytesOffset=function(t,e,n){if(null==t)throw new iw;if(e<0||e>t.length||n<0||e+n>t.length||e+n<0)throw new Ed;if(0!==n)for(var r=0;r<n;r++)this.write(t[e+r])},t.prototype.flush=function(){},t.prototype.close=function(){},t}();const sw=aw;var uw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uw(e,t),e}(ld);var cw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hw=function(t){function e(e){void 0===e&&(e=32);var n=t.call(this)||this;if(n.count=0,e<0)throw new dd("Negative initial size: "+e);return n.buf=new Uint8Array(e),n}return cw(e,t),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new lw;e=Td.MAX_VALUE}this.buf=Sd.copyOfUint8Array(this.buf,e)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,e,n){if(e<0||e>t.length||n<0||e+n-t.length>0)throw new Ed;this.ensureCapacity(this.count+n),vd.arraycopy(t,e,this.buf,this.count,n),this.count+=n},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Sd.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?"string"===typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(sw);const fw=hw;var dw,pw;function gw(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function mw(t){if("undefined"===typeof pw&&(pw=gw()),null===pw)throw new Error("BigInt is not supported!");return pw(t)}!function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(dw||(dw={}));var yw=function(){function t(){}return t.decode=function(e,n){var r=new zd(""),o=Bd.ISO8859_1;r.enableDecoding(o);for(var i=1,a=e[i++],s=new nw;i<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(a,e,o,i,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,r);break;case t.ECI_CHARSET:Bd.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Md;default:i--,i=t.textCompaction(e,i,r)}if(!(i<e.length))throw Md.getFormatInstance();a=e[i++]}if(0===r.length())throw Md.getFormatInstance();var u=new gp(null,r.toString(),null,n);return u.setOther(s),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Md.getFormatInstance();for(var o=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,n++)o[i]=e[n];r.setSegmentIndex(Td.parseInt(t.decodeBase900toBase10(o,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new zd;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new zd;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new zd;n=t.textCompaction(e,n+1,l),r.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new zd;n=t.textCompaction(e,n+1,c),r.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new zd;n=t.numericCompaction(e,n+1,h),r.setSegmentCount(Td.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new zd;n=t.numericCompaction(e,n+1,f),r.setTimestamp(rw.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new zd;n=t.numericCompaction(e,n+1,d),r.setChecksum(Td.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new zd;n=t.numericCompaction(e,n+1,p),r.setFileSize(rw.parseLong(p.toString()));break;default:throw Md.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw Md.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(Sd.copyOfRange(e,s,s+g))}return n},t.textCompaction=function(e,n,r){for(var o=new Int32Array(2*(e[0]-n)),i=new Int32Array(2*(e[0]-n)),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)o[a]=u/30,o[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:o[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],i[a]=u,a++}}return t.decodeTextCompaction(o,i,a,r),n},t.decodeTextCompaction=function(e,n,r,o){for(var i=dw.ALPHA,a=dw.ALPHA,s=0;s<r;){var u=e[s],l="";switch(i){case dw.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.LL:i=dw.LOWER;break;case t.ML:i=dw.MIXED;break;case t.PS:a=i,i=dw.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}break;case dw.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case t.AS:a=i,i=dw.ALPHA_SHIFT;break;case t.ML:i=dw.MIXED;break;case t.PS:a=i,i=dw.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}break;case dw.MIXED:if(u<t.PL)l=t.MIXED_CHARS[u];else switch(u){case t.PL:i=dw.PUNCT;break;case 26:l=" ";break;case t.LL:i=dw.LOWER;break;case t.AL:i=dw.ALPHA;break;case t.PS:a=i,i=dw.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}break;case dw.PUNCT:if(u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=dw.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}break;case dw.ALPHA_SHIFT:if(i=a,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}break;case dw.PUNCT_SHIFT:if(i=a,u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:i=dw.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=dw.ALPHA}}""!==l&&o.append(l),s++}},t.byteCompaction=function(e,n,r,o,i){var a=new fw,s=0,u=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),h=n[o++];o<n[0]&&!l;)switch(c[s++]=h,u=900*u+h,h=n[o++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,l=!0;break;default:if(s%5===0&&s>0){for(var f=0;f<6;++f)a.write(Number(mw(u)>>mw(8*(5-f))));u=0,s=0}}o===n[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=h);for(var d=0;d<s;d++)a.write(c[d]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!l;){var p=n[o++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:o--,l=!0}if(s%5===0&&s>0){for(f=0;f<6;++f)a.write(Number(mw(u)>>mw(8*(5-f))));u=0,s=0}}}return i.append(Ud.decode(a.toByteArray(),r)),o},t.numericCompaction=function(e,n,r){for(var o=0,i=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!i;){var s=e[n++];if(n===e[0]&&(i=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[o]=s,o++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,i=!0}(o%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&o>0&&(r.append(t.decodeBase900toBase10(a,o)),o=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=mw(0),o=0;o<n;o++)r+=t.EXP900[n-o-1]*mw(e[o]);var i=r.toString();if("1"!==i.charAt(0))throw new Md;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",t.EXP900=gw()?function(){var t=[];t[0]=mw(1);var e=mw(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}();const vw=yw;var ww=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ew=function(){function t(){}return t.decode=function(e,n,r,o,i,a,s){for(var u,l=new Lv(e,n,r,o,i),c=null,h=null,f=!0;;f=!1){if(null!=n&&(c=t.getRowIndicatorColumn(e,l,n,!0,a,s)),null!=o&&(h=t.getRowIndicatorColumn(e,l,o,!1,a,s)),null==(u=t.merge(c,h)))throw Xd.getNotFoundInstance();var d=u.getBoundingBox();if(!f||null==d||!(d.getMinY()<l.getMinY()||d.getMaxY()>l.getMaxY()))break;l=d}u.setBoundingBox(l);var p=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,c),u.setDetectionResultColumn(p,h);for(var g=null!=c,m=1;m<=p;m++){var y=g?m:p-m;if(void 0===u.getDetectionResultColumn(y)){var v=void 0;v=0===y||y===p?new Kv(l,0===y):new jv(l),u.setDetectionResultColumn(y,v);for(var w=-1,E=w,C=l.getMinY();C<=l.getMaxY();C++){if((w=t.getStartColumn(u,y,C,g))<0||w>l.getMaxX()){if(-1===E)continue;w=E}var _=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,w,C,a,s);null!=_&&(v.setCodeword(C,_),E=w,a=Math.min(a,_.getWidth()),s=Math.max(s,_.getWidth()))}}}return t.createDecoderResult(u)},t.merge=function(e,n){if(null==e&&null==n)return null;var r=t.getBarcodeMetadata(e,n);if(null==r)return null;var o=Lv.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new Zv(r,o)},t.adjustBoundingBox=function(e){var n,r;if(null==e)return null;var o=e.getRowHeights();if(null==o)return null;var i=t.getMax(o),a=0;try{for(var s=ww(o),u=s.next();!u.done;u=s.next()){var l=u.value;if(a+=i-l,l>0)break}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var c=e.getCodewords(),h=0;a>0&&null==c[h];h++)a--;var f=0;for(h=o.length-1;h>=0&&(f+=i-o[h],!(o[h]>0));h--);for(h=c.length-1;f>0&&null==c[h];h--)f--;return e.getBoundingBox().addMissingRows(a,f,e.isLeft())},t.getMax=function(t){var e,n,r=-1;try{for(var o=ww(t),i=o.next();!i.done;i=o.next()){var a=i.value;r=Math.max(r,a)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.getBarcodeMetadata=function(t,e){var n,r;return null==t||null==(n=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(r=e.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,n,r,o,i,a){for(var s=new Kv(n,o),u=0;u<2;u++)for(var l=0===u?1:-1,c=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=l){var f=t.detectCodeword(e,0,e.getWidth(),o,c,h,i,a);null!=f&&(s.setCodeword(h,f),c=o?f.getStartX():f.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],o=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===o.length){if(i<1||i>Ev.MAX_CODEWORDS_IN_BARCODE)throw Xd.getNotFoundInstance();r.setValue(i)}else o[0]!==i&&r.setValue(i)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var l=n[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;0===l.length?r.push(c):1===l.length?o[c]=l[0]:(a.push(c),i.push(l))}for(var h=new Array(i.length),f=0;f<h.length;f++)h[f]=i[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Ev.toIntArray(r),Ev.toIntArray(a),h)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,o,i){for(var a=new Int32Array(o.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[o[u]]=i[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(l){if(!(l instanceof md))throw l}if(0===a.length)throw md.getChecksumInstance();for(u=0;u<a.length;u++){if(a[u]<i[u].length-1){a[u]++;break}if(a[u]=0,u===a.length-1)throw md.getChecksumInstance()}}throw md.getChecksumInstance()},t.createBarcodeMatrix=function(t){for(var e,n,r,o,i=Array.from({length:t.getBarcodeRowCount()},(function(){return new Array(t.getBarcodeColumnCount()+2)})),a=0;a<i.length;a++)for(var s=0;s<i[a].length;s++)i[a][s]=new Wv;var u=0;try{for(var l=ww(t.getDetectionResultColumns()),c=l.next();!c.done;c=l.next()){var h=c.value;if(null!=h)try{for(var f=(r=void 0,ww(h.getCodewords())),d=f.next();!d.done;d=f.next()){var p=d.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=i.length)continue;i[g][u].setValue(p.getValue())}}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}u++}}catch(y){e={error:y}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return i},t.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,o){var i,a,s=o?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodeword(r)),null!=u)return o?u.getEndX():u.getStartX();if(null!=(u=e.getDetectionResultColumn(n).getCodewordNearby(r)))return o?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=u)return o?u.getEndX():u.getStartX();for(var l=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var c=(i=void 0,ww(e.getDetectionResultColumn(n).getCodewords())),h=c.next();!h.done;h=c.next()){var f=h.value;if(null!=f)return(o?f.getEndX():f.getStartX())+s*l*(f.getEndX()-f.getStartX())}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}l++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,o,i,a,s,u){i=t.adjustCodewordStartColumn(e,n,r,o,i,a);var l,c=t.getModuleBitCount(e,n,r,o,i,a);if(null==c)return null;var h=Pp.sum(c);if(o)l=i+h;else{for(var f=0;f<c.length/2;f++){var d=c[f];c[f]=c[c.length-1-f],c[c.length-1-f]=d}i=(l=i)-h}if(!t.checkCodewordSkew(h,s,u))return null;var p=ew.getDecodedValue(c),g=Ev.getCodeword(p);return-1===g?null:new Jv(i,l,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(t,e,n,r,o,i){for(var a=o,s=new Int32Array(8),u=0,l=r?1:-1,c=r;(r?a<n:a>=e)&&u<s.length;)t.get(a,i)===c?(s[u]++,a+=l):(u++,c=!c);return u===s.length||a===(r?n:e)&&u===s.length-1?s:null},t.getNumberOfECCodeWords=function(t){return 2<<t},t.adjustCodewordStartColumn=function(e,n,r,o,i,a){for(var s=i,u=o?-1:1,l=0;l<2;l++){for(;(o?s>=n:s<r)&&o===e.get(s,a);){if(Math.abs(i-s)>t.CODEWORD_SKEW_SIZE)return i;s+=u}u=-u,o=!o}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(0===e.length)throw Md.getFormatInstance();var o=1<<n+1,i=t.correctErrors(e,r,o);t.verifyCodewordCount(e,o);var a=vw.decode(e,""+n);return a.setErrorsCorrected(i),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(null!=n&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw md.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(t,e){if(t.length<4)throw Md.getFormatInstance();var n=t[0];if(n>t.length)throw Md.getFormatInstance();if(0===n){if(!(e<t.length))throw Md.getFormatInstance();t[0]=t.length-e}},t.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),n=0,r=e.length-1;!((1&t)!==n&&(n=1&t,--r<0));)e[r]++,t>>=1;return e},t.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},t.toString=function(t){for(var e=new Fv,n=0;n<t.length;n++){e.format("Row %2d: ",n);for(var r=0;r<t[n].length;r++){var o=t[n][r];0===o.getValue().length?e.format("        ",null):e.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}e.format("%n")}return e.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Pv,t}();const Cw=Ew;var _w=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bw=function(){function t(){}return t.prototype.decode=function(e,n){void 0===n&&(n=null);var r=t.decode(e,n,!1);if(null==r||0===r.length||null==r[0])throw Xd.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){void 0===n&&(n=null);try{return t.decode(e,n,!0)}catch(r){if(r instanceof Md||r instanceof md)throw Xd.getNotFoundInstance();throw r}},t.decode=function(e,n,r){var o,i,a=new Array,s=Av.detectMultiple(e,n,r);try{for(var u=_w(s.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,h=Cw.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),f=new cp(h.getText(),h.getRawBytes(),void 0,c,fp.PDF_417);f.putMetadata(pp.ERROR_CORRECTION_LEVEL,h.getECLevel());var d=h.getOther();null!=d&&f.putMetadata(pp.PDF417_EXTRA_METADATA,d),a.push(f)}}catch(p){o={error:p}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return a.map((function(t){return t}))},t.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMinWidth=function(t,e){return null==t||null==e?Td.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ev.MODULES_IN_CODEWORD/Ev.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ev.MODULES_IN_CODEWORD/Ev.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ev.MODULES_IN_CODEWORD/Ev.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ev.MODULES_IN_CODEWORD/Ev.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}();const Aw=bw;var Sw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sw(e,t),e.kind="ReaderException",e}(ld);var Tw=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nw=function(){function t(){}return t.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},t.prototype.decodeWithState=function(t){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(t)},t.prototype.setHints=function(t){this.hints=t;var e=null!==t&&void 0!==t&&void 0!==t.get(Dd.TRY_HARDER),n=null===t||void 0===t?null:t.get(Dd.POSSIBLE_FORMATS),r=new Array;if(null!==n&&void 0!==n){var o=n.some((function(t){return t===fp.UPC_A||t===fp.UPC_E||t===fp.EAN_13||t===fp.EAN_8||t===fp.CODABAR||t===fp.CODE_39||t===fp.CODE_93||t===fp.CODE_128||t===fp.ITF||t===fp.RSS_14||t===fp.RSS_EXPANDED}));o&&!e&&r.push(new ey(t)),n.includes(fp.QR_CODE)&&r.push(new yv),n.includes(fp.DATA_MATRIX)&&r.push(new by),n.includes(fp.AZTEC)&&r.push(new eg),n.includes(fp.PDF_417)&&r.push(new Aw),o&&e&&r.push(new ey(t))}0===r.length&&(e||r.push(new ey(t)),r.push(new yv),r.push(new by),r.push(new eg),r.push(new Aw),e&&r.push(new ey(t))),this.readers=r},t.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var n=Tw(this.readers),r=n.next();!r.done;r=n.next()){r.value.reset()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.decodeInternal=function(t){var e,n;if(null===this.readers)throw new Iw("No readers where selected, nothing can be read.");try{for(var r=Tw(this.readers),o=r.next();!o.done;o=r.next()){var i=o.value;try{return i.decode(t,this.hints)}catch(a){if(a instanceof Iw)continue}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}throw new Xd("No MultiFormat Readers were able to detect the code.")},t}();const Rw=Nw;var Ow,Dw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xw=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=500);var r=new Rw;return r.setHints(e),t.call(this,r,n)||this}return Dw(e,t),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(lp),Mw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kw=(function(t){function e(e){return void 0===e&&(e=500),t.call(this,new Aw,e)||this}Mw(e,t)}(lp),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(t){function e(e){return void 0===e&&(e=500),t.call(this,new yv,e)||this}kw(e,t)}(lp);!function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"}(Ow||(Ow={}));const Pw=Ow;const Lw=function(){function t(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new wp(t,Int32Array.from([1])))}return t.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var n=e[e.length-1],r=this.field,o=e.length;o<=t;o++){var i=n.multiply(new wp(r,Int32Array.from([1,r.exp(o-1+r.getGeneratorBase())])));e.push(i),n=i}return e[t]},t.prototype.encode=function(t,e){if(0===e)throw new dd("No error correction bytes");var n=t.length-e;if(n<=0)throw new dd("No data bytes provided");var r=this.buildGenerator(e),o=new Int32Array(n);vd.arraycopy(t,0,o,0,n);for(var i=new wp(this.field,o),a=(i=i.multiplyByMonomial(e,1)).divide(r)[1].getCoefficients(),s=e-a.length,u=0;u<s;u++)t[n+u]=0;vd.arraycopy(a,0,t,n+s,a.length)},t}();var Bw=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i-1;a++)for(var s=r[a],u=0;u<o-1;u++){var l=s[u];l===s[u+1]&&l===r[a+1][u]&&l===r[a+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=0;s<o;s++){var u=r[a];s+6<o&&1===u[s]&&0===u[s+1]&&1===u[s+2]&&1===u[s+3]&&1===u[s+4]&&0===u[s+5]&&1===u[s+6]&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<i&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(t,e,n){e=Math.max(e,0),n=Math.min(n,t.length);for(var r=e;r<n;r++)if(1===t[r])return!1;return!0},t.isWhiteVertical=function(t,e,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var o=n;o<r;o++)if(1===t[o][e])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),o=e.getWidth(),i=e.getHeight(),a=0;a<i;a++)for(var s=r[a],u=0;u<o;u++)1===s[u]&&n++;var l=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-l)/l)*t.N4},t.getDataMaskBit=function(t,e,n){var r,o;switch(t){case 0:r=n+e&1;break;case 1:r=1&n;break;case 2:r=e%3;break;case 3:r=(n+e)%3;break;case 4:r=Math.floor(n/2)+Math.floor(e/3)&1;break;case 5:r=(1&(o=n*e))+o%3;break;case 6:r=(1&(o=n*e))+o%3&1;break;case 7:r=(o=n*e)%3+(n+e&1)&1;break;default:throw new dd("Invalid mask pattern: "+t)}return 0===r},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,o=n?e.getHeight():e.getWidth(),i=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<o;s++){for(var u=0,l=-1,c=0;c<i;c++){var h=n?a[s][c]:a[c][s];h===l?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,l=h)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}();const Fw=Bw;var Vw=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uw=function(){function t(t,e){this.width=t,this.height=e;for(var n=new Array(e),r=0;r!==e;r++)n[r]=new Uint8Array(t);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(t,e){return this.bytes[e][t]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(t,e,n){this.bytes[e][t]=n},t.prototype.setBoolean=function(t,e,n){this.bytes[e][t]=n?1:0},t.prototype.clear=function(t){var e,n;try{for(var r=Vw(this.bytes),o=r.next();!o.done;o=r.next()){var i=o.value;Sd.fill(i,t)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,o=this.height;r<o;++r)for(var i=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(i[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var t=new zd,e=0,n=this.height;e<n;++e){for(var r=this.bytes[e],o=0,i=this.width;o<i;++o)switch(r[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},t}();const jw=Uw;var zw=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var t=new zd;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},t.prototype.setMode=function(t){this.mode=t},t.prototype.setECLevel=function(t){this.ecLevel=t},t.prototype.setVersion=function(t){this.version=t},t.prototype.setMaskPattern=function(t){this.maskPattern=t},t.prototype.setMatrix=function(t){this.matrix=t},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}();const Hw=zw;var Gw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gw(e,t),e.kind="WriterException",e}(ld);var Xw=function(){function t(){}return t.clearMatrix=function(t){t.clear(255)},t.buildMatrix=function(e,n,r,o,i){t.clearMatrix(i),t.embedBasicPatterns(r,i),t.embedTypeInfo(n,o,i),t.maybeEmbedVersionInfo(r,i),t.embedDataBits(e,o,i)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var o=new Rd;t.makeTypeInfoBits(e,n,o);for(var i=0,a=o.getSize();i<a;++i){var s=o.get(o.getSize()-1-i),u=t.TYPE_INFO_COORDINATES[i],l=u[0],c=u[1];if(r.setBoolean(l,c,s),i<8){var h=r.getWidth()-i-1,f=8;r.setBoolean(h,f,s)}else{h=8,f=r.getHeight()-7+(i-8);r.setBoolean(h,f,s)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new Rd;t.makeVersionInfoBits(e,r);for(var o=17,i=0;i<6;++i)for(var a=0;a<3;++a){var s=r.get(o);o--,n.setBoolean(i,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,i,s)}}},t.embedDataBits=function(e,n,r){for(var o=0,i=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var l=a-u;if(t.isEmpty(r.get(l,s))){var c=void 0;o<e.getSize()?(c=e.get(o),++o):c=!1,255!==n&&Fw.getDataMaskBit(n,l,s)&&(c=!c),r.setBoolean(l,s,c)}}s+=i}s+=i=-i,a-=2}if(o!==e.getSize())throw new Ww("Not all bits consumed: "+o+"/"+e.getSize())},t.findMSBSet=function(t){return 32-Td.numberOfLeadingZeros(t)},t.calculateBCHCode=function(e,n){if(0===n)throw new dd("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!Hw.isValidMaskPattern(n))throw new Ww("Invalid mask pattern");var o=e.getBits()<<3|n;r.appendBits(o,5);var i=t.calculateBCHCode(o,t.TYPE_INFO_POLY);r.appendBits(i,10);var a=new Rd;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new Ww("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new Ww("should not happen but we got: "+n.getSize())},t.isEmpty=function(t){return 255===t},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new Ww;t.setNumber(8,t.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var o=0;o<8;++o){if(!t.isEmpty(r.get(e+o,n)))throw new Ww;r.setNumber(e+o,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var o=0;o<7;++o){if(!t.isEmpty(r.get(e,n+o)))throw new Ww;r.setNumber(e,n+o,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var o=0;o<5;++o)for(var i=t.POSITION_ADJUSTMENT_PATTERN[o],a=0;a<5;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var o=0;o<7;++o)for(var i=t.POSITION_DETECTION_PATTERN[o],a=0;a<7;++a)r.setNumber(e+a,n+o,i[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e);t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,o=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],i=0,a=o.length;i!==a;i++){var s=o[i];if(s>=0)for(var u=0;u!==a;u++){var l=o[u];l>=0&&t.isEmpty(n.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}();const $w=Xw;const qw=function(){function t(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}();var Kw=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yw=function(){function t(){}return t.calculateMaskPenalty=function(t){return Fw.applyMaskPenaltyRule1(t)+Fw.applyMaskPenaltyRule2(t)+Fw.applyMaskPenaltyRule3(t)+Fw.applyMaskPenaltyRule4(t)},t.encode=function(e,n,r){void 0===r&&(r=null);var o=t.DEFAULT_BYTE_MODE_ENCODING,i=null!==r&&void 0!==r.get(Pw.CHARACTER_SET);i&&(o=r.get(Pw.CHARACTER_SET).toString());var a=this.chooseMode(e,o),s=new Rd;if(a===qy.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==o)){var u=Bd.getCharacterSetECIByName(o);void 0!==u&&this.appendECI(u,s)}this.appendModeInfo(a,s);var l,c=new Rd;if(this.appendBytes(e,a,c,o),null!==r&&void 0!==r.get(Pw.QR_VERSION)){var h=Number.parseInt(r.get(Pw.QR_VERSION).toString(),10);l=By.getVersionForNumber(h);var f=this.calculateBitsNeeded(a,s,c,l);if(!this.willFit(f,l,n))throw new Ww("Data too big for requested version")}else l=this.recommendVersion(n,a,s,c);var d=new Rd;d.appendBitArray(s);var p=a===qy.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(p,l,a,d),d.appendBitArray(c);var g=l.getECBlocksForLevel(n),m=l.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,d);var y=this.interleaveWithECBytes(d,l.getTotalCodewords(),m,g.getNumBlocks()),v=new Hw;v.setECLevel(n),v.setMode(a),v.setVersion(l);var w=l.getDimensionForVersion(),E=new jw(w,w),C=this.chooseMaskPattern(y,n,l,E);return v.setMaskPattern(C),$w.buildMatrix(y,n,l,C,E),v.setMatrix(E),v},t.recommendVersion=function(t,e,n,r){var o=this.calculateBitsNeeded(e,n,r,By.getVersionForNumber(1)),i=this.chooseVersion(o,t),a=this.calculateBitsNeeded(e,n,r,i);return this.chooseVersion(a,t)},t.calculateBitsNeeded=function(t,e,n,r){return e.getSize()+t.getCharacterCountBits(r)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(void 0===n&&(n=null),Bd.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return qy.KANJI;for(var r=!1,o=!1,i=0,a=e.length;i<a;++i){var s=e.charAt(i);if(t.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return qy.BYTE;o=!0}}return o?qy.ALPHANUMERIC:r?qy.NUMERIC:qy.BYTE},t.isOnlyDoubleByteKanji=function(t){var e;try{e=Ud.encode(t,Bd.SJIS)}catch(i){return!1}var n=e.length;if(n%2!==0)return!1;for(var r=0;r<n;r+=2){var o=255&e[r];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(t,e,n,r){for(var o=Number.MAX_SAFE_INTEGER,i=-1,a=0;a<Hw.NUM_MASK_PATTERNS;a++){$w.buildMatrix(t,e,n,a,r);var s=this.calculateMaskPenalty(r);s<o&&(o=s,i=a)}return i},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var o=By.getVersionForNumber(r);if(t.willFit(e,o,n))return o}throw new Ww("Data too big")},t.willFit=function(t,e,n){return e.getTotalCodewords()-e.getECBlocksForLevel(n).getTotalECCodewords()>=(t+7)/8},t.terminateBits=function(t,e){var n=8*t;if(e.getSize()>n)throw new Ww("data bits cannot fit in the QR Code"+e.getSize()+" > "+n);for(var r=0;r<4&&e.getSize()<n;++r)e.appendBit(!1);var o=7&e.getSize();if(o>0)for(r=o;r<8;r++)e.appendBit(!1);var i=t-e.getSizeInBytes();for(r=0;r<i;++r)e.appendBits(0===(1&r)?236:17,8);if(e.getSize()!==n)throw new Ww("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(t,e,n,r,o,i){if(r>=n)throw new Ww("Block ID too large");var a=t%n,s=n-a,u=Math.floor(t/n),l=u+1,c=Math.floor(e/n),h=c+1,f=u-c,d=l-h;if(f!==d)throw new Ww("EC bytes mismatch");if(n!==s+a)throw new Ww("RS blocks mismatch");if(t!==(c+f)*s+(h+d)*a)throw new Ww("Total bytes mismatch");r<s?(o[0]=c,i[0]=f):(o[0]=h,i[0]=d)},t.interleaveWithECBytes=function(e,n,r,o){var i,a,s,u;if(e.getSizeInBytes()!==r)throw new Ww("Number of bits and data bytes does not match");for(var l=0,c=0,h=0,f=new Array,d=0;d<o;++d){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,o,d,p,g);var m=p[0],y=new Uint8Array(m);e.toBytes(8*l,y,0,m);var v=t.generateECBytes(y,g[0]);f.push(new qw(y,v)),c=Math.max(c,m),h=Math.max(h,v.length),l+=p[0]}if(r!==l)throw new Ww("Data bytes does not match offset");var w=new Rd;for(d=0;d<c;++d)try{for(var E=(i=void 0,Kw(f)),C=E.next();!C.done;C=E.next()){d<(y=C.value.getDataBytes()).length&&w.appendBits(y[d],8)}}catch(A){i={error:A}}finally{try{C&&!C.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}for(d=0;d<h;++d)try{for(var _=(s=void 0,Kw(f)),b=_.next();!b.done;b=_.next()){d<(v=b.value.getErrorCorrectionBytes()).length&&w.appendBits(v[d],8)}}catch(S){s={error:S}}finally{try{b&&!b.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}if(n!==w.getSizeInBytes())throw new Ww("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(t,e){for(var n=t.length,r=new Int32Array(n+e),o=0;o<n;o++)r[o]=255&t[o];new Lw(Ap.QR_CODE_FIELD_256).encode(r,e);var i=new Uint8Array(e);for(o=0;o<e;o++)i[o]=r[n+o];return i},t.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},t.appendLengthInfo=function(t,e,n,r){var o=n.getCharacterCountBits(e);if(t>=1<<o)throw new Ww(t+" is bigger than "+((1<<o)-1));r.appendBits(t,o)},t.appendBytes=function(e,n,r,o){switch(n){case qy.NUMERIC:t.appendNumericBytes(e,r);break;case qy.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case qy.BYTE:t.append8BitBytes(e,r,o);break;case qy.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Ww("Invalid mode: "+n)}},t.getDigit=function(t){return t.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getDigit(e.charAt(o));if(o+2<r){var a=t.getDigit(e.charAt(o+1)),s=t.getDigit(e.charAt(o+2));n.appendBits(100*i+10*a+s,10),o+=3}else if(o+1<r){a=t.getDigit(e.charAt(o+1));n.appendBits(10*i+a,7),o+=2}else n.appendBits(i,4),o++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,o=0;o<r;){var i=t.getAlphanumericCode(e.charCodeAt(o));if(-1===i)throw new Ww;if(o+1<r){var a=t.getAlphanumericCode(e.charCodeAt(o+1));if(-1===a)throw new Ww;n.appendBits(45*i+a,11),o+=2}else n.appendBits(i,6),o++}},t.append8BitBytes=function(t,e,n){var r;try{r=Ud.encode(t,n)}catch(s){throw new Ww(s)}for(var o=0,i=r.length;o!==i;o++){var a=r[o];e.appendBits(a,8)}},t.appendKanjiBytes=function(t,e){var n;try{n=Ud.encode(t,Bd.SJIS)}catch(u){throw new Ww(u)}for(var r=n.length,o=0;o<r;o+=2){var i=(255&n[o])<<8&4294967295|255&n[o+1],a=-1;if(i>=33088&&i<=40956?a=i-33088:i>=57408&&i<=60351&&(a=i-49472),-1===a)throw new Ww("Invalid byte sequence");var s=192*(a>>8)+(255&a);e.appendBits(s,13)}},t.appendECI=function(t,e){e.appendBits(qy.ECI.getBits(),4),e.appendBits(t.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Bd.UTF8.getName(),t}();const Qw=Yw;!function(){function t(){}t.prototype.write=function(e,n,r,o){if(void 0===o&&(o=null),0===e.length)throw new dd("Found empty contents");if(n<0||r<0)throw new dd("Requested dimensions are too small: "+n+"x"+r);var i=Iy.L,a=t.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(Pw.ERROR_CORRECTION)&&(i=Iy.fromString(o.get(Pw.ERROR_CORRECTION).toString())),void 0!==o.get(Pw.MARGIN)&&(a=Number.parseInt(o.get(Pw.MARGIN).toString(),10)));var s=Qw.encode(e,i,o);return this.renderResult(s,n,r,a)},t.prototype.writeToDom=function(t,e,n,r,o){void 0===o&&(o=null),"string"===typeof t&&(t=document.querySelector(t));var i=this.write(e,n,r,o);t&&t.appendChild(i)},t.prototype.renderResult=function(t,e,n,r){var o=t.getMatrix();if(null===o)throw new Np;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,u=a+2*r,l=Math.max(e,s),c=Math.max(n,u),h=Math.min(Math.floor(l/s),Math.floor(c/u)),f=Math.floor((l-i*h)/2),d=Math.floor((c-a*h)/2),p=this.createSVGElement(l,c),g=0,m=d;g<a;g++,m+=h)for(var y=0,v=f;y<i;y++,v+=h)if(1===o.get(y,g)){var w=this.createSvgRectElement(v,m,h,h);p.appendChild(w)}return p},t.prototype.createSVGElement=function(e,n){var r=document.createElementNS(t.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r},t.prototype.createSvgRectElement=function(e,n,r,o){var i=document.createElementNS(t.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",o.toString()),i.setAttributeNS(null,"fill","#000000"),i},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg"}();const Zw=function(){function t(){}return t.prototype.encode=function(e,n,r,o,i){if(0===e.length)throw new dd("Found empty contents");if(n!==fp.QR_CODE)throw new dd("Can only encode QR_CODE, but got "+n);if(r<0||o<0)throw new dd("Requested dimensions are too small: "+r+"x"+o);var a=Iy.L,s=t.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(Pw.ERROR_CORRECTION)&&(a=Iy.fromString(i.get(Pw.ERROR_CORRECTION).toString())),void 0!==i.get(Pw.MARGIN)&&(s=Number.parseInt(i.get(Pw.MARGIN).toString(),10)));var u=Qw.encode(e,a,i);return t.renderResult(u,r,o,s)},t.renderResult=function(t,e,n,r){var o=t.getMatrix();if(null===o)throw new Np;for(var i=o.getWidth(),a=o.getHeight(),s=i+2*r,u=a+2*r,l=Math.max(e,s),c=Math.max(n,u),h=Math.min(Math.floor(l/s),Math.floor(c/u)),f=Math.floor((l-i*h)/2),d=Math.floor((c-a*h)/2),p=new Gd(l,c),g=0,m=d;g<a;g++,m+=h)for(var y=0,v=f;y<i;y++,v+=h)1===o.get(y,g)&&p.setRegion(v,m,h,h);return p},t.QUIET_ZONE_SIZE=4,t}();!function(){function t(){}t.prototype.encode=function(t,e,n,r,o){if(e!==fp.QR_CODE)throw new dd("No encoder available for format "+e);return(new Zw).encode(t,e,n,r,o)}}();var Jw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,o,i,a,s,u){var l=t.call(this,a,s)||this;if(l.yuvData=e,l.dataWidth=n,l.dataHeight=r,l.left=o,l.top=i,o+a>n||i+s>r)throw new dd("Crop rectangle does not fit within image data.");return u&&l.reverseHorizontal(a,s),l}Jw(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new dd("Requested row is outside the image: "+t);var n=this.getWidth();(null===e||void 0===e||e.length<n)&&(e=new Uint8ClampedArray(n));var r=(t+this.top)*this.dataWidth+this.left;return vd.arraycopy(this.yuvData,r,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;var n=t*e,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return vd.arraycopy(this.yuvData,o,r,0,n),r;for(var i=0;i<e;i++){var a=i*t;vd.arraycopy(this.yuvData,o,r,a,t),o+=this.dataWidth}return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,r,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*n),o=this.yuvData,i=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var s=a*t,u=0;u<t;u++){var l=255&o[i+u*e.THUMBNAIL_SCALE_FACTOR];r[s+u]=4278190080|65793*l}i+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return r},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,e){for(var n=this.yuvData,r=0,o=this.top*this.dataWidth+this.left;r<e;r++,o+=this.dataWidth)for(var i=o+t/2,a=o,s=o+t-1;a<i;a++,s--){var u=n[a];n[a]=n[s],n[s]=u}},e.prototype.invert=function(){return new np(this)},e.THUMBNAIL_SCALE_FACTOR=2}(tp);var tE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,o,i,a,s){var u=t.call(this,n,r)||this;if(u.dataWidth=o,u.dataHeight=i,u.left=a,u.top=s,4===e.BYTES_PER_ELEMENT){for(var l=n*r,c=new Uint8ClampedArray(l),h=0;h<l;h++){var f=e[h],d=f>>16&255,p=f>>7&510,g=255&f;c[h]=(d+p+g)/4&255}u.luminances=c}else u.luminances=e;if(void 0===o&&(u.dataWidth=n),void 0===i&&(u.dataHeight=r),void 0===a&&(u.left=0),void 0===s&&(u.top=0),u.left+n>u.dataWidth||u.top+r>u.dataHeight)throw new dd("Crop rectangle does not fit within image data.");return u}tE(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new dd("Requested row is outside the image: "+t);var n=this.getWidth();(null===e||void 0===e||e.length<n)&&(e=new Uint8ClampedArray(n));var r=(t+this.top)*this.dataWidth+this.left;return vd.arraycopy(this.luminances,r,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;var n=t*e,r=new Uint8ClampedArray(n),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return vd.arraycopy(this.luminances,o,r,0,n),r;for(var i=0;i<e;i++){var a=i*t;vd.arraycopy(this.luminances,o,r,a,t),o+=this.dataWidth}return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,o){return new e(this.luminances,r,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new np(this)}}(tp);var eE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const nE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eE(e,t),e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(Bd);const rE=function(){function t(){}return t.ISO_8859_1=Bd.ISO8859_1,t}();var oE=function(){function t(t,e,n){this.codewords=t,this.numcols=e,this.numrows=n,this.bits=new Uint8Array(e*n),Sd.fill(this.bits,2)}return t.prototype.getNumrows=function(){return this.numrows},t.prototype.getNumcols=function(){return this.numcols},t.prototype.getBits=function(){return this.bits},t.prototype.getBit=function(t,e){return 1===this.bits[e*this.numcols+t]},t.prototype.setBit=function(t,e,n){this.bits[e*this.numcols+t]=n?1:0},t.prototype.noBit=function(t,e){return 2===this.bits[e*this.numcols+t]},t.prototype.place=function(){var t=0,e=4,n=0;do{e===this.numrows&&0===n&&this.corner1(t++),e===this.numrows-2&&0===n&&this.numcols%4!==0&&this.corner2(t++),e===this.numrows-2&&0===n&&this.numcols%8===4&&this.corner3(t++),e===this.numrows+4&&2===n&&this.numcols%8===0&&this.corner4(t++);do{e<this.numrows&&n>=0&&this.noBit(n,e)&&this.utah(e,n,t++),e-=2,n+=2}while(e>=0&&n<this.numcols);e++,n+=3;do{e>=0&&n<this.numcols&&this.noBit(n,e)&&this.utah(e,n,t++),e+=2,n-=2}while(e<this.numrows&&n>=0);e+=3,n++}while(e<this.numrows||n<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},t.prototype.module=function(t,e,n,r){t<0&&(t+=this.numrows,e+=4-(this.numrows+4)%8),e<0&&(e+=this.numcols,t+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(n);o&=1<<8-r,this.setBit(e,t,0!==o)},t.prototype.utah=function(t,e,n){this.module(t-2,e-2,n,1),this.module(t-2,e-1,n,2),this.module(t-1,e-2,n,3),this.module(t-1,e-1,n,4),this.module(t-1,e,n,5),this.module(t,e-2,n,6),this.module(t,e-1,n,7),this.module(t,e,n,8)},t.prototype.corner1=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,1,t,2),this.module(this.numrows-1,2,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},t.prototype.corner2=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-4,t,4),this.module(0,this.numcols-3,t,5),this.module(0,this.numcols-2,t,6),this.module(0,this.numcols-1,t,7),this.module(1,this.numcols-1,t,8)},t.prototype.corner3=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},t.prototype.corner4=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,this.numcols-1,t,2),this.module(0,this.numcols-3,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-3,t,6),this.module(1,this.numcols-2,t,7),this.module(1,this.numcols-1,t,8)},t}();const iE=oE;var aE,sE,uE=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],lE=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],cE=(aE=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,(n*=2)>=256&&(n^=301);return{LOG:t,ALOG:e}}([],[]),aE.LOG),hE=aE.ALOG;!function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"}(sE||(sE={}));var fE="[)>\x1e05\x1d",dE="[)>\x1e06\x1d",pE="\x1e\x04",gE=function(){function t(){}return t.encodeECC200=function(t,e){if(t.length!==e.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var n=new zd;n.append(t);var r=e.getInterleavedBlockCount();if(1===r){var o=this.createECCBlock(t,e.getErrorCodewords());n.append(o)}else{for(var i=[],a=[],s=0;s<r;s++)i[s]=e.getDataLengthForInterleavedBlock(s+1),a[s]=e.getErrorLengthForInterleavedBlock(s+1);for(var u=0;u<r;u++){for(var l=new zd,c=u;c<e.getDataCapacity();c+=r)l.append(t.charAt(c));o=this.createECCBlock(l.toString(),a[u]);for(var h=0,f=u;f<a[u]*r;f+=r)n.setCharAt(e.getDataCapacity()+f,o.charAt(h++))}}return n.toString()},t.createECCBlock=function(t,e){for(var n=-1,r=0;r<uE.length;r++)if(uE[r]===e){n=r;break}if(n<0)throw new Error("Illegal number of error correction codewords specified: "+e);var o=lE[n],i=[];for(r=0;r<e;r++)i[r]=0;for(r=0;r<t.length;r++){for(var a=i[e-1]^t.charAt(r).charCodeAt(0),s=e-1;s>0;s--)0!==a&&0!==o[s]?i[s]=i[s-1]^hE[(cE[a]+cE[o[s]])%255]:i[s]=i[s-1];0!==a&&0!==o[0]?i[0]=hE[(cE[a]+cE[o[0]])%255]:i[0]=0}var u=[];for(r=0;r<e;r++)u[r]=i[e-r-1];return u.map((function(t){return String.fromCharCode(t)})).join("")},t}();const mE=gE;var yE=function(){function t(){}return t.prototype.getEncodingMode=function(){return 0},t.prototype.encode=function(t){if(ME.determineConsecutiveDigitCount(t.getMessage(),t.pos)>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var e=t.getCurrentChar(),n=ME.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(n!==this.getEncodingMode())switch(n){case 5:return t.writeCodeword(231),void t.signalEncoderChange(5);case 1:return t.writeCodeword(230),void t.signalEncoderChange(1);case 3:t.writeCodeword(238),t.signalEncoderChange(3);break;case 2:t.writeCodeword(239),t.signalEncoderChange(2);break;case 4:t.writeCodeword(240),t.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+n)}else ME.isExtendedASCII(e)?(t.writeCodeword(235),t.writeCodeword(e-128+1),t.pos++):(t.writeCodeword(e+1),t.pos++)}},t.prototype.encodeASCIIDigits=function(t,e){if(ME.isDigit(t)&&ME.isDigit(e))return 10*(t-48)+(e-48)+130;throw new Error("not digits: "+t+e)},t}(),vE=function(){function t(){}return t.prototype.getEncodingMode=function(){return 5},t.prototype.encode=function(t){var e=new zd;for(e.append(0);t.hasMoreCharacters();){var n=t.getCurrentChar();if(e.append(n),t.pos++,ME.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}var r=e.length()-1,o=t.getCodewordCount()+r+1;t.updateSymbolInfo(o);var i=t.getSymbolInfo().getDataCapacity()-o>0;if(t.hasMoreCharacters()||i)if(r<=249)e.setCharAt(0,jd.getCharAt(r));else{if(!(r<=1555))throw new Error("Message length not in valid ranges: "+r);e.setCharAt(0,jd.getCharAt(Math.floor(r/250)+249)),e.insert(1,jd.getCharAt(r%250))}var a=0;for(n=e.length();a<n;a++)t.writeCodeword(this.randomize255State(e.charAt(a).charCodeAt(0),t.getCodewordCount()+1))},t.prototype.randomize255State=function(t,e){var n=t+(149*e%255+1);return n<=255?n:n-256},t}(),wE=function(){function t(){}return t.prototype.getEncodingMode=function(){return 1},t.prototype.encodeMaximal=function(t){for(var e=new zd,n=0,r=t.pos,o=0;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,n=this.encodeChar(i,e),e.length()%3===0&&(r=t.pos,o=e.length())}if(o!==e.length()){var a=Math.floor(e.length()/3*2),s=Math.floor(t.getCodewordCount()+a+1);t.updateSymbolInfo(s);var u=t.getSymbolInfo().getDataCapacity()-s,l=Math.floor(e.length()%3);(2===l&&2!==u||1===l&&(n>3||1!==u))&&(t.pos=r)}e.length()>0&&t.writeCodeword(230),this.handleEOD(t,e)},t.prototype.encode=function(t){for(var e=new zd;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++;var r=this.encodeChar(n,e),o=2*Math.floor(e.length()/3),i=t.getCodewordCount()+o;t.updateSymbolInfo(i);var a=t.getSymbolInfo().getDataCapacity()-i;if(!t.hasMoreCharacters()){var s=new zd;for(e.length()%3===2&&2!==a&&(r=this.backtrackOneCharacter(t,e,s,r));e.length()%3===1&&(r>3||1!==a);)r=this.backtrackOneCharacter(t,e,s,r);break}if(e.length()%3===0)if(ME.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}this.handleEOD(t,e)},t.prototype.backtrackOneCharacter=function(t,e,n,r){var o=e.length(),i=e.toString().substring(0,o-r);e.setLengthToZero(),e.append(i),t.pos--;var a=t.getCurrentChar();return r=this.encodeChar(a,n),t.resetSymbolInfo(),r},t.prototype.writeNextTriplet=function(t,e){t.writeCodewords(this.encodeToCodewords(e.toString()));var n=e.toString().substring(3);e.setLengthToZero(),e.append(n)},t.prototype.handleEOD=function(t,e){var n=Math.floor(e.length()/3*2),r=e.length()%3,o=t.getCodewordCount()+n;t.updateSymbolInfo(o);var i=t.getSymbolInfo().getDataCapacity()-o;if(2===r){for(e.append("\0");e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254)}else if(1===i&&1===r){for(;e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254),t.pos--}else{if(0!==r)throw new Error("Unexpected case. Please report!");for(;e.length()>=3;)this.writeNextTriplet(t,e);(i>0||t.hasMoreCharacters())&&t.writeCodeword(254)}t.signalEncoderChange(0)},t.prototype.encodeChar=function(t,e){if(t===" ".charCodeAt(0))return e.append(3),1;if(t>="0".charCodeAt(0)&&t<="9".charCodeAt(0))return e.append(t-48+4),1;if(t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0))return e.append(t-65+14),1;if(t<" ".charCodeAt(0))return e.append(0),e.append(t),2;if(t<="/".charCodeAt(0))return e.append(1),e.append(t-33),2;if(t<="@".charCodeAt(0))return e.append(1),e.append(t-58+15),2;if(t<="_".charCodeAt(0))return e.append(1),e.append(t-91+22),2;if(t<=127)return e.append(2),e.append(t-96),2;e.append("1\x1e");var n=2;return n+=this.encodeChar(t-128,e)},t.prototype.encodeToCodewords=function(t){var e=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,n=e/256,r=e%256,o=new zd;return o.append(n),o.append(r),o.toString()},t}(),EE=function(){function t(){}return t.prototype.getEncodingMode=function(){return 4},t.prototype.encode=function(t){for(var e=new zd;t.hasMoreCharacters();){var n=t.getCurrentChar();if(this.encodeChar(n,e),t.pos++,e.length()>=4){t.writeCodewords(this.encodeToCodewords(e.toString()));var r=e.toString().substring(4);if(e.setLengthToZero(),e.append(r),ME.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}}e.append(jd.getCharAt(31)),this.handleEOD(t,e)},t.prototype.handleEOD=function(t,e){try{var n=e.length();if(0===n)return;if(1===n){t.updateSymbolInfo();var r=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=t.getRemainingCharacters();if(o>r&&(t.updateSymbolInfo(t.getCodewordCount()+1),r=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),o<=r&&r<=2)return}if(n>4)throw new Error("Count must not exceed 4");var i=n-1,a=this.encodeToCodewords(e.toString()),s=!t.hasMoreCharacters()&&i<=2;if(i<=2)t.updateSymbolInfo(t.getCodewordCount()+i),(r=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount())>=3&&(s=!1,t.updateSymbolInfo(t.getCodewordCount()+a.length));s?(t.resetSymbolInfo(),t.pos-=i):t.writeCodewords(a)}finally{t.signalEncoderChange(0)}},t.prototype.encodeChar=function(t,e){t>=" ".charCodeAt(0)&&t<="?".charCodeAt(0)?e.append(t):t>="@".charCodeAt(0)&&t<="^".charCodeAt(0)?e.append(jd.getCharAt(t-64)):ME.illegalCharacter(jd.getCharAt(t))},t.prototype.encodeToCodewords=function(t){var e=t.length;if(0===e)throw new Error("StringBuilder must not be empty");var n=(t.charAt(0).charCodeAt(0)<<18)+((e>=2?t.charAt(1).charCodeAt(0):0)<<12)+((e>=3?t.charAt(2).charCodeAt(0):0)<<6)+(e>=4?t.charAt(3).charCodeAt(0):0),r=n>>16&255,o=n>>8&255,i=255&n,a=new zd;return a.append(r),e>=2&&a.append(o),e>=3&&a.append(i),a.toString()},t}(),CE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_E=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bE=function(){function t(t,e,n,r,o,i,a,s){void 0===a&&(a=0),void 0===s&&(s=0),this.rectangular=t,this.dataCapacity=e,this.errorCodewords=n,this.matrixWidth=r,this.matrixHeight=o,this.dataRegions=i,this.rsBlockData=a,this.rsBlockError=s}return t.lookup=function(t,e,n,r,o){var i,a;void 0===e&&(e=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!0);try{for(var s=_E(IE),u=s.next();!u.done;u=s.next()){var l=u.value;if((1!==e||!l.rectangular)&&((2!==e||l.rectangular)&&(null==n||!(l.getSymbolWidth()<n.getWidth()||l.getSymbolHeight()<n.getHeight()))&&(null==r||!(l.getSymbolWidth()>r.getWidth()||l.getSymbolHeight()>r.getHeight()))&&t<=l.dataCapacity))return l}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},t}();const AE=bE;var SE=function(t){function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return CE(e,t),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(bE),IE=[new bE(!1,3,5,8,8,1),new bE(!1,5,7,10,10,1),new bE(!0,5,7,16,6,1),new bE(!1,8,10,12,12,1),new bE(!0,10,11,14,6,2),new bE(!1,12,12,14,14,1),new bE(!0,16,14,24,10,1),new bE(!1,18,14,16,16,1),new bE(!1,22,18,18,18,1),new bE(!0,22,18,16,10,2),new bE(!1,30,20,20,20,1),new bE(!0,32,24,16,14,2),new bE(!1,36,24,22,22,1),new bE(!1,44,28,24,24,1),new bE(!0,49,28,22,14,2),new bE(!1,62,36,14,14,4),new bE(!1,86,42,16,16,4),new bE(!1,114,48,18,18,4),new bE(!1,144,56,20,20,4),new bE(!1,174,68,22,22,4),new bE(!1,204,84,24,24,4,102,42),new bE(!1,280,112,14,14,16,140,56),new bE(!1,368,144,16,16,16,92,36),new bE(!1,456,192,18,18,16,114,48),new bE(!1,576,224,20,20,16,144,56),new bE(!1,696,272,22,22,16,174,68),new bE(!1,816,336,24,24,16,136,56),new bE(!1,1050,408,18,18,36,175,68),new bE(!1,1304,496,20,20,36,163,62),new SE],TE=function(){function t(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var e=t.split("").map((function(t){return t.charCodeAt(0)})),n=new zd,r=0,o=e.length;r<o;r++){var i=String.fromCharCode(255&e[r]);if("?"===i&&"?"!==t.charAt(r))throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(i)}this.msg=n.toString(),this.shape=0,this.codewords=new zd,this.newEncoding=-1}return t.prototype.setSymbolShape=function(t){this.shape=t},t.prototype.setSizeConstraints=function(t,e){this.minSize=t,this.maxSize=e},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(t){this.codewords.append(t)},t.prototype.writeCodeword=function(t){this.codewords.append(t)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(t){this.newEncoding=t},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(t){void 0===t&&(t=this.getCodewordCount()),(null==this.symbolInfo||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=AE.lookup(t,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),NE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return NE(e,t),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(t){for(var e=new zd;t.hasMoreCharacters();){var n=t.getCurrentChar();if(t.pos++,this.encodeChar(n,e),e.length()%3===0)if(this.writeNextTriplet(t,e),ME.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}this.handleEOD(t,e)},e.prototype.encodeChar=function(t,e){switch(t){case 13:e.append(0);break;case"*".charCodeAt(0):e.append(1);break;case">".charCodeAt(0):e.append(2);break;case" ".charCodeAt(0):e.append(3);break;default:t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)?e.append(t-48+4):t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?e.append(t-65+14):ME.illegalCharacter(jd.getCharAt(t))}return 1},e.prototype.handleEOD=function(t,e){t.updateSymbolInfo();var n=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),r=e.length();t.pos-=r,(t.getRemainingCharacters()>1||n>1||t.getRemainingCharacters()!==n)&&t.writeCodeword(254),t.getNewEncoding()<0&&t.signalEncoderChange(0)},e}(wE),OE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return OE(e,t),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(t,e){if(t===" ".charCodeAt(0))return e.append(3),1;if(t>="0".charCodeAt(0)&&t<="9".charCodeAt(0))return e.append(t-48+4),1;if(t>="a".charCodeAt(0)&&t<="z".charCodeAt(0))return e.append(t-97+14),1;if(t<" ".charCodeAt(0))return e.append(0),e.append(t),2;if(t<="/".charCodeAt(0))return e.append(1),e.append(t-33),2;if(t<="@".charCodeAt(0))return e.append(1),e.append(t-58+15),2;if(t>="[".charCodeAt(0)&&t<="_".charCodeAt(0))return e.append(1),e.append(t-91+22),2;if(t==="`".charCodeAt(0))return e.append(2),e.append(0),2;if(t<="Z".charCodeAt(0))return e.append(2),e.append(t-65+1),2;if(t<=127)return e.append(2),e.append(t-123+27),2;e.append("1\x1e");var n=2;return n+=this.encodeChar(t-128,e)},e}(wE),xE=function(){function t(){}return t.randomize253State=function(t){var e=129+(149*t%253+1);return e<=254?e:e-254},t.encodeHighLevel=function(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i=new wE,a=[new yE,i,new DE,new RE,new EE,new vE],s=new TE(t);s.setSymbolShape(e),s.setSizeConstraints(n,r),t.startsWith(fE)&&t.endsWith(pE)?(s.writeCodeword(236),s.setSkipAtEnd(2),s.pos+=7):t.startsWith(dE)&&t.endsWith(pE)&&(s.writeCodeword(237),s.setSkipAtEnd(2),s.pos+=7);var u=0;for(o&&(i.encodeMaximal(s),u=s.getNewEncoding(),s.resetEncoderSignal());s.hasMoreCharacters();)a[u].encode(s),s.getNewEncoding()>=0&&(u=s.getNewEncoding(),s.resetEncoderSignal());var l=s.getCodewordCount();s.updateSymbolInfo();var c=s.getSymbolInfo().getDataCapacity();l<c&&0!==u&&5!==u&&4!==u&&s.writeCodeword("\xfe");var h=s.getCodewords();for(h.length()<c&&h.append(129);h.length()<c;)h.append(this.randomize253State(h.length()+1));return s.getCodewords().toString()},t.lookAheadTest=function(t,e,n){var r=this.lookAheadTestIntern(t,e,n);if(3===n&&3===r){for(var o=Math.min(e+3,t.length),i=e;i<o;i++)if(!this.isNativeX12(t.charCodeAt(i)))return 0}else if(4===n&&4===r)for(o=Math.min(e+4,t.length),i=e;i<o;i++)if(!this.isNativeEDIFACT(t.charCodeAt(i)))return 0;return r},t.lookAheadTestIntern=function(t,e,n){if(e>=t.length)return n;var r;0===n?r=[0,1,1,1,1,1.25]:(r=[1,2,2,2,2,2.25])[n]=0;for(var o=0,i=new Uint8Array(6),a=[];;){if(e+o===t.length){Sd.fill(i,0),Sd.fill(a,0);var s=this.findMinimums(r,a,Td.MAX_VALUE,i),u=this.getMinimumCount(i);if(a[0]===s)return 0;if(1===u){if(i[5]>0)return 5;if(i[4]>0)return 4;if(i[2]>0)return 2;if(i[3]>0)return 3}return 1}var l=t.charCodeAt(e+o);if(o++,this.isDigit(l)?r[0]+=.5:this.isExtendedASCII(l)?(r[0]=Math.ceil(r[0]),r[0]+=2):(r[0]=Math.ceil(r[0]),r[0]++),this.isNativeC40(l)?r[1]+=2/3:this.isExtendedASCII(l)?r[1]+=8/3:r[1]+=4/3,this.isNativeText(l)?r[2]+=2/3:this.isExtendedASCII(l)?r[2]+=8/3:r[2]+=4/3,this.isNativeX12(l)?r[3]+=2/3:this.isExtendedASCII(l)?r[3]+=13/3:r[3]+=10/3,this.isNativeEDIFACT(l)?r[4]+=3/4:this.isExtendedASCII(l)?r[4]+=4.25:r[4]+=3.25,this.isSpecialB256(l)?r[5]+=4:r[5]++,o>=4){if(Sd.fill(i,0),Sd.fill(a,0),this.findMinimums(r,a,Td.MAX_VALUE,i),a[0]<this.min(a[5],a[1],a[2],a[3],a[4]))return 0;if(a[5]<a[0]||a[5]+1<this.min(a[1],a[2],a[3],a[4]))return 5;if(a[4]+1<this.min(a[5],a[1],a[2],a[3],a[0]))return 4;if(a[2]+1<this.min(a[5],a[1],a[4],a[3],a[0]))return 2;if(a[3]+1<this.min(a[5],a[1],a[4],a[2],a[0]))return 3;if(a[1]+1<this.min(a[0],a[5],a[4],a[2])){if(a[1]<a[3])return 1;if(a[1]===a[3]){for(var c=e+o+1;c<t.length;){var h=t.charCodeAt(c);if(this.isX12TermSep(h))return 3;if(!this.isNativeX12(h))break;c++}return 1}}}}},t.min=function(t,e,n,r,o){var i=Math.min(t,Math.min(e,Math.min(n,r)));return void 0===o?i:Math.min(i,o)},t.findMinimums=function(t,e,n,r){for(var o=0;o<6;o++){var i=e[o]=Math.ceil(t[o]);n>i&&(n=i,Sd.fill(r,0)),n===i&&(r[o]=r[o]+1)}return n},t.getMinimumCount=function(t){for(var e=0,n=0;n<6;n++)e+=t[n];return e||0},t.isDigit=function(t){return t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)},t.isExtendedASCII=function(t){return t>=128&&t<=255},t.isNativeC40=function(t){return t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)},t.isNativeText=function(t){return t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)},t.isNativeX12=function(t){return this.isX12TermSep(t)||t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)},t.isX12TermSep=function(t){return 13===t||t==="*".charCodeAt(0)||t===">".charCodeAt(0)},t.isNativeEDIFACT=function(t){return t>=" ".charCodeAt(0)&&t<="^".charCodeAt(0)},t.isSpecialB256=function(t){return!1},t.determineConsecutiveDigitCount=function(t,e){void 0===e&&(e=0);for(var n=t.length,r=e;r<n&&this.isDigit(t.charCodeAt(r));)r++;return r-e},t.illegalCharacter=function(t){var e=Td.toHexString(t.charCodeAt(0));throw e="0000".substring(0,4-e.length)+e,new Error("Illegal character: "+t+" (0x"+e+")")},t}();const ME=xE;var kE,PE=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LE=function(){function t(t){this.charset=t,this.name=t.name}return t.prototype.canEncode=function(t){try{return null!=Ud.encode(t,this.charset)}catch(e){return!1}},t}(),BE=function(){function t(t,e,n){var r,o,i,a,s,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map((function(t){return new LE(nE.forName(t))})),this.encoders=[];var l=[];l.push(new LE(rE.ISO_8859_1));for(var c=null!=e&&e.name.startsWith("UTF"),h=0;h<t.length;h++){var f=!1;try{for(var d=(r=void 0,PE(l)),p=d.next();!p.done;p=d.next()){var g=p.value,m=t.charAt(h);if(m.charCodeAt(0)===n||g.canEncode(m)){f=!0;break}}}catch(b){r={error:b}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}if(!f)try{for(var y=(i=void 0,PE(this.ENCODERS)),v=y.next();!v.done;v=y.next()){if((g=v.value).canEncode(t.charAt(h))){l.push(g),f=!0;break}}}catch(A){i={error:A}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}f||(c=!0)}if(1!==l.length||c){this.encoders=[];var w=0;try{for(var E=PE(l),C=E.next();!C.done;C=E.next()){g=C.value;this.encoders[w++]=g}}catch(S){s={error:S}}finally{try{C&&!C.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}else this.encoders=[l[0]];var _=-1;if(null!=e)for(h=0;h<this.encoders.length;h++)if(null!=this.encoders[h]&&e.name===this.encoders[h].name){_=h;break}this.priorityEncoderIndex=_}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},t.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},t.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return Ud.encode(jd.getCharAt(t),this.encoders[e].name)},t}(),FE=function(){function t(t,e,n){this.fnc1=n;var r=new BE(t,e,n);if(1===r.length())for(var o=0;o<this.bytes.length;o++){var i=t.charAt(o).charCodeAt(0);this.bytes[o]=i===n?1e3:i}else this.bytes=this.encodeMinimally(t,r,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(t,e){if(t+e-1>=this.bytes.length)return!1;for(var n=0;n<e;n++)if(this.isECI(t+n))return!1;return!0},t.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},t.prototype.subSequence=function(t,e){if(t<0||t>e||e>this.length())throw new Error(""+t);for(var n=new zd,r=t;r<e;r++){if(this.isECI(r))throw new Error("value at "+r+" is not a character but an ECI");n.append(this.charAt(r))}return n.toString()},t.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},t.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return 1e3===this.bytes[t]},t.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},t.prototype.addEdge=function(t,e,n){(null==t[e][n.encoderIndex]||t[e][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(t[e][n.encoderIndex]=n)},t.prototype.addEdges=function(t,e,n,r,o,i){var a=t.charAt(r).charCodeAt(0),s=0,u=e.length();e.getPriorityEncoderIndex()>=0&&(a===i||e.canEncode(a,e.getPriorityEncoderIndex()))&&(u=(s=e.getPriorityEncoderIndex())+1);for(var l=s;l<u;l++)(a===i||e.canEncode(a,l))&&this.addEdge(n,r+1,new VE(a,e,l,o,i))},t.prototype.encodeMinimally=function(t,e,n){var r=t.length,o=new(VE[r+1][e.length()]);this.addEdges(t,e,o,0,null,n);for(var i=1;i<=r;i++){for(var a=0;a<e.length();a++)null!=o[i][a]&&i<r&&this.addEdges(t,e,o,i,o[i][a],n);for(a=0;a<e.length();a++)o[i-1][a]=null}var s=-1,u=Td.MAX_VALUE;for(a=0;a<e.length();a++)if(null!=o[r][a]){var l=o[r][a];l.cachedTotalSize<u&&(u=l.cachedTotalSize,s=a)}if(s<0)throw new Error('Failed to encode "'+t+'"');for(var c=[],h=o[r][s];null!=h;){if(h.isFNC1())c.unshift(1e3);else{var f=e.encode(h.c,h.encoderIndex);for(i=f.length-1;i>=0;i--)c.unshift(255&f[i])}(null===h.previous?0:h.previous.encoderIndex)!==h.encoderIndex&&c.unshift(256+e.getECIValue(h.encoderIndex)),h=h.previous}var d=[];for(i=0;i<d.length;i++)d[i]=c[i];return d},t}(),VE=function(){function t(t,e,n,r,o){this.c=t,this.encoderSet=e,this.encoderIndex=n,this.previous=r,this.fnc1=o,this.c=t===o?1e3:t;var i=this.isFNC1()?1:e.encode(t,n).length;(null===r?0:r.encoderIndex)!==n&&(i+=3),null!=r&&(i+=r.cachedTotalSize),this.cachedTotalSize=i}return t.prototype.isFNC1=function(){return 1e3===this.c},t}(),UE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jE=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zE=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},HE=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zE(arguments[e]));return t};!function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"}(kE||(kE={}));var GE=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],WE=function(){function t(){}return t.isExtendedASCII=function(t,e){return t!==e&&t>=128&&t<=255},t.isInC40Shift1Set=function(t){return t<=31},t.isInC40Shift2Set=function(t,e){var n,r;try{for(var o=jE(GE),i=o.next();!i.done;i=o.next()){if(i.value.charCodeAt(0)===t)return!0}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t===e},t.isInTextShift1Set=function(t){return this.isInC40Shift1Set(t)},t.isInTextShift2Set=function(t,e){return this.isInC40Shift2Set(t,e)},t.encodeHighLevel=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=-1),void 0===r&&(r=0);var o=0;return t.startsWith(fE)&&t.endsWith(pE)?(o=5,t=t.substring(7,t.length-2)):t.startsWith(dE)&&t.endsWith(pE)&&(o=6,t=t.substring(7,t.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,HE(this.encode(t,e,n,r,o)))))},t.encode=function(t,e,n,r,o){return this.encodeMinimally(new qE(t,e,n,r,o)).getBytes()},t.addEdge=function(t,e){var n=e.fromPosition+e.characterLength;(null===t[n][e.getEndMode()]||t[n][e.getEndMode()].cachedTotalSize>e.cachedTotalSize)&&(t[n][e.getEndMode()]=e)},t.getNumberOfC40Words=function(e,n,r,o){for(var i=0,a=n;a<e.length();a++){if(e.isECI(a))return o[0]=0,0;var s=e.charAt(a);if(r&&ME.isNativeC40(s)||!r&&ME.isNativeText(s))i++;else if(t.isExtendedASCII(s,e.getFNC1Character())){var u=255&s;u>=128&&(r&&ME.isNativeC40(u-128)||!r&&ME.isNativeText(u-128))?i+=3:i+=4}else i+=2;if(i%3===0||(i-2)%3===0&&a+1===e.length())return o[0]=a-n+1,Math.ceil(i/3)}return o[0]=0,0},t.addEdges=function(e,n,r,o){var i,a;if(e.isECI(r))this.addEdge(n,new $E(e,kE.ASCII,r,1,o));else{var s,u=e.charAt(r);if(null===o||o.getEndMode()!==kE.EDF){ME.isDigit(u)&&e.haveNCharacters(r,2)&&ME.isDigit(e.charAt(r+1))?this.addEdge(n,new $E(e,kE.ASCII,r,2,o)):this.addEdge(n,new $E(e,kE.ASCII,r,1,o));var l=[kE.C40,kE.TEXT];try{for(var c=jE(l),h=c.next();!h.done;h=c.next()){var f=h.value,d=[];t.getNumberOfC40Words(e,r,f===kE.C40,d)>0&&this.addEdge(n,new $E(e,f,r,d[0],o))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}e.haveNCharacters(r,3)&&ME.isNativeX12(e.charAt(r))&&ME.isNativeX12(e.charAt(r+1))&&ME.isNativeX12(e.charAt(r+2))&&this.addEdge(n,new $E(e,kE.X12,r,3,o)),this.addEdge(n,new $E(e,kE.B256,r,1,o))}for(s=0;s<3;s++){var p=r+s;if(!e.haveNCharacters(p,1)||!ME.isNativeEDIFACT(e.charAt(p)))break;this.addEdge(n,new $E(e,kE.EDF,r,s+1,o))}3===s&&e.haveNCharacters(r,4)&&ME.isNativeEDIFACT(e.charAt(r+3))&&this.addEdge(n,new $E(e,kE.EDF,r,4,o))}},t.encodeMinimally=function(t){var e=t.length(),n=Array(e+1).fill(null).map((function(){return Array(6).fill(0)}));this.addEdges(t,n,0,null);for(var r=1;r<=e;r++){for(var o=0;o<6;o++)null!==n[r][o]&&r<e&&this.addEdges(t,n,r,n[r][o]);for(o=0;o<6;o++)n[r-1][o]=null}var i=-1,a=Td.MAX_VALUE;for(o=0;o<6;o++)if(null!==n[e][o]){var s=n[e][o],u=o>=1&&o<=3?s.cachedTotalSize+1:s.cachedTotalSize;u<a&&(a=u,i=o)}if(i<0)throw new Error('Failed to encode "'+t+'"');return new XE(n[e][i])},t}(),XE=function(){function t(t){var e=t.input,n=0,r=[],o=[],i=[];t.mode!==kE.C40&&t.mode!==kE.TEXT&&t.mode!==kE.X12||t.getEndMode()===kE.ASCII||(n+=this.prepend($E.getBytes(254),r));for(var a=t;null!==a;)n+=this.prepend(a.getDataBytes(),r),null!==a.previous&&a.getPreviousStartMode()===a.getMode()||(a.getMode()===kE.B256&&(n<=249?(r.unshift(n),n++):(r.unshift(n%250),r.unshift(n/250+249),n+=2),o.push(r.length),i.push(n)),this.prepend(a.getLatchBytes(),r),n=0),a=a.previous;5===e.getMacroId()?n+=this.prepend($E.getBytes(236),r):6===e.getMacroId()&&(n+=this.prepend($E.getBytes(237),r)),e.getFNC1Character()>0&&(n+=this.prepend($E.getBytes(232),r));for(var s=0;s<o.length;s++)this.applyRandomPattern(r,r.length-o[s],i[s]);var u=t.getMinSymbolSize(r.length);for(r.length<u&&r.push(129);r.length<u;)r.push(this.randomize253State(r.length+1));this.bytes=new Uint8Array(r.length);for(s=0;s<this.bytes.length;s++)this.bytes[s]=r[s]}return t.prototype.prepend=function(t,e){for(var n=t.length-1;n>=0;n--)e.unshift(t[n]);return t.length},t.prototype.randomize253State=function(t){var e=129+(149*t%253+1);return e<=254?e:e-254},t.prototype.applyRandomPattern=function(t,e,n){for(var r=0;r<n;r++){var o=e+r,i=(255&t[o])+(149*(o+1)%255+1);t[o]=i<=255?i:i-256}},t.prototype.getBytes=function(){return this.bytes},t}(),$E=function(){function t(t,e,n,r,o){if(this.input=t,this.mode=e,this.fromPosition=n,this.characterLength=r,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(n+r<=t.length()))throw new Error("Invalid edge");var i=null!==o?o.cachedTotalSize:0,a=this.getPreviousMode();switch(e){case kE.ASCII:i++,(t.isECI(n)||WE.isExtendedASCII(t.charAt(n),t.getFNC1Character()))&&i++,a!==kE.C40&&a!==kE.TEXT&&a!==kE.X12||i++;break;case kE.B256:i++,(a!==kE.B256||250===this.getB256Size())&&i++,a===kE.ASCII?i++:a!==kE.C40&&a!==kE.TEXT&&a!==kE.X12||(i+=2);break;case kE.C40:case kE.TEXT:case kE.X12:if(e===kE.X12)i+=2;else{i+=2*WE.getNumberOfC40Words(t,n,e===kE.C40,[])}a===kE.ASCII||a===kE.B256?i++:a===e||a!==kE.C40&&a!==kE.TEXT&&a!==kE.X12||(i+=2);break;case kE.EDF:i+=3,a===kE.ASCII||a===kE.B256?i++:a!==kE.C40&&a!==kE.TEXT&&a!==kE.X12||(i+=2)}this.cachedTotalSize=i}return t.prototype.getB256Size=function(){for(var t=0,e=this;null!==e&&e.mode===kE.B256&&t<=250;)t++,e=e.previous;return t},t.prototype.getPreviousStartMode=function(){return null===this.previous?kE.ASCII:this.previous.mode},t.prototype.getPreviousMode=function(){return null===this.previous?kE.ASCII:this.previous.getEndMode()},t.prototype.getEndMode=function(){if(this.mode===kE.EDF){if(this.characterLength<4)return kE.ASCII;if((t=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+t)<=2-t)return kE.ASCII}if(this.mode===kE.C40||this.mode===kE.TEXT||this.mode===kE.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return kE.ASCII;var t;if(1===(t=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return kE.ASCII}return this.mode},t.prototype.getMode=function(){return this.mode},t.prototype.getLastASCII=function(){var t=this.input.length(),e=this.fromPosition+this.characterLength;return t-e>4||e>=t?0:t-e===1?WE.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?0:1:t-e===2?WE.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())||WE.isExtendedASCII(this.input.charAt(e+1),this.input.getFNC1Character())?0:ME.isDigit(this.input.charAt(e))&&ME.isDigit(this.input.charAt(e+1))?1:2:t-e===3?ME.isDigit(this.input.charAt(e))&&ME.isDigit(this.input.charAt(e+1))&&!WE.isExtendedASCII(this.input.charAt(e+2),this.input.getFNC1Character())||ME.isDigit(this.input.charAt(e+1))&&ME.isDigit(this.input.charAt(e+2))&&!WE.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?2:0:ME.isDigit(this.input.charAt(e))&&ME.isDigit(this.input.charAt(e+1))&&ME.isDigit(this.input.charAt(e+2))&&ME.isDigit(this.input.charAt(e+3))?2:0},t.prototype.getMinSymbolSize=function(t){var e,n,r,o,i,a;switch(this.input.getShapeHint()){case 1:try{for(var s=jE(this.squareCodewordCapacities),u=s.next();!u.done;u=s.next()){if((d=u.value)>=t)return d}}catch(p){e={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}break;case 2:try{for(var l=jE(this.rectangularCodewordCapacities),c=l.next();!c.done;c=l.next()){if((d=c.value)>=t)return d}}catch(g){r={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}try{for(var h=jE(this.allCodewordCapacities),f=h.next();!f.done;f=h.next()){var d;if((d=f.value)>=t)return d}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},t.prototype.getCodewordsRemaining=function(t){return this.getMinSymbolSize(t)-t},t.getBytes=function(t,e){var n=new Uint8Array(e?2:1);return n[0]=t,e&&(n[1]=e),n},t.prototype.setC40Word=function(t,e,n,r,o){var i=1600*(255&n)+40*(255&r)+(255&o)+1;t[e]=i/256,t[e+1]=i%256},t.prototype.getX12Value=function(t){return 13===t?0:42===t?1:62===t?2:32===t?3:t>=48&&t<=57?t-44:t>=65&&t<=90?t-51:t},t.prototype.getX12Words=function(){if(this.characterLength%3!==0)throw new Error("X12 words must be a multiple of 3");for(var t=new Uint8Array(this.characterLength/3*2),e=0;e<t.length;e+=2)this.setC40Word(t,e,this.getX12Value(this.input.charAt(this.fromPosition+e/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+2)));return t},t.prototype.getShiftValue=function(t,e,n){return e&&WE.isInC40Shift1Set(t)||!e&&WE.isInTextShift1Set(t)?0:e&&WE.isInC40Shift2Set(t,n)||!e&&WE.isInTextShift2Set(t,n)?1:2},t.prototype.getC40Value=function(t,e,n,r){if(n===r){if(2!==e)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return t?n<=31?n:32===n?3:n<=47?n-33:n<=57?n-44:n<=64?n-43:n<=90?n-51:n<=95?n-69:n<=127?n-96:n:0===n?0:0===e&&n<=3?n-1:1===e&&n<=31?n:32===n?3:n>=33&&n<=47?n-33:n>=48&&n<=57?n-44:n>=58&&n<=64?n-43:n>=65&&n<=90?n-64:n>=91&&n<=95?n-69:96===n?0:n>=97&&n<=122?n-83:n>=123&&n<=127?n-96:n},t.prototype.getC40Words=function(t,e){for(var n=[],r=0;r<this.characterLength;r++){var o=this.input.charAt(this.fromPosition+r);if(t&&ME.isNativeC40(o)||!t&&ME.isNativeText(o))n.push(this.getC40Value(t,0,o,e));else if(WE.isExtendedASCII(o,e)){var i=(255&o)-128;if(t&&ME.isNativeC40(i)||!t&&ME.isNativeText(i))n.push(1),n.push(30),n.push(this.getC40Value(t,0,i,e));else{n.push(1),n.push(30);a=this.getShiftValue(i,t,e);n.push(a),n.push(this.getC40Value(t,a,i,e))}}else{var a=this.getShiftValue(o,t,e);n.push(a),n.push(this.getC40Value(t,a,o,e))}}if(n.length%3!==0){if((n.length-2)%3!==0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");n.push(0)}var s=new Uint8Array(n.length/3*2),u=0;for(r=0;r<n.length;r+=3)this.setC40Word(s,u,255&n[r],255&n[r+1],255&n[r+2]),u+=2;return s},t.prototype.getEDFBytes=function(){for(var t=Math.ceil(this.characterLength/4),e=new Uint8Array(3*t),n=this.fromPosition,r=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<t;o+=3){for(var i=[],a=0;a<4;a++)i[a]=n<=r?63&this.input.charAt(n++):n===r+1?31:0;var s=i[0]<<18;s|=i[1]<<12,s|=i[2]<<6,s|=i[3],e[o]=s>>16&255,e[o+1]=s>>8&255,e[o+2]=255&s}return e},t.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case kE.ASCII:case kE.B256:switch(this.mode){case kE.B256:return t.getBytes(231);case kE.C40:return t.getBytes(230);case kE.TEXT:return t.getBytes(239);case kE.X12:return t.getBytes(238);case kE.EDF:return t.getBytes(240)}break;case kE.C40:case kE.TEXT:case kE.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case kE.ASCII:return t.getBytes(254);case kE.B256:return t.getBytes(254,231);case kE.C40:return t.getBytes(254,230);case kE.TEXT:return t.getBytes(254,239);case kE.X12:return t.getBytes(254,238);case kE.EDF:return t.getBytes(254,240)}break;case kE.EDF:if(this.mode!==kE.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},t.prototype.getDataBytes=function(){switch(this.mode){case kE.ASCII:return this.input.isECI(this.fromPosition)?t.getBytes(241,this.input.getECIValue(this.fromPosition)+1):WE.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?t.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?t.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?t.getBytes(232):t.getBytes(this.input.charAt(this.fromPosition)+1);case kE.B256:return t.getBytes(this.input.charAt(this.fromPosition));case kE.C40:return this.getC40Words(!0,this.input.getFNC1Character());case kE.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case kE.X12:return this.getX12Words();case kE.EDF:return this.getEDFBytes()}},t}(),qE=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r)||this;return a.shape=o,a.macroId=i,a}return UE(e,t),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e}(FE);!function(){function t(){}t.prototype.encode=function(t,e,n,r,o){if(void 0===o&&(o=null),""===t.trim())throw new Error("Found empty contents");if(e!==fp.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+e);if(n<0||r<0)throw new Error("Requested dimensions can't be negative: "+n+"x"+r);var i,a=0,s=null,u=null;if(null!=o){var l=o.get(Pw.DATA_MATRIX_SHAPE);null!=l&&(a=l);var c=o.get(Pw.MIN_SIZE);null!=c&&(s=c);var h=o.get(Pw.MAX_SIZE);null!=h&&(u=h)}if(null!=o&&o.has(Pw.DATA_MATRIX_COMPACT)&&Boolean(o.get(Pw.DATA_MATRIX_COMPACT).toString())){var f=o.has(Pw.GS1_FORMAT)&&Boolean(o.get(Pw.GS1_FORMAT).toString()),d=null;o.has(Pw.CHARACTER_SET)&&(d=nE.forName(o.get(Pw.CHARACTER_SET).toString())),i=WE.encodeHighLevel(t,d,f?29:-1,a)}else{var p=null!=o&&o.has(Pw.FORCE_C40)&&Boolean(o.get(Pw.FORCE_C40).toString());i=ME.encodeHighLevel(t,a,s,u,p)}var g=AE.lookup(i.length,a,s,u,!0),m=mE.encodeECC200(i,g),y=new iE(m,g.getSymbolDataWidth(),g.getSymbolDataHeight());return y.place(),this.encodeLowLevel(y,g,n,r)},t.prototype.encodeLowLevel=function(t,e,n,r){for(var o=e.getSymbolDataWidth(),i=e.getSymbolDataHeight(),a=new jw(e.getSymbolWidth(),e.getSymbolHeight()),s=0,u=0;u<i;u++){var l=void 0;if(u%e.matrixHeight===0){l=0;for(var c=0;c<e.getSymbolWidth();c++)a.setBoolean(l,s,c%2===0),l++;s++}l=0;for(c=0;c<o;c++)c%e.matrixWidth===0&&(a.setBoolean(l,s,!0),l++),a.setBoolean(l,s,t.getBit(c,u)),l++,c%e.matrixWidth===e.matrixWidth-1&&(a.setBoolean(l,s,u%2===0),l++);if(s++,u%e.matrixHeight===e.matrixHeight-1){l=0;for(c=0;c<e.getSymbolWidth();c++)a.setBoolean(l,s,!0),l++;s++}}return this.convertByteMatrixToBitMatrix(a,n,r)},t.prototype.convertByteMatrixToBitMatrix=function(t,e,n){var r,o=t.getWidth(),i=t.getHeight(),a=Math.max(e,o),s=Math.max(n,i),u=Math.min(a/o,s/i),l=(a-o*u)/2,c=(s-i*u)/2;n<i||e<o?(l=0,c=0,r=new Gd(o,i)):r=new Gd(e,n),r.clear();for(var h=0,f=c;h<i;h++,f+=u)for(var d=0,p=l;d<o;d++,p+=u)1===t.get(d,h)&&r.setRegion(p,f,u,u);return r}}();const KE=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(t){this.compact=t},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(t){this.size=t},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(t){this.layers=t},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(t){this.codeWords=t},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(t){this.matrix=t},t}();var YE=function(){function t(){}return t.singletonList=function(t){return[t]},t.min=function(t,e){return t.sort(e)[0]},t}();const QE=YE;const ZE=function(){function t(t){this.previous=t}return t.prototype.getPrevious=function(){return this.previous},t}();var JE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tC=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.value=n,o.bitCount=r,o}return JE(e,t),e.prototype.appendTo=function(t,e){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Td.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(ZE);var eC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const nC=function(t){function e(e,n,r){var o=t.call(this,e,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=r,o}return eC(e,t),e.prototype.appendTo=function(t,e){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):0===n?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+n],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(tC);function rC(t,e,n){return new tC(t,e,n)}var oC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],iC=new tC(null,0,0),aC=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],sC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var uC=function(t){var e,n;try{for(var r=sC(t),o=r.next();!o.done;o=r.next()){var i=o.value;Sd.fill(i,-1)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15,t}(Sd.createInt32Array(6,6)),lC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cC=function(){function t(t,e,n,r){this.token=t,this.mode=e,this.binaryShiftByteCount=n,this.bitCount=r}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,o=this.token;if(e!==this.mode){var i=aC[this.mode][e];o=rC(o,65535&i,i>>16),r+=i>>16}var a=2===e?4:5;return new t(o=rC(o,n,a),e,0,r+a)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,o=2===this.mode?4:5;return r=rC(r,uC[this.mode][e],o),new t(r=rC(r,n,5),this.mode,0,this.bitCount+o+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){var i=aC[r][0];n=rC(n,65535&i,i>>16),o+=i>>16,r=0}var a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,s=new t(n,r,this.binaryShiftByteCount+1,o+a);return 2078===s.binaryShiftByteCount&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new t(n=function(t,e,n){return new nC(t,e,n)}(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(aC[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(t){for(var e,n,r=[],o=this.endBinaryShift(t.length).token;null!==o;o=o.getPrevious())r.unshift(o);var i=new Rd;try{for(var a=lC(r),s=a.next();!s.done;s=a.next()){s.value.appendTo(i,t)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t.prototype.toString=function(){return jd.format("%s bits=%d bytes=%d",oC[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(iC,0,0,0),t}();const hC=cC;var fC=function(t){var e=jd.getCharCode(" "),n=jd.getCharCode("."),r=jd.getCharCode(",");t[0][e]=1;for(var o=jd.getCharCode("Z"),i=jd.getCharCode("A"),a=i;a<=o;a++)t[0][a]=a-i+2;t[1][e]=1;var s=jd.getCharCode("z"),u=jd.getCharCode("a");for(a=u;a<=s;a++)t[1][a]=a-u+2;t[2][e]=1;var l=jd.getCharCode("9"),c=jd.getCharCode("0");for(a=c;a<=l;a++)t[2][a]=a-c+2;t[2][r]=12,t[2][n]=13;for(var h=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],f=0;f<h.length;f++)t[3][jd.getCharCode(h[f])]=f;var d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(f=0;f<d.length;f++)jd.getCharCode(d[f])>0&&(t[4][jd.getCharCode(d[f])]=f);return t}(Sd.createInt32Array(5,256)),dC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pC=function(){function t(t){this.text=t}return t.prototype.encode=function(){for(var e=jd.getCharCode(" "),n=jd.getCharCode("\n"),r=QE.singletonList(hC.INITIAL_STATE),o=0;o<this.text.length;o++){var i=void 0,a=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case jd.getCharCode("\r"):i=a===n?2:0;break;case jd.getCharCode("."):i=a===e?3:0;break;case jd.getCharCode(","):i=a===e?4:0;break;case jd.getCharCode(":"):i=a===e?5:0;break;default:i=0}i>0?(r=t.updateStateListForPair(r,o,i),o++):r=this.updateStateListForChar(r,o)}var s=QE.min(r,(function(t,e){return t.getBitCount()-e.getBitCount()}));return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,o,i=[];try{for(var a=dC(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,n,i)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(t,e,n){for(var r=255&this.text[e],o=fC[t.getMode()][r]>0,i=null,a=0;a<=4;a++){var s=fC[a][r];if(s>0){if(null==i&&(i=t.endBinaryShift(e)),!o||a===t.getMode()||2===a){var u=i.latchAndAppend(a,s);n.push(u)}if(!o&&uC[t.getMode()][a]>=0){var l=i.shiftAndAppend(a,s);n.push(l)}}}if(t.getBinaryShiftByteCount()>0||0===fC[t.getMode()][r]){var c=t.addBinaryShiftChar(e);n.push(c)}},t.updateStateListForPair=function(t,e,n){var r,o,i=[];try{for(var a=dC(t),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForPair(u,e,n,i)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this.simplifyStates(i)},t.updateStateForPair=function(t,e,n,r){var o=t.endBinaryShift(e);if(r.push(o.latchAndAppend(4,n)),4!==t.getMode()&&r.push(o.shiftAndAppend(4,n)),3===n||4===n){var i=o.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(i)}if(t.getBinaryShiftByteCount()>0){var a=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);r.push(a)}},t.simplifyStates=function(t){var e,n,r,o,i=[];try{for(var a=dC(t),s=a.next();!s.done;s=a.next()){var u=s.value,l=!0,c=function(t){if(t.isBetterThanOrEqualTo(u))return l=!1,"break";u.isBetterThanOrEqualTo(t)&&(i=i.filter((function(e){return e!==t})))};try{for(var h=(r=void 0,dC(i)),f=h.next();!f.done;f=h.next()){if("break"===c(f.value))break}}catch(d){r={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}l&&i.push(u)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i},t}();const gC=pC;var mC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yC=function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var o,i,a,s,u,l=new gC(e).encode(),c=Td.truncDivision(l.getSize()*n,100)+11,h=l.getSize()+c;if(r!==t.DEFAULT_AZTEC_LAYERS){if(o=r<0,(i=Math.abs(r))>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new dd(jd.format("Illegal value %s for layers",r));var f=(a=t.totalBitsInLayer(i,o))-a%(s=t.WORD_SIZE[i]);if((u=t.stuffBits(l,s)).getSize()+c>f)throw new dd("Data to large for user specified layer");if(o&&u.getSize()>64*s)throw new dd("Data to large for user specified layer")}else{s=0,u=null;for(var d=0;;d++){if(d>t.MAX_NB_BITS)throw new dd("Data too large for an Aztec code");if(i=(o=d<=3)?d+1:d,!(h>(a=t.totalBitsInLayer(i,o)))){null!=u&&s===t.WORD_SIZE[i]||(s=t.WORD_SIZE[i],u=t.stuffBits(l,s));f=a-a%s;if(!(o&&u.getSize()>64*s)&&u.getSize()+c<=f)break}}}var p,g=t.generateCheckWords(u,a,s),m=u.getSize()/s,y=t.generateModeMessage(o,i,m),v=(o?11:14)+4*i,w=new Int32Array(v);if(o){p=v;for(d=0;d<w.length;d++)w[d]=d}else{p=v+1+2*Td.truncDivision(Td.truncDivision(v,2)-1,15);var E=Td.truncDivision(v,2),C=Td.truncDivision(p,2);for(d=0;d<E;d++){var _=d+Td.truncDivision(d,15);w[E-d-1]=C-_-1,w[E+d]=C+_+1}}for(var b=new Gd(p),A=(d=0,0);d<i;d++){for(var S=4*(i-d)+(o?9:12),I=0;I<S;I++)for(var T=2*I,N=0;N<2;N++)g.get(A+T+N)&&b.set(w[2*d+N],w[2*d+I]),g.get(A+2*S+T+N)&&b.set(w[2*d+I],w[v-1-2*d-N]),g.get(A+4*S+T+N)&&b.set(w[v-1-2*d-N],w[v-1-2*d-I]),g.get(A+6*S+T+N)&&b.set(w[v-1-2*d-I],w[2*d+N]);A+=8*S}if(t.drawModeMessage(b,o,p,y),o)t.drawBullsEye(b,Td.truncDivision(p,2),5);else{t.drawBullsEye(b,Td.truncDivision(p,2),7);for(d=0,I=0;d<Td.truncDivision(v,2)-1;d+=15,I+=16)for(N=1&Td.truncDivision(p,2);N<p;N+=2)b.set(Td.truncDivision(p,2)-I,N),b.set(Td.truncDivision(p,2)+I,N),b.set(N,Td.truncDivision(p,2)-I),b.set(N,Td.truncDivision(p,2)+I)}var R=new KE;return R.setCompact(o),R.setSize(p),R.setLayers(i),R.setCodeWords(m),R.setMatrix(b),R},t.drawBullsEye=function(t,e,n){for(var r=0;r<n;r+=2)for(var o=e-r;o<=e+r;o++)t.set(o,e-r),t.set(o,e+r),t.set(e-r,o),t.set(e+r,o);t.set(e-n,e-n),t.set(e-n+1,e-n),t.set(e-n,e-n+1),t.set(e+n,e-n),t.set(e+n,e-n+1),t.set(e+n,e+n-1)},t.generateModeMessage=function(e,n,r){var o=new Rd;return e?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=t.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=t.generateCheckWords(o,40,4)),o},t.drawModeMessage=function(t,e,n,r){var o=Td.truncDivision(n,2);if(e)for(var i=0;i<7;i++){var a=o-3+i;r.get(i)&&t.set(a,o-5),r.get(i+7)&&t.set(o+5,a),r.get(20-i)&&t.set(a,o+5),r.get(27-i)&&t.set(o-5,a)}else for(i=0;i<10;i++){a=o-5+i+Td.truncDivision(i,5);r.get(i)&&t.set(a,o-7),r.get(i+10)&&t.set(o+7,a),r.get(29-i)&&t.set(a,o+7),r.get(39-i)&&t.set(o-7,a)}},t.generateCheckWords=function(e,n,r){var o,i,a=e.getSize()/r,s=new Lw(t.getGF(r)),u=Td.truncDivision(n,r),l=t.bitsToWords(e,r,u);s.encode(l,u-a);var c=n%r,h=new Rd;h.appendBits(0,c);try{for(var f=mC(Array.from(l)),d=f.next();!d.done;d=f.next()){var p=d.value;h.appendBits(p,r)}}catch(g){o={error:g}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return h},t.bitsToWords=function(t,e,n){var r,o,i=new Int32Array(n);for(r=0,o=t.getSize()/e;r<o;r++){for(var a=0,s=0;s<e;s++)a|=t.get(r*e+s)?1<<e-s-1:0;i[r]=a}return i},t.getGF=function(t){switch(t){case 4:return Ap.AZTEC_PARAM;case 6:return Ap.AZTEC_DATA_6;case 8:return Ap.AZTEC_DATA_8;case 10:return Ap.AZTEC_DATA_10;case 12:return Ap.AZTEC_DATA_12;default:throw new dd("Unsupported word size "+t)}},t.stuffBits=function(t,e){for(var n=new Rd,r=t.getSize(),o=(1<<e)-2,i=0;i<r;i+=e){for(var a=0,s=0;s<e;s++)(i+s>=r||t.get(i+s))&&(a|=1<<e-1-s);(a&o)===o?(n.appendBits(a&o,e),i--):0===(a&o)?(n.appendBits(1|a,e),i--):n.appendBits(a,e)}return n},t.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t}();const vC=yC;!function(){function t(){}t.prototype.encode=function(t,e,n,r){return this.encodeWithHints(t,e,n,r,null)},t.prototype.encodeWithHints=function(e,n,r,o,i){var a=rE.ISO_8859_1,s=vC.DEFAULT_EC_PERCENT,u=vC.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(Pw.CHARACTER_SET)&&(a=nE.forName(i.get(Pw.CHARACTER_SET).toString())),i.has(Pw.ERROR_CORRECTION)&&(s=Td.parseInt(i.get(Pw.ERROR_CORRECTION).toString())),i.has(Pw.AZTEC_LAYERS)&&(u=Td.parseInt(i.get(Pw.AZTEC_LAYERS).toString()))),t.encodeLayers(e,n,r,o,a,s,u)},t.encodeLayers=function(e,n,r,o,i,a,s){if(n!==fp.AZTEC)throw new dd("Can only encode AZTEC, but got "+n);var u=vC.encode(jd.getBytes(e,i),a,s);return t.renderResult(u,r,o)},t.renderResult=function(t,e,n){var r=t.getMatrix();if(null==r)throw new Np;for(var o=r.getWidth(),i=r.getHeight(),a=Math.max(e,o),s=Math.max(n,i),u=Math.min(a/o,s/i),l=(a-o*u)/2,c=(s-i*u)/2,h=new Gd(a,s),f=0,d=c;f<i;f++,d+=u)for(var p=0,g=l;p<o;p++,g+=u)r.get(p,f)&&h.setRegion(g,d,u,u);return h}}();const wC=t=>{let{onScan:e,onError:n}=t;const o=(0,r.useRef)(null),i=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const t=new xw,r=o.current;return(async()=>{try{console.log("Requesting video stream...");const o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});r&&(r.srcObject=o,await r.play(),console.log("Video stream started.")),i.current||t.decodeFromVideoDevice(void 0,r,((t,r)=>{t&&(console.log("QR code detected:",t.getText()),e(t.getText())),!r||r instanceof Xd||(console.error("Decode error:",r),n(r))}))}catch(o){console.error("Error accessing video stream:",o),n(o)}})(),()=>{if(i.current=!0,t.reset(),r&&r.srcObject){r.srcObject.getTracks().forEach((t=>t.stop()))}}}),[e,n]),(0,xe.jsx)("div",{children:(0,xe.jsx)("video",{ref:o,style:{width:"100%"}})})};const EC=function(){const t=tt(),[e,n]=(0,r.useState)([]),[o,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{const t=await Sf();n(t);const e=localStorage.getItem("studentID"),r=await Promise.all(t.map((t=>Nf(t.id,e))));s(r.map(((e,n)=>e?t[n].id:null)).filter(Boolean))})()}),[]),(0,xe.jsxs)("div",{className:"dashboard-container full-page",children:[(0,xe.jsx)("div",{className:"analog-clock",children:(0,xe.jsx)("iframe",{src:"https://free.timeanddate.com/clock/i8bfr09r/n2338/tluk/fn16/fs24/fcfff/tct/pct/ftb/bls0/brt0/bas2/bac00/pa7",frameBorder:"0",width:"104",height:"104",title:"Analog Clock"})}),(0,xe.jsxs)("div",{className:"student-sidebar",children:[(0,xe.jsx)("h2",{children:"Available Courses"}),(0,xe.jsx)("div",{className:"course-list-grid",children:e.map((t=>(0,xe.jsxs)("div",{className:"course-section square-tile",onContextMenu:e=>{e.preventDefault(),a.includes(t.id)||(async t=>{const e=localStorage.getItem("studentID");e&&(await Af(t,{studentID:e}),s([...a,t]),alert("You have successfully joined the course!"))})(t.id)},onClick:()=>(t.id,void i(!0)),children:[(0,xe.jsx)("h3",{children:t.courseName}),a.includes(t.id)?(0,xe.jsx)("button",{className:"button disabled",children:"Course Joined"}):(0,xe.jsx)("button",{className:"button",children:"Join Course"})]},t.id)))})]}),(0,xe.jsxs)("div",{className:"dashboard-content",children:[(0,xe.jsx)("h2",{children:"Student Dashboard"}),o&&(0,xe.jsxs)("div",{className:"qr-scanner-container",children:[(0,xe.jsx)(wC,{onScan:t=>{console.log(t),i(!1)},onError:t=>{console.error(t),i(!1)}}),(0,xe.jsx)("button",{className:"button",onClick:()=>i(!1),children:"Close Scanner"})]})]}),(0,xe.jsxs)("div",{className:"navigation-buttons",children:[(0,xe.jsx)("button",{onClick:()=>t("/"),className:"nav-button",children:"Back"}),(0,xe.jsx)("button",{onClick:()=>t("/dashboard"),className:"nav-button previous-button",children:"Previous"})]})]})},CC="http://localhost:3001";const _C=function(){const[t,e]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[s,u]=(0,r.useState)(1);return(0,xe.jsx)("div",{className:"container",children:(0,xe.jsxs)("div",{className:"form password-reset",children:[1===s&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Enter your email to receive an OTP"}),(0,xe.jsx)("input",{className:"input-field",type:"email",value:t,onChange:t=>e(t.target.value),placeholder:"Email",required:!0}),(0,xe.jsx)("button",{className:"button",onClick:async()=>{try{await(async t=>{const e=await fetch(`${CC}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=await e.json();if(!e.ok)throw new Error(n.message||"Error sending OTP.");return n})(t),u(2)}catch(e){console.error("Error sending OTP:",e)}},children:"Send OTP"})]}),2===s&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Enter the OTP sent to your email"}),(0,xe.jsx)("input",{className:"input-field",type:"text",value:n,onChange:t=>o(t.target.value),placeholder:"OTP",required:!0}),(0,xe.jsx)("button",{className:"button",onClick:async()=>{try{await(async(t,e)=>{const n=await fetch(`${CC}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,otp:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Error verifying OTP.");return r})(t,n),u(3)}catch(e){console.error("Error verifying OTP:",e)}},children:"Verify OTP"})]}),3===s&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Enter your new password"}),(0,xe.jsx)("input",{className:"input-field",type:"password",value:i,onChange:t=>a(t.target.value),placeholder:"New Password",required:!0}),(0,xe.jsx)("button",{className:"button",onClick:async()=>{try{await(async(t,e)=>{const n=await fetch(`${CC}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Error resetting password.");return r})(t,i),alert("Password updated successfully")}catch(e){console.error("Error resetting password:",e)}},children:"Reset Password"})]})]})})};function bC(){const[t,e]=(0,r.useState)(null),[n,o]=(0,r.useState)([]),i=tt();(0,r.useEffect)((()=>{(async()=>{try{const t=await Sf();o(t)}catch(t){console.error("Failed to fetch courses:",t)}})()}),[]);const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(t),"student"===t?(localStorage.setItem("studentID",n),i("/studentDashboard")):"admin"===t&&(localStorage.setItem("staffID",n),i("/dashboard"))};return(0,xe.jsx)(me,{children:(0,xe.jsx)(De,{timeout:500,classNames:"slide",children:(0,xe.jsxs)(yt,{children:[(0,xe.jsx)(gt,{path:"/",element:(0,xe.jsx)(od,{})}),(0,xe.jsx)(gt,{path:"/login",element:(0,xe.jsx)(Me,{})}),(0,xe.jsx)(gt,{path:"/studentLogin",element:(0,xe.jsx)(Rf,{onLogin:t=>a("student",t)})}),(0,xe.jsx)(gt,{path:"/adminLogin",element:(0,xe.jsx)(Of,{onLogin:t=>a("admin",t)})}),(0,xe.jsx)(gt,{path:"/createStudentAccount",element:(0,xe.jsx)(Df,{})}),(0,xe.jsx)(gt,{path:"/createAdminAccount",element:(0,xe.jsx)(xf,{})}),(0,xe.jsx)(gt,{path:"/accountList",element:"admin"===t?(0,xe.jsx)(Mf,{}):(0,xe.jsx)(od,{})}),(0,xe.jsx)(gt,{path:"/courseList",element:"admin"===t?(0,xe.jsx)(kf,{courses:n}):(0,xe.jsx)(od,{})}),(0,xe.jsx)(gt,{path:"/dashboard",element:"admin"===t?(0,xe.jsx)(rd,{courses:n,addCourse:async t=>{await bf(t),o([...n,t])}}):(0,xe.jsx)(od,{})}),(0,xe.jsx)(gt,{path:"/studentDashboard",element:"student"===t?(0,xe.jsx)(EC,{courses:n}):(0,xe.jsx)(od,{})}),(0,xe.jsx)(gt,{path:"/passwordReset",element:(0,xe.jsx)(_C,{})})]})})})}const AC=function(){return(0,xe.jsx)(Qt,{basename:"/AttendanceGCTU",children:(0,xe.jsx)(bC,{})})},SC=document.getElementById("root");(0,o.H)(SC).render((0,xe.jsx)(r.StrictMode,{children:(0,xe.jsx)(AC,{})}))})();
//# sourceMappingURL=main.4d3e6fa1.js.map